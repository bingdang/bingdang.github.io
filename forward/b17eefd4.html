<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>Golang-指针、类型自定义、类型别名、结构体、json序列化、面向对象、包 | Maxbit</title><meta name="author" content="饼铛"><meta name="copyright" content="饼铛"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="指针指针地址、指针类型、指针取值 指针概念：任何程序数据载入内存后，在内存都有他们的地址，这就是指针。而为了保存一个数据在内存中的地址，我们就需要指针变量。 指针和地址的区别：  地址：就是内存地址(用字节来描述的内存地址)  指针：指针是带类型的   Go语言中的指针不能进行偏移和运算，因此Go语言中的指针操作非常简单，我们只需要记住两个符号：&amp;（取地址）和*（根据地址取值）。 Go语言">
<meta property="og:type" content="article">
<meta property="og:title" content="Golang-指针、类型自定义、类型别名、结构体、json序列化、面向对象、包">
<meta property="og:url" content="https://cakepanit.com/forward/b17eefd4.html">
<meta property="og:site_name" content="Maxbit">
<meta property="og:description" content="指针指针地址、指针类型、指针取值 指针概念：任何程序数据载入内存后，在内存都有他们的地址，这就是指针。而为了保存一个数据在内存中的地址，我们就需要指针变量。 指针和地址的区别：  地址：就是内存地址(用字节来描述的内存地址)  指针：指针是带类型的   Go语言中的指针不能进行偏移和运算，因此Go语言中的指针操作非常简单，我们只需要记住两个符号：&amp;（取地址）和*（根据地址取值）。 Go语言">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cakepanit.com/images/pasted-2.png">
<meta property="article:published_time" content="2021-02-15T13:32:00.000Z">
<meta property="article:modified_time" content="2024-07-17T04:04:18.000Z">
<meta property="article:author" content="饼铛">
<meta property="article:tag" content="Golang">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cakepanit.com/images/pasted-2.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://cakepanit.com/forward/b17eefd4.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/css/fei/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="/css/fei/fancybox.min.css" media="print" onload="this.media='all'"><script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: 'ca-pub-1372389585456420',
  enable_page_level_ads: 'true'
});</script><script data-pjax="" defer="" async="async" src="https://www.googletagmanager.com/gtag/js?id=G-0MFDY8HY5K"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-0MFDY8HY5K');
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":100,"languages":{"author":"作者: 饼铛","link":"链接: ","source":"来源: Maxbit","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: '/css/fei/fjGallery.min.js',
      css: '/css/fei/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Golang-指针、类型自定义、类型别名、结构体、json序列化、面向对象、包',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-07-17 12:04:18'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = url => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      link.onload = () => resolve()
      link.onerror = () => reject()
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://s1.hdslb.com/bfs/static/jinkela/long/font/regular.css"><link rel="stylesheet" href="/css/fei/swiper-bundle.min.css"><link rel="stylesheet" href="/css/fei/love.css"><script src="/css/fei/swiper-bundle.min.js"></script><script src="/css/fei/pace.min.js"></script><script src="/css/fei/echarts.min.js"></script><style type="text/css"> .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body { left: -66px !important; /* 默认情况下缩进左侧66px，只留一点箭头部分 */ }
.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover { left: 0 !important; /* 鼠标悬停是左侧缩进归零，完全显示按钮 */ } </style><script>const allowedDomain="cakepanit.com";const currentDomain=window.location.hostname;const currentPath=window.location.pathname;if(currentDomain!==allowedDomain){setTimeout(()=>{window.location.href="https://"+allowedDomain+currentPath},1)}</script></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">104</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">89</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-fw fas fa-book-open"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fa-fw fas fa-archive"></i><span> 文章列表</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fa-fw fas fa-shapes"></i><span> 全部分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa-fw fas fa-tags"></i><span> 所有标签</span></a></li><li><a class="site-page child" href="/charts/"><i class="fa-fw fa-fw fas fa-chart-line"></i><span> 文章统计</span></a></li><li><a class="site-page child" href="javascript:toRandomPost();"><i class="fa-fw fa-fw fas fa-random"></i><span> 随便看看</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-fw fas fa-link"></i><span> 导航</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fa-fw fas fa-child"></i><span> 友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fa-fw fas fa-address-card"></i><span> 关于本站</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 其他</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-file-image"></i><span> 收藏图库</span></a></li><li><a class="site-page child" href="/bookshelf/"><i class="fa-fw fas fa-bookmark"></i><span> 收藏书单</span></a></li><li><a class="site-page child" href="/status/"><i class="fa-fw fab fa-accessible-icon"></i><span> 站点监控</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://docs.cakepanit.com/"><i class="fa-fw fa fa-tasks"></i><span> 帮助文档</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://cmd.cakepanit.com/"><i class="fa-fw fa fa-sort-alpha-desc"></i><span> 命令查询</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/images/pasted-2.png')"><nav id="nav"><div id="nav-group"><span id="blog-info"> <a class="site-page" href="/" title="Maxbit"><span class="site-name">Maxbit</span><i class="fas fa-home"></i></a></span><span id="page_name"><a class="site-page" id="page-title" title="回到顶部" onclick="btf.scrollToDest(0, 500)"><span>Maxbit</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-fw fas fa-book-open"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fa-fw fas fa-archive"></i><span> 文章列表</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fa-fw fas fa-shapes"></i><span> 全部分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa-fw fas fa-tags"></i><span> 所有标签</span></a></li><li><a class="site-page child" href="/charts/"><i class="fa-fw fa-fw fas fa-chart-line"></i><span> 文章统计</span></a></li><li><a class="site-page child" href="javascript:toRandomPost();"><i class="fa-fw fa-fw fas fa-random"></i><span> 随便看看</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-fw fas fa-link"></i><span> 导航</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fa-fw fas fa-child"></i><span> 友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fa-fw fas fa-address-card"></i><span> 关于本站</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 其他</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-file-image"></i><span> 收藏图库</span></a></li><li><a class="site-page child" href="/bookshelf/"><i class="fa-fw fas fa-bookmark"></i><span> 收藏书单</span></a></li><li><a class="site-page child" href="/status/"><i class="fa-fw fab fa-accessible-icon"></i><span> 站点监控</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://docs.cakepanit.com/"><i class="fa-fw fa fa-tasks"></i><span> 帮助文档</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://cmd.cakepanit.com/"><i class="fa-fw fa fa-sort-alpha-desc"></i><span> 命令查询</span></a></li></ul></div></div></div><div id="hotkey"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索"><i class="fas fa-search fa-fw"></i></a></div><div id="setting-button" onclick="eurkon.switchRightSide();"><a class="site-page" href="javascript:void(0);" title="设置"><i class="fas fa-screwdriver-wrench fa-fw"></i></a></div><div id="top-button"><a class="site-page" href="javascript:void(0);" title="回到顶部" onclick="btf.scrollToDest(0, 500)"><span class="scroll-percent"></span><i class="fas fa-arrow-up fa-fw"></i></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-cover"><img class="cover" id="post-cover-img" src="/images/pasted-2.png" alt="cover"></div><div id="post-info"><div id="post-meta"><div class="meta-firstline"><span class="post-meta-categories"><i class="fas fa-shapes fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/DEV/">DEV</a></span><span class="post-meta-tags"><span class="post-meta-separator">|</span><i class="fas fa-tags fa-fw post-meta-icon"></i><a class="post-meta-tags" href="/tags/Golang/">📝Golang</a></span></div><h1 class="post-title">Golang-指针、类型自定义、类型别名、结构体、json序列化、面向对象、包</h1><div class="meta-secondline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-02-15T13:32:00.000Z" title="发表于 2021-02-15 21:32:00">2021-02-15</time></span><span class="post-meta-separator">|</span><span class="post-meta-date"><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-07-17T04:04:18.000Z" title="更新于 2024-07-17 12:04:18">2024-07-17</time></span><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">8k</span><span class="post-meta-separator">|</span></span><span class="post-meta-min2read"><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>32分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Golang-指针、类型自定义、类型别名、结构体、json序列化、面向对象、包"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div><div id="post"><article class="post-content" id="article-container"><h1 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h1><p>指针地址、指针类型、指针取值</p>
<p><strong>指针概念：</strong>任何程序数据载入内存后，在内存都有他们的地址，这就是指针。而为了保存一个数据在内存中的地址，我们就需要指针变量。</p>
<p>指针和地址的区别：</p>
<ul>
<li><p>地址：就是内存地址(用字节来描述的内存地址)</p>
</li>
<li><p>指针：指针是带类型的</p>
</li>
</ul>
<p>Go语言中的指针不能进行偏移和运算，因此Go语言中的指针操作非常简单，我们只需要记住两个符号：<code>&amp;</code>（取地址）和<code>*</code>（根据地址取值）。</p>
<p>Go语言中使用<code>&amp;</code>字符放在变量前面对变量进行“取地址”操作。 Go语言中的值类型（int、float、bool、string、array、struct）都有对应的指针类型，如：<code>*int</code>、<code>*int64</code>、<code>*string</code>等。</p>
<h2 id="指针取值"><a href="#指针取值" class="headerlink" title="指针取值"></a>指针取值</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="keyword">var</span> a <span class="type">int</span> = <span class="number">2</span></span><br><span class="line">	b := &amp;a <span class="comment">//取变量a的内存地址</span></span><br><span class="line">	fmt.Printf(<span class="string">"%T,%v\n"</span>,b,b)</span><br><span class="line"><span class="comment">//*int,0xc00000a0b0</span></span><br><span class="line">	fmt.Println(*b)</span><br><span class="line"> <span class="comment">//根据内存地址取值 //2</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>总结：</strong> 取地址操作符<code>&amp;</code>和取值操作符<code>*</code>是一对互补操作符，<code>&amp;</code>取出地址，<code>*</code>根据地址取出地址指向的值。</p>
<h2 id="指针传递"><a href="#指针传递" class="headerlink" title="指针传递"></a>指针传递</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">modify</span><span class="params">(A1 [4]<span class="type">int</span>)</span></span>{</span><br><span class="line">	A1[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	Array := [<span class="number">4</span>]<span class="type">int</span>{<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>} <span class="comment">//定义一个数组，数组为值类型</span></span><br><span class="line">	fmt.Println(Array) <span class="comment">//[1 2 3 4]</span></span><br><span class="line">	modify(Array)</span><br><span class="line">	fmt.Println(Array) <span class="comment">//[1 2 3 4]</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">modify</span><span class="params">(A1 *[4]<span class="type">int</span>)</span></span>{ <span class="comment">//对指针变量进行取值（*）操作，可以获得指针变量指向的原变量的值。</span></span><br><span class="line">	A1[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line"> <span class="comment">//语法糖简易写法</span></span><br><span class="line">    <span class="comment">//(*a1)[0] = 100 //正规写法</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	Array := [<span class="number">4</span>]<span class="type">int</span>{<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>} <span class="comment">//定义一个数组，数组为值类型</span></span><br><span class="line">	fmt.Println(Array) <span class="comment">//[1 2 3 4]</span></span><br><span class="line">	modify(&amp;Array) <span class="comment">//对变量进行取地址（&amp;）操作，可以获得这个变量的指针变量。</span></span><br><span class="line">	fmt.Println(Array) <span class="comment">//[100 2 3 4]</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="new-和make"><a href="#new-和make" class="headerlink" title="new()和make()"></a>new()和make()</h2><p><code>new()</code>是用来初始化<strong>值类型</strong>指针，来得到一个指定类型的指针</p>
<p>它的函数签名如下：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">new</span><span class="params">(Type)</span></span> *Type</span><br></pre></td></tr></tbody></table></figure>

<p>其中，</p>
<ul>
<li><p>Type表示类型，new函数只接受一个参数，这个参数是一个类型</p>
</li>
<li><p>*Type表示类型指针，new函数返回一个指向该类型内存地址的指针。</p>
</li>
</ul>
<p><code>make()</code>是用来初始化<strong>引用类型</strong>指针的，如slice、map、chan</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> (</span><br><span class="line">	<span class="comment">//a *int //a是一个int类型的指针，错误写法</span></span><br><span class="line">	a = <span class="built_in">new</span>(<span class="type">int</span>) <span class="comment">//得到一个int类型的指针</span></span><br><span class="line">	b = <span class="built_in">new</span>([<span class="number">3</span>]<span class="type">int</span>) <span class="comment">//得到一个切片类型的指针</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">	fmt.Printf(<span class="string">"%T,%v,%v \n"</span>,a,a,*a) <span class="comment">//*int,0xc00000a0b0,0</span></span><br><span class="line">	*a = <span class="number">10</span> <span class="comment">//对指针中内存地址中的值进行修改</span></span><br><span class="line">	fmt.Printf(<span class="string">"%T,%v,%v \n"</span>,a,a,*a) <span class="comment">//*int,0xc00000a0b0,10</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(*b) <span class="comment">//[0 0 0]</span></span><br><span class="line">	(*b)[<span class="number">0</span>] = <span class="number">100</span> <span class="comment">//对指针中内存地址中的值进行修改</span></span><br><span class="line">	fmt.Println(*b) <span class="comment">//[100 0 0]</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h1 id="panic和recover"><a href="#panic和recover" class="headerlink" title="panic和recover"></a>panic和recover</h1><p>程序运行期间<code>f1</code>中引发了<code>panic</code>导致程序崩溃，异常退出了。这个时候我们就可以通过<code>recover</code>将程序恢复回来，继续往后执行。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f1</span><span class="params">()</span></span>{</span><br><span class="line">	<span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> {</span><br><span class="line">		err := <span class="built_in">recover</span>()</span><br><span class="line">		fmt.Println(<span class="string">"捕获错误"</span>,err)</span><br><span class="line">	}()</span><br><span class="line">	<span class="keyword">var</span> a []<span class="type">int</span></span><br><span class="line">	a[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">	fmt.Println(a)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">	f1()</span><br><span class="line">	fmt.Println(<span class="string">"这是main函数"</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//捕获错误 runtime error: index out of range [0] with length 0</span></span><br><span class="line"><span class="comment">//这是main函数</span></span><br></pre></td></tr></tbody></table></figure>

<h1 id="自定义类型和类型别名"><a href="#自定义类型和类型别名" class="headerlink" title="自定义类型和类型别名"></a>自定义类型和类型别名</h1><p><strong>自定义类型：</strong></p>
<p> Go语言中可以使用<code>type</code>关键字来定义自定义类型。通过<code>type</code>关键字的定义，<code>MyInt</code>就是一种新的类型，它具有<code>int</code>的特性。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//将MyInt定义为int类型</span></span><br><span class="line"><span class="keyword">type</span> MyInt <span class="type">int</span></span><br></pre></td></tr></tbody></table></figure>



<p><strong>类型别名：</strong></p>
<p>内置：byte[字节] 实际是<code>uint8</code>，rune 实际是<code>int32</code>，分别代表ASCII码和UTF8编码，用于处理英文和其他语言。</p>
<p>TypeAlias只是Type的别名，本质上TypeAlias与Type是同一个类型。只存在代码编写过程中，增加代码可读性。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义TypeAlias为Type类型的别名</span></span><br><span class="line"><span class="keyword">type</span> TypeAlias = Type</span><br></pre></td></tr></tbody></table></figure>

<h1 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h1><p>Go语言中的基础数据类型可以表示一些事物的基本属性，但是当我们想表达一个事物的全部或部分属性时，这时候再用单一的基本数据类型明显就无法满足需求了，Go语言提供了一种自定义数据类型，可以封装多个基本数据类型，这种数据类型叫结构体，英文名称<code>struct</code>。 也就是我们可以通过<code>struct</code>来定义自己的类型了。</p>
<p>Go语言中通过<code>struct</code>来实现面向对象。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建新的类型要使用type关键字</span></span><br><span class="line"><span class="keyword">type</span> Employee <span class="keyword">struct</span> {</span><br><span class="line"> <span class="comment">//定义一个结构体</span></span><br><span class="line">	name <span class="type">string</span></span><br><span class="line">	age <span class="type">int</span></span><br><span class="line">	gender <span class="type">bool</span></span><br><span class="line">	hobby []<span class="type">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="keyword">var</span> felix = Employee{</span><br><span class="line"> <span class="comment">//声明一个结构体的变量，并赋值</span></span><br><span class="line">		name : <span class="string">"felix"</span>,</span><br><span class="line">		age : <span class="number">19</span>,</span><br><span class="line">		gender: <span class="literal">true</span>,</span><br><span class="line">		hobby: []<span class="type">string</span>{<span class="string">"游戏"</span>,<span class="string">"pipix"</span>},</span><br><span class="line">	}</span><br><span class="line">	fmt.Println(felix) <span class="comment">//{felix 19 true [游戏 pipix]}</span></span><br><span class="line">	fmt.Println(felix.name) <span class="comment">//felix</span></span><br><span class="line">	fmt.Println(felix.gender) <span class="comment">//true</span></span><br><span class="line">	felix.gender=<span class="literal">false</span></span><br><span class="line">	fmt.Println(felix.gender) <span class="comment">//felix</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="结构体的实例化"><a href="#结构体的实例化" class="headerlink" title="结构体的实例化"></a>结构体的实例化</h2><p>只有当结构体实例化时，才会真正地分配内存。也就是必须实例化后才能使用结构体的字段。</p>
<p>结构体本身也是一种类型，我们可以像声明内置类型一样使用<code>var</code>关键字声明结构体类型。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> 结构体实例 结构体类型</span><br></pre></td></tr></tbody></table></figure>

<h3 id="基本实例化"><a href="#基本实例化" class="headerlink" title="基本实例化"></a>基本实例化</h3><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> pop <span class="keyword">struct</span>{</span><br><span class="line">	name <span class="type">string</span></span><br><span class="line">	age <span class="type">int</span></span><br><span class="line">	id <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line"><span class="comment">//以下方法的到的是结构体</span></span><br><span class="line">	<span class="comment">//基本实例化</span></span><br><span class="line">	<span class="keyword">var</span> p1 pop</span><br><span class="line">	p1.name = <span class="string">"mafei"</span></span><br><span class="line">	p1.age = <span class="number">30</span></span><br><span class="line">	p1.id = <span class="string">"10211"</span></span><br><span class="line">	fmt.Println(p1) <span class="comment">//{mafei 30 10211}</span></span><br><span class="line">	<span class="comment">//我们通过.来访问结构体的字段（成员变量）,例如p1.name和p1.age等。</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//实例化方法2（声明后直接赋值,即实例化又初始化）</span></span><br><span class="line">	<span class="keyword">var</span> p2 = pop{</span><br><span class="line">		name : <span class="string">"feifeima"</span>,</span><br><span class="line">		age : <span class="number">17</span>,</span><br><span class="line">		id : <span class="string">"10212"</span>,</span><br><span class="line">	}</span><br><span class="line">	fmt.Println(p2) <span class="comment">//{feifeima 17 10212}</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//实例化方法2.1（简单写法）</span></span><br><span class="line">	<span class="keyword">var</span> p3 = pop{</span><br><span class="line">		<span class="string">"feifeima2"</span>,</span><br><span class="line">		<span class="number">18</span>,</span><br><span class="line">		<span class="string">"10213"</span>,</span><br><span class="line">	}</span><br><span class="line">	fmt.Println(p3) <span class="comment">//{feifeima2 18 10213}</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//实例化方法3（只进行实例化，不赋值）</span></span><br><span class="line">	<span class="keyword">var</span> p4 = pop{}</span><br><span class="line">	fmt.Println(p4) <span class="comment">//{ 0 }</span></span><br><span class="line">	<span class="comment">//如果初始化是没有给属性设置对应的初始值，那个对应属性就是其数据类型的默认值</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h3 id="匿名结构体"><a href="#匿名结构体" class="headerlink" title="匿名结构体"></a>匿名结构体</h3><p>在定义一些临时数据结构等场景下还可以使用匿名结构体。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line">     </span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line">     </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">var</span> user <span class="keyword">struct</span>{Name <span class="type">string</span>; Age <span class="type">int</span>}</span><br><span class="line">    user.Name = <span class="string">"小王子"</span></span><br><span class="line">    user.Age = <span class="number">18</span></span><br><span class="line">    fmt.Printf(<span class="string">"%#v\n"</span>, user)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="指针类型结构体（）"><a href="#指针类型结构体（）" class="headerlink" title="指针类型结构体（）"></a>指针类型结构体（）</h3><p>通过使用<code>new</code>关键字对结构体进行实例化，得到的是结构体的地址。 格式如下：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//以下方法的到的是结构体的指针，因为结构体是值类型，得到指针后就可以修改对应的值</span></span><br><span class="line">	<span class="comment">//实例化方法4（利用结构体指针实例化）</span></span><br><span class="line">	<span class="comment">//由于struct是值类型的，可以通过new(T)，T代表类型。初始化struct的指针</span></span><br><span class="line">	<span class="keyword">var</span> p5 = <span class="built_in">new</span>(pop)</span><br><span class="line">	fmt.Printf(<span class="string">"%T\n"</span>,p5) <span class="comment">//*main.pop</span></span><br><span class="line">	<span class="comment">//(*p5).name,直接修改内存地址中的值</span></span><br><span class="line">	p5.name = <span class="string">"feip5"</span></span><br><span class="line">	p5.age = <span class="number">10</span></span><br><span class="line">	fmt.Println(p5.name,p5.age) <span class="comment">//feip5 10</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//实例化方法4.1（同上）</span></span><br><span class="line">	<span class="keyword">var</span> p6 = &amp;pop{}</span><br><span class="line">	fmt.Printf(<span class="string">"%T\n"</span>,p6) <span class="comment">//*main.pop</span></span><br></pre></td></tr></tbody></table></figure>

<p>方法4.1.3中 使用<code>&amp;</code>对结构体进行取地址操作相当于对该结构体类型进行了一次<code>new</code>实例化操作。修改值而不是修改副本</p>
<p><code>p5.name = "feip5"</code>其实在底层是<code>(*p5).name = "feip5"</code>，这是Go语言实现的语法糖。结构体指针直接使用<code>.</code>来访问结构体的成员。</p>
<p>4.1.3 使用<code>&amp;</code>对结构体进行取地址操作相当于对该结构体类型进行了一次<code>new</code>实例化操作。</p>
<h2 id="结构体的初始化"><a href="#结构体的初始化" class="headerlink" title="结构体的初始化"></a>结构体的初始化</h2><p>没有初始化的结构体，其成员变量都是对应其类型的零值。</p>
<h3 id="使用键值对初始化"><a href="#使用键值对初始化" class="headerlink" title="使用键值对初始化"></a>使用键值对初始化</h3><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> trainee <span class="keyword">struct</span> {</span><br><span class="line">	name <span class="type">string</span></span><br><span class="line">	id <span class="type">int</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">	T1 := trainee{</span><br><span class="line">		name:<span class="string">"felix"</span>,</span><br><span class="line">		id:<span class="number">001</span>,</span><br><span class="line">	}</span><br><span class="line">	fmt.Println(T1) <span class="comment">//{felix 1}</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="结构体指针键值对初始化"><a href="#结构体指针键值对初始化" class="headerlink" title="结构体指针键值对初始化"></a>结构体指针键值对初始化</h3><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">    T2 := &amp;trainee{</span><br><span class="line">		name:<span class="string">"felix2"</span>,</span><br><span class="line">		id:<span class="number">002</span>,</span><br><span class="line">	}</span><br><span class="line">	fmt.Println(T2) <span class="comment">//&amp;{felix2 2}</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>当某些字段没有初始值的时候，该字段可以不写。此时，没有指定初始值的字段的值就是该字段类型的零值。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">	fmt.Println(T2) <span class="comment">//&amp;{felix2 2}</span></span><br><span class="line"></span><br><span class="line">	T3 := &amp;trainee{</span><br><span class="line">		name:<span class="string">"felix2"</span>,</span><br><span class="line">	}</span><br><span class="line">	fmt.Println(T3) <span class="comment">//&amp;{felix2 0}</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="使用值的列表初始化"><a href="#使用值的列表初始化" class="headerlink" title="使用值的列表初始化"></a>使用值的列表初始化</h3><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">	<span class="keyword">var</span> p3 = pop{</span><br><span class="line">		<span class="string">"feifeima2"</span>,</span><br><span class="line">		<span class="number">003</span>,</span><br><span class="line">	}</span><br><span class="line">	fmt.Println(p3) <span class="comment">//{feifeima2 003}</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>使用这种格式初始化时，需要<strong>注意</strong>：</p>
<ol>
<li><p>必须初始化结构体的所有字段。</p>
</li>
<li><p>初始值的填充顺序必须与字段在结构体中的声明顺序一致。</p>
</li>
<li><p>该方式不能和键值初始化方式混用。</p>
</li>
</ol>
<h2 id="结构体的内存布局"><a href="#结构体的内存布局" class="headerlink" title="结构体的内存布局"></a>结构体的内存布局</h2><p>结构体占用一块连续的内存。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> test <span class="keyword">struct</span> {</span><br><span class="line">	a <span class="type">int8</span></span><br><span class="line">	b <span class="type">int8</span></span><br><span class="line">	c <span class="type">int8</span></span><br><span class="line">	d <span class="type">int8</span></span><br><span class="line">}</span><br><span class="line">n := test{</span><br><span class="line">	<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>,</span><br><span class="line">}</span><br><span class="line">fmt.Printf(<span class="string">"n.a %p\n"</span>, &amp;n.a)</span><br><span class="line">fmt.Printf(<span class="string">"n.b %p\n"</span>, &amp;n.b)</span><br><span class="line">fmt.Printf(<span class="string">"n.c %p\n"</span>, &amp;n.c)</span><br><span class="line">fmt.Printf(<span class="string">"n.d %p\n"</span>, &amp;n.d)</span><br></pre></td></tr></tbody></table></figure>

<p>输出：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">n.a <span class="number">0xc0000a0060</span></span><br><span class="line">n.b <span class="number">0xc0000a0061</span></span><br><span class="line">n.c <span class="number">0xc0000a0062</span></span><br><span class="line">n.d <span class="number">0xc0000a0063</span></span><br></pre></td></tr></tbody></table></figure>

<p>【进阶知识点】关于Go语言中的内存对齐推荐阅读:<a target="_blank" rel="external nofollow noopener noreferrer" href="/go.html?url=aHR0cHM6Ly9zZWdtZW50ZmF1bHQuY29tL2EvMTE5MDAwMDAxNzUyNzMxMT91dG1fY2FtcGFpZ249c3R1ZHlnb2xhbmcuY29tJnV0bV9tZWRpdW09c3R1ZHlnb2xhbmcuY29tJnV0bV9zb3VyY2U9c3R1ZHlnb2xhbmcuY29t">在 Go 中恰到好处的内存对齐</a></p>
<p>结构体是值类型，将结构体的内存指针赋值给其他变量，如：stu01 := &amp;stu02。那么他们俩底层指向同一个内存地址</p>
<h2 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> practice <span class="keyword">struct</span> {</span><br><span class="line">	name <span class="type">string</span></span><br><span class="line">	age <span class="type">int</span></span><br><span class="line">	gender <span class="type">string</span></span><br><span class="line">	hobby []<span class="type">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">newpractice</span><span class="params">(n <span class="type">string</span>,a <span class="type">int</span>,g <span class="type">string</span>,h []<span class="type">string</span>)</span></span> *practice { <span class="comment">//结构体是值类型，值拷贝性能开销会比较大，所以返回值返回指针节约内存</span></span><br><span class="line">	<span class="keyword">return</span> &amp;practice{</span><br><span class="line">		name : n,</span><br><span class="line">		age : a,</span><br><span class="line">		gender : g,</span><br><span class="line">		hobby : h,</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	felix := newpractice(<span class="string">"felix"</span>,<span class="number">20</span>,<span class="string">"男"</span>,[]<span class="type">string</span>{<span class="string">"篮球"</span>,<span class="string">"网吧"</span>})</span><br><span class="line">	fmt.Println(felix) <span class="comment">//&amp;{felix 20 男 [篮球 网吧]}</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="图书管理作业"><a href="#图书管理作业" class="headerlink" title="图书管理作业"></a>图书管理作业</h3><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> book <span class="keyword">struct</span> {</span><br><span class="line">	title <span class="type">string</span></span><br><span class="line">	author <span class="type">string</span></span><br><span class="line">	price <span class="type">float32</span></span><br><span class="line">	publish <span class="type">bool</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">	bookslice = <span class="built_in">make</span>([]book,<span class="number">0</span>,<span class="number">100</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断是否有</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ifbook</span><span class="params">()</span></span> <span class="type">int</span> {</span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(bookslice) == <span class="number">0</span> {</span><br><span class="line">		fmt.Println(<span class="string">"仓库为空"</span>)</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">len</span>(bookslice)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取用户输入</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">input</span><span class="params">()</span></span> (t,a <span class="type">string</span>,p <span class="type">float32</span>,pu <span class="type">bool</span>) {</span><br><span class="line">	fmt.Print(<span class="string">"请输入书名:"</span>)</span><br><span class="line">	fmt.Scanln(&amp;t)</span><br><span class="line">	fmt.Print(<span class="string">"请输入作者:"</span>)</span><br><span class="line">	fmt.Scanln(&amp;a)</span><br><span class="line">	fmt.Print(<span class="string">"请输入价格:"</span>)</span><br><span class="line">	fmt.Scanln(&amp;p)</span><br><span class="line">	fmt.Print(<span class="string">"是否上市[true/false]:"</span>)</span><br><span class="line">	fmt.Scanln(&amp;pu)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//添加书籍</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">addbook</span><span class="params">()</span></span> {</span><br><span class="line">    t,a,p,pu:=input()</span><br><span class="line">	newBook := book{</span><br><span class="line">		t,</span><br><span class="line">		a,</span><br><span class="line">		p,</span><br><span class="line">		pu,</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span> _,b := <span class="keyword">range</span> bookslice {</span><br><span class="line">		<span class="keyword">if</span> b.title == newBook.title {</span><br><span class="line">			fmt.Printf(<span class="string">"《%s》书籍以存在！\n"</span>,newBook.title)</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	bookslice = <span class="built_in">append</span>(bookslice, newBook)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//修改书籍</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">modifybook</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="keyword">var</span> id <span class="type">int</span></span><br><span class="line">	<span class="keyword">if</span> ifbook() == <span class="number">0</span> {</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	}</span><br><span class="line">	fmt.Print(<span class="string">"请输入需要修改书籍的id:"</span>)</span><br><span class="line">	fmt.Scanln(&amp;id)</span><br><span class="line">	<span class="keyword">for</span> index,_ := <span class="keyword">range</span> bookslice {</span><br><span class="line">		<span class="keyword">if</span> id == index {</span><br><span class="line">			t,a,p,pu:=input()</span><br><span class="line">			bookslice[id] = book{</span><br><span class="line">				t,</span><br><span class="line">				a,</span><br><span class="line">				p,</span><br><span class="line">				pu,</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	fmt.Println(<span class="string">"此书不存在"</span>)</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//展示所有书籍</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">lookbook</span><span class="params">()</span></span> {</span><br><span class="line">	ifbook()</span><br><span class="line">	<span class="keyword">for</span> x,y := <span class="keyword">range</span> bookslice {</span><br><span class="line">		fmt.Printf(<span class="string">"编号:%d|书名:《%s》|作者:%s|价格:%.2f|是否上架:%t\n"</span>,x,y.title,y.author,y.price,y.publish)</span><br><span class="line">	}</span><br><span class="line">	fmt.Scanln()</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">show</span><span class="params">()</span></span>{</span><br><span class="line">	fmt.Println(<span class="string">`</span></span><br><span class="line"><span class="string">上海市图书馆BMS系统:</span></span><br><span class="line"><span class="string">	1.添加书籍</span></span><br><span class="line"><span class="string">	2.展示书籍</span></span><br><span class="line"><span class="string">	3.修改书籍</span></span><br><span class="line"><span class="string">	4.EXIT</span></span><br><span class="line"><span class="string">`</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="keyword">for</span> {</span><br><span class="line">		<span class="keyword">var</span> (</span><br><span class="line">			options <span class="type">int</span></span><br><span class="line">		)</span><br><span class="line">		show()</span><br><span class="line">		fmt.Scanln(&amp;options)</span><br><span class="line">		<span class="keyword">switch</span> options {</span><br><span class="line">		<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">     	    addbook()</span><br><span class="line">			lookbook()</span><br><span class="line">		<span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">			lookbook()</span><br><span class="line">		<span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">			lookbook()</span><br><span class="line">			modifybook()</span><br><span class="line">		<span class="keyword">default</span>:</span><br><span class="line">			os.Exit(<span class="number">0</span>)</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="方法和接收者"><a href="#方法和接收者" class="headerlink" title="方法和接收者"></a>方法和接收者</h2><p>Go语言中的<code>方法（Method）</code>是一种__作用于特定类型变量的函数__。这种特定类型变量叫做<code>接收者（Receiver）</code>。接收者的概念就类似于其他语言中的<code>this</code>或者 <code>self</code>。</p>
<p>方法的定义格式如下：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(接收者变量 接收者类型)</span></span> 方法名(参数列表) (返回参数) {</span><br><span class="line">    函数体</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>其中，</p>
<ul>
<li><p>接收者变量：接收者中的参数变量名在命名时，官方建议使用接收者类型名称首字母的小写，而不是<code>self</code>、<code>this</code>之类的命名。例如，<code>Person</code>类型的接收者变量应该命名为 <code>p</code>，<code>Connector</code>类型的接收者变量应该命名为<code>c</code>等。</p>
</li>
<li><p>接收者类型：接收者类型和参数类似，可以是指针类型和非指针类型。</p>
</li>
<li><p>方法名、参数列表、返回参数：具体格式与函数定义相同。</p>
</li>
</ul>
<p>举个例子：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> people <span class="keyword">struct</span> {</span><br><span class="line">	name <span class="type">string</span></span><br><span class="line">	age <span class="type">int</span></span><br><span class="line">	gender <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//这个方法的接收者，或此方法只能作用于特点类型的变量，这里指代people</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *people)</span></span>transsexual() { <span class="comment">//结构体为值类型所以要将该结构体的内存指针传进来</span></span><br><span class="line">	p.gender = <span class="string">"女"</span></span><br><span class="line">	fmt.Printf(<span class="string">"%s的梦想是当一条咸鱼\n"</span>,p.name)</span><br><span class="line"> <span class="comment">//felix的梦想是当一条咸鱼</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">	<span class="keyword">var</span> felix = people { <span class="comment">//实例化一个结构体</span></span><br><span class="line">		name: <span class="string">"felix"</span>,</span><br><span class="line">		age:<span class="number">18</span>,</span><br><span class="line">		gender: <span class="string">"男"</span>}</span><br><span class="line"></span><br><span class="line">	felix.transsexual()</span><br><span class="line"> <span class="comment">//()</span></span><br><span class="line">	fmt.Println(felix.gender)</span><br><span class="line"> <span class="comment">//"女"</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>方法与函数的区别是，函数不属于任何类型，方法属于特定的类型。</p>
<h3 id="指针类型的接收者★"><a href="#指针类型的接收者★" class="headerlink" title="指针类型的接收者★"></a>指针类型的接收者★</h3><p>指针类型的接收者由一个结构体的指针组成，由于指针的特性，调用方法时修改接收者指针的任意成员变量，在方法结束后，修改都是有效的。这种方式就十分接近于其他语言中面向对象中的<code>this</code>或者<code>self</code>。 例如我们为<code>Person</code>添加一个<code>SetAge</code>方法，来修改实例变量的年龄。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SetAge 设置p的年龄</span></span><br><span class="line"><span class="comment">// 使用指针接收者</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *Person)</span></span> SetAge(newAge <span class="type">int8</span>) {</span><br><span class="line">	p.age = newAge</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>调用该方法：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	p1 := NewPerson(<span class="string">"小王子"</span>, <span class="number">25</span>)</span><br><span class="line">	fmt.Println(p1.age) <span class="comment">// 25</span></span><br><span class="line">	p1.SetAge(<span class="number">30</span>)</span><br><span class="line">	fmt.Println(p1.age) <span class="comment">// 30</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="值类型的接收者"><a href="#值类型的接收者" class="headerlink" title="值类型的接收者"></a>值类型的接收者</h3><p>当方法作用于值类型接收者时，Go语言会在代码运行时将接收者的值复制一份。在值类型接收者的方法中可以获取接收者的成员值，但修改操作只是针对副本，无法修改接收者变量本身。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SetAge2 设置p的年龄</span></span><br><span class="line"><span class="comment">// 使用值接收者</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Person)</span></span> SetAge2(newAge <span class="type">int8</span>) {</span><br><span class="line">	p.age = newAge</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	p1 := NewPerson(<span class="string">"小王子"</span>, <span class="number">25</span>)</span><br><span class="line">	p1.Dream()</span><br><span class="line">	fmt.Println(p1.age) <span class="comment">// 25</span></span><br><span class="line">	p1.SetAge2(<span class="number">30</span>) <span class="comment">// (*p1).SetAge2(30)</span></span><br><span class="line">	fmt.Println(p1.age) <span class="comment">// 25</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="什么时候应该使用指针类型接收者"><a href="#什么时候应该使用指针类型接收者" class="headerlink" title="什么时候应该使用指针类型接收者"></a>什么时候应该使用指针类型接收者</h3><ol>
<li><p>需要修改接收者中的值</p>
</li>
<li><p>接收者是拷贝代价比较大的大对象</p>
</li>
<li><p>保证一致性，如果有某个方法使用了指针接收者，那么其他的方法也应该使用指针接收者。</p>
</li>
</ol>
<h2 id="任意类型追加方法"><a href="#任意类型追加方法" class="headerlink" title="任意类型追加方法"></a>任意类型追加方法</h2><p>Go语言中，接收者的类型可以是任何类型，不仅仅是结构体，__任何类型都可以拥有方法__。 举个例子，我们基于内置的<code>int</code>类型使用type关键字可以定义新的自定义类型，然后为我们的自定义类型添加方法。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//MyInt 将int定义为自定义MyInt类型</span></span><br><span class="line"><span class="keyword">type</span> Myint <span class="type">int</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//SayHello 为MyInt添加一个SayHello的方法</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m *Myint)</span></span> seyHellol(Newint Myint) {</span><br><span class="line">	*m = Newint</span><br><span class="line">	fmt.Printf(<span class="string">"Hello Myint%v\n"</span>,*m)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">	<span class="keyword">var</span> f Myint</span><br><span class="line">	fmt.Println(f)</span><br><span class="line"> <span class="comment">//0</span></span><br><span class="line">	f.seyHellol(<span class="number">21</span>)</span><br><span class="line"> <span class="comment">//Hello Myint21</span></span><br><span class="line">	fmt.Println(f)</span><br><span class="line"> <span class="comment">//21</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>非本地类型不能定义方法，也就是说我们不能给别的包的类型定义方法。</strong></p>
<h2 id="结构体的匿名字段"><a href="#结构体的匿名字段" class="headerlink" title="结构体的匿名字段"></a>结构体的匿名字段</h2><p>结构体允许其成员字段在声明时没有字段名而只有类型，这种没有名字的字段就称为匿名字段。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Person 结构体Person类型</span></span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> {</span><br><span class="line">	<span class="type">string</span></span><br><span class="line">	<span class="type">int</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	p1 := Person{</span><br><span class="line">		<span class="string">"小王子"</span>,</span><br><span class="line">		<span class="number">18</span>,</span><br><span class="line">	}</span><br><span class="line">	fmt.Printf(<span class="string">"%#v\n"</span>, p1)        <span class="comment">//main.Person{string:"北京", int:18}</span></span><br><span class="line">	fmt.Println(p1.<span class="type">string</span>, p1.<span class="type">int</span>) <span class="comment">//北京 18</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>注意：</strong>这里匿名字段的说法并不代表没有字段名，而是默认会__采用类型名作为字段名__，结构体要求字段名称必须唯一，因此一个结构体中同种类型的匿名字段只能有一个。</p>
<h2 id="嵌套结构体"><a href="#嵌套结构体" class="headerlink" title="嵌套结构体"></a>嵌套结构体</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> adderss <span class="keyword">struct</span> {</span><br><span class="line"> <span class="comment">//结构体存储地址</span></span><br><span class="line">    province <span class="type">string</span></span><br><span class="line">    village <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> user <span class="keyword">struct</span> {</span><br><span class="line"> <span class="comment">//结构体存储用户</span></span><br><span class="line">	name <span class="type">string</span></span><br><span class="line">	age <span class="type">int</span></span><br><span class="line">	adder adderss</span><br><span class="line"> <span class="comment">//用户结构体中嵌套了地址结构体</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	user1 := user{</span><br><span class="line">		name: <span class="string">"feili"</span>,</span><br><span class="line">		age: <span class="number">18</span>,</span><br><span class="line">		adder: adderss{</span><br><span class="line"> <span class="comment">//嵌套结构体初始化</span></span><br><span class="line">			<span class="string">"shanghai"</span>,</span><br><span class="line">			<span class="string">"zhangjiang"</span>,</span><br><span class="line">		},</span><br><span class="line">	}</span><br><span class="line">	fmt.Println(user1)</span><br><span class="line"> <span class="comment">//{feili 18 {shanghai zhangjiang}}</span></span><br><span class="line">	fmt.Println(user1.name,user1.age,user1.adder.village)</span><br><span class="line"> <span class="comment">//feili 18 zhangjiang</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="嵌套匿名结构体"><a href="#嵌套匿名结构体" class="headerlink" title="嵌套匿名结构体"></a>嵌套匿名结构体</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> adder <span class="keyword">struct</span> {</span><br><span class="line">	country <span class="type">string</span></span><br><span class="line">	province <span class="type">string</span></span><br><span class="line">	city <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> employee <span class="keyword">struct</span> {</span><br><span class="line">	name <span class="type">string</span></span><br><span class="line">	age <span class="type">int</span></span><br><span class="line">	gender <span class="type">string</span></span><br><span class="line">	adder <span class="comment">//嵌套了匿名结构体</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="keyword">var</span> felix = employee{</span><br><span class="line">		name:<span class="string">"felix"</span>,</span><br><span class="line">		age:<span class="number">18</span>,</span><br><span class="line">		gender:<span class="string">"男"</span>,</span><br><span class="line">		adder:adder {</span><br><span class="line">			<span class="string">"中国"</span>,</span><br><span class="line">			<span class="string">"安徽"</span>,</span><br><span class="line">			<span class="string">"上海"</span>,</span><br><span class="line">		},</span><br><span class="line">	}</span><br><span class="line">	fmt.Println(felix)</span><br><span class="line">	fmt.Println(felix.city) <span class="comment">//直接寻找adder结构体中的city 上海</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="结构体的继承"><a href="#结构体的继承" class="headerlink" title="结构体的继承"></a>结构体的继承</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> animal <span class="keyword">struct</span> {</span><br><span class="line">	name <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m *animal)</span></span> move() { <span class="comment">//为动物定义一个方法</span></span><br><span class="line">	fmt.Printf(<span class="string">"%s会动\n"</span>,m.name)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Dog <span class="keyword">struct</span> {</span><br><span class="line">	foot <span class="type">int</span></span><br><span class="line">	*animal <span class="comment">//dog结构体嵌套了动物结构体，所以dog也继承了动物的方法move</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(w *Dog)</span></span> wang(){</span><br><span class="line">	fmt.Printf(<span class="string">"%s会汪汪汪"</span>,w.name)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="keyword">var</span> wangcai = Dog{</span><br><span class="line">		foot: <span class="number">4</span>,</span><br><span class="line">		animal: &amp;animal { <span class="comment">//dog中嵌套了动物结构体，也继承了动物的方法</span></span><br><span class="line">			name: <span class="string">"旺财"</span>,</span><br><span class="line">		},</span><br><span class="line">	}</span><br><span class="line">	wangcai.move() <span class="comment">//旺财会动</span></span><br><span class="line">	wangcai.wang() <span class="comment">//旺财会汪汪汪</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="结构体字段的可见性"><a href="#结构体字段的可见性" class="headerlink" title="结构体字段的可见性"></a>结构体字段的可见性</h2><p>结构体中字段大写开头表示可公开访问，小写表示私有（仅在定义当前结构体的包中可访问）。</p>
<h1 id="JSON序列化"><a href="#JSON序列化" class="headerlink" title="JSON序列化"></a>JSON序列化</h1><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Learngod <span class="keyword">struct</span> { <span class="comment">//josn包能访问到字段必须为大写</span></span><br><span class="line">	ID <span class="type">int</span> <span class="string">`json:"id"`</span></span><br><span class="line"> <span class="comment">//定义元数据，当json包进行序列化操作时，key为小写</span></span><br><span class="line">	Gender <span class="type">string</span> <span class="string">`json:"gender"`</span></span><br><span class="line">	Name <span class="type">string</span><span class="string">`json:"name"`</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	learngod1 := Learngod{</span><br><span class="line">		ID:<span class="number">1</span>,</span><br><span class="line">		Gender: <span class="string">"男"</span>,</span><br><span class="line">		Name: <span class="string">"Felix"</span>,</span><br><span class="line">	}</span><br><span class="line">	<span class="comment">//序列化：吧编程语言里的数据转换成 JSON格式的字符串</span></span><br><span class="line">	v ,err := json.Marshal(learngod1) <span class="comment">//返回一个[]byte类型的返回值和error错误信息</span></span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">		fmt.Printf(<span class="string">"Json序列化失败%s"</span>,err)</span><br><span class="line">	}</span><br><span class="line">	fmt.Println(v) <span class="comment">//[]byte</span></span><br><span class="line">	<span class="comment">//[123 34 73 68 34 58 49 44 34 71 101 110 100 101 114 34 58 34 231 148 183 34 44 34 78 97 109 101 34 58 34 70 101 108 105 120 34 125]</span></span><br><span class="line">	fmt.Printf(<span class="string">"%#v\n"</span>,<span class="type">string</span>(v)) <span class="comment">//string</span></span><br><span class="line">	<span class="comment">//"{\"ID\":1,\"Gender\":\"男\",\"Name\":\"Felix\"}"</span></span><br><span class="line"></span><br><span class="line">	str := <span class="string">"{\"ID\":1,\"Gender\":\"男\",\"Name\":\"Felix\"}"</span></span><br><span class="line">	<span class="comment">//反序列化：吧满足JSON格式的字符串转换成 当前编程语言里的对象</span></span><br><span class="line">	<span class="keyword">var</span> learngod2 = &amp;Learngod{}</span><br><span class="line">	json.Unmarshal([]<span class="type">byte</span>(str),learngod2)</span><br><span class="line"> <span class="comment">//将json字符串转换为[]byte类型的切片，并赋给learngod2</span></span><br><span class="line">	fmt.Printf(<span class="string">"%T\n%v"</span>,learngod2,learngod2)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="结构体标签（Tag）"><a href="#结构体标签（Tag）" class="headerlink" title="结构体标签（Tag）"></a>结构体标签（Tag）</h2><p><code>Tag</code>是结构体的元信息，可以在运行的时候通过反射的机制读取出来。 <code>Tag</code>在结构体字段的后方定义，由一对<strong>反引号</strong>包裹起来，具体的格式如下：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`key1:<span class="string">"value1"</span> key2:<span class="string">"value2"</span>`</span><br></pre></td></tr></tbody></table></figure>

<p>结构体tag由一个或多个键值对组成。键与值使用冒号分隔，值用双引号括起来。同一个结构体字段可以设置多个键值对tag，不同的键值对之间使用空格分隔。</p>
<p><strong>注意事项：</strong> 为结构体编写<code>Tag</code>时，必须严格遵守键值对的规则。结构体标签的解析代码的容错能力很差，一旦格式写错，编译和运行时都不会提示任何错误，通过反射也无法正确取值。例如不要在key和value之间添加空格。例如我们为<code>Student</code>结构体的每个字段定义json序列化时使用的Tag</p>
<h1 id="SMS-面向对象"><a href="#SMS-面向对象" class="headerlink" title="SMS[面向对象]"></a>SMS[面向对象]</h1><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"encoding/json"</span></span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">//学员结构体，面向对象</span></span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> {</span><br><span class="line">	Id <span class="type">int</span> <span class="string">`json:"id"`</span></span><br><span class="line">	Name <span class="type">string</span> <span class="string">`json:"name"`</span></span><br><span class="line">	Age <span class="type">int</span> <span class="string">`json:"age"`</span></span><br><span class="line">	Class <span class="type">string</span> <span class="string">`json:"class"`</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//学院结构体</span></span><br><span class="line"><span class="keyword">type</span> College <span class="keyword">struct</span> {</span><br><span class="line">	AllStudent []*Student</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//学员构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewStudent</span><span class="params">(id <span class="type">int</span>,name <span class="type">string</span>,age <span class="type">int</span>,class <span class="type">string</span>)</span></span> *Student {</span><br><span class="line">	<span class="keyword">return</span> &amp;Student{</span><br><span class="line">		Id :id,</span><br><span class="line">		Name : name,</span><br><span class="line">		Age : age,</span><br><span class="line">		Class: class,</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//学院构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewCollege</span><span class="params">()</span></span> *College {</span><br><span class="line">	<span class="keyword">return</span> &amp;College{</span><br><span class="line">		AllStudent: <span class="built_in">make</span>([]*Student,<span class="number">0</span>,<span class="number">100</span>),</span><br><span class="line"> <span class="comment">//初始化结构体中的切片</span></span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//添加学生</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c *College)</span></span> add(s *Student) {</span><br><span class="line">	<span class="keyword">for</span> _,v := <span class="keyword">range</span> c.AllStudent {</span><br><span class="line">		<span class="keyword">if</span> v.Name == s.Name {</span><br><span class="line">			fmt.Printf(<span class="string">"%v已存在"</span>,s.Name)</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	c.AllStudent = <span class="built_in">append</span>(c.AllStudent,s)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除学生</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c *College)</span></span> del(s *Student) {</span><br><span class="line">	<span class="keyword">for</span> index ,v := <span class="keyword">range</span> c.AllStudent {</span><br><span class="line">		<span class="keyword">if</span> v.Name == s.Name {</span><br><span class="line">			c.AllStudent = <span class="built_in">append</span>(c.AllStudent[:index],c.AllStudent[index+<span class="number">1</span>:]...)</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	fmt.Printf(<span class="string">"%v不存在"</span>,s.Name)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//修改学生</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c *College)</span></span> modify(s *Student) {</span><br><span class="line">	<span class="keyword">for</span> index,v := <span class="keyword">range</span> c.AllStudent {</span><br><span class="line">		<span class="keyword">if</span> v.Name == s.Name {</span><br><span class="line">			c.AllStudent[index] = s</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	fmt.Printf(<span class="string">"%v不存在"</span>,s.Name)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//查询学生</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c *College)</span></span> show() {</span><br><span class="line">	<span class="keyword">for</span> _,v := <span class="keyword">range</span> c.AllStudent{</span><br><span class="line">		json,err:=json.Marshal(v)</span><br><span class="line">		<span class="keyword">if</span> err!= <span class="literal">nil</span> {</span><br><span class="line">			fmt.Println(<span class="string">"json序列化失败"</span>)</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">		}</span><br><span class="line">		fmt.Println(<span class="type">string</span>(json))</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取用户输入</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">input</span><span class="params">()</span></span> *Student {</span><br><span class="line">	<span class="keyword">var</span> (</span><br><span class="line">		id <span class="type">int</span></span><br><span class="line">		name <span class="type">string</span></span><br><span class="line">		age <span class="type">int</span></span><br><span class="line">		class <span class="type">string</span></span><br><span class="line">	)</span><br><span class="line">	fmt.Print(<span class="string">"请输入学员学号: "</span>)</span><br><span class="line">	fmt.Scanln(&amp;id)</span><br><span class="line">	fmt.Print(<span class="string">"请输入学员姓名: "</span>)</span><br><span class="line">	fmt.Scanln(&amp;name)</span><br><span class="line">	fmt.Print(<span class="string">"请输入学员年龄: "</span>)</span><br><span class="line">	fmt.Scanln(&amp;age)</span><br><span class="line">	fmt.Print(<span class="string">"请输入学员班级: "</span>)</span><br><span class="line">	fmt.Scanln(&amp;class)</span><br><span class="line">	<span class="keyword">return</span> NewStudent(id,name,age,class)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">showMenu</span><span class="params">()</span></span> {</span><br><span class="line">	fmt.Println(<span class="string">`</span></span><br><span class="line"><span class="string">	1.添加学生</span></span><br><span class="line"><span class="string">	2.删除学生</span></span><br><span class="line"><span class="string">	3.查看学生</span></span><br><span class="line"><span class="string">	4.修改学生</span></span><br><span class="line"><span class="string">	5.Exit</span></span><br><span class="line"><span class="string">`</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	stuMar := NewCollege()</span><br><span class="line">	<span class="keyword">for</span> {</span><br><span class="line">		showMenu()</span><br><span class="line">		Select := <span class="number">0</span></span><br><span class="line">		fmt.Print(<span class="string">"请输入指令: "</span>)</span><br><span class="line">		fmt.Scanln(&amp;Select)</span><br><span class="line">		<span class="keyword">switch</span> Select {</span><br><span class="line">		<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">			stuMar.add(input())</span><br><span class="line">		<span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">			stuMar.del(input())</span><br><span class="line">		<span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">			stuMar.show()</span><br><span class="line">		<span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">			stuMar.modify(input())</span><br><span class="line">		<span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">			os.Exit(<span class="number">0</span>)</span><br><span class="line">		<span class="keyword">default</span>:</span><br><span class="line">			fmt.Println(<span class="string">"输入无效"</span>)</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h1 id="return执行原理和defer执行时机"><a href="#return执行原理和defer执行时机" class="headerlink" title="return执行原理和defer执行时机"></a>return执行原理和defer执行时机</h1><p>在Go语言的函数中<code>return</code>语句在底层并不是原子操作，它分为给返回值赋值和RET指令两步。而<code>defer</code>语句执行的时机就在返回值赋值操作后，RET指令（结束一段代码）执行前。具体如下图所示：</p>
<p><img src="/images/pasted-3.png" alt="return执行原理和defer执行时机"></p>
<h2 id="defer经典案例"><a href="#defer经典案例" class="headerlink" title="defer经典案例"></a>defer经典案例</h2><p>阅读下面的代码，写出最后的打印结果。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f1</span><span class="params">()</span></span> <span class="type">int</span> {</span><br><span class="line">	x := <span class="number">5</span></span><br><span class="line">	<span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> { <span class="comment">//返回5，1.返回值=5 2.x++ 3.RET指令 ==&gt; 5</span></span><br><span class="line">		x++</span><br><span class="line">	}()</span><br><span class="line">	<span class="keyword">return</span> x</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f2</span><span class="params">()</span></span> (x <span class="type">int</span>) {</span><br><span class="line">	<span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> {</span><br><span class="line">		x++</span><br><span class="line">	}()</span><br><span class="line">	<span class="keyword">return</span> <span class="number">5</span> <span class="comment">// 返回6，1.返回值=x(5) 2.x++ 3.RET指令 ==&gt; 6</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f3</span><span class="params">()</span></span> (y <span class="type">int</span>) {</span><br><span class="line">	x := <span class="number">5</span></span><br><span class="line">	<span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> {</span><br><span class="line">		x++</span><br><span class="line">	}()</span><br><span class="line">	<span class="keyword">return</span> x <span class="comment">// 返回5，1.返回值=y=x(5) 2.x++ 3.RET指令 ==&gt; 5</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f4</span><span class="params">()</span></span> (x <span class="type">int</span>) {</span><br><span class="line">	<span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">(x <span class="type">int</span>)</span></span> {</span><br><span class="line">		x++</span><br><span class="line">	}(x)</span><br><span class="line">	<span class="keyword">return</span> <span class="number">5</span> <span class="comment">// 返回5，1.返回值=x(5) 2.匿名函数内x++ 3.RET指令 ==&gt; 5</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	fmt.Println(f1())</span><br><span class="line">	fmt.Println(f2())</span><br><span class="line">	fmt.Println(f3())</span><br><span class="line">	fmt.Println(f4())</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h1 id="golang中的包"><a href="#golang中的包" class="headerlink" title="golang中的包"></a>golang中的包</h1><p>在工程化的Go语言开发项目中，Go语言的源码复用是建立在包（package）基础之上的。本文介绍了Go语言中如何定义包、如何导出包的内容及如何导入其他包。</p>
<p>Go语言的包（package）</p>
<h2 id="包介绍"><a href="#包介绍" class="headerlink" title="包介绍"></a>包介绍</h2><p><code>包（package）</code>是多个Go源码的集合，是一种高级的代码复用方案，Go语言为我们提供了很多内置包，如<code>fmt</code>、<code>os</code>、<code>io</code>等。</p>
<h2 id="定义包"><a href="#定义包" class="headerlink" title="定义包"></a>定义包</h2><p>我们还可以根据自己的需要创建自己的包。一个包可以简单理解为一个存放<code>.go</code>文件的文件夹。 该文件夹下面的所有go文件都要在代码的第一行添加如下代码，声明该文件归属的包。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> 包名</span><br></pre></td></tr></tbody></table></figure>

<p>注意事项：</p>
<ul>
<li><p>一个文件夹下面直接包含的文件只能归属一个<code>package</code>，同样一个<code>package</code>的文件不能在多个文件夹下。</p>
</li>
<li><p>包名可以不和文件夹的名字一样，包名不能包含 <code>-</code> 符号。</p>
</li>
<li><p>包名为<code>main</code>的包为应用程序的入口包，这种包编译后会得到一个可执行文件，而编译不包含<code>main</code>包的源代码则不会得到可执行文件。</p>
</li>
</ul>
<h2 id="可见性"><a href="#可见性" class="headerlink" title="可见性"></a>可见性</h2><p>如果想在一个包中引用另外一个包里的标识符（如变量、常量、类型、函数等）时，该标识符必须是对外可见的（public）。在Go语言中只需要将标识符的首字母大写就可以让标识符对外可见了。</p>
<p>举个例子， 我们定义一个包名为<code>pkg2</code>的包，代码如下：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> pkg2</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 包变量可见性</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">100</span> <span class="comment">// 首字母小写，外部包不可见，只能在当前包内使用</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 首字母大写外部包可见，可在其他包中使用</span></span><br><span class="line"><span class="keyword">const</span> Mode = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> person <span class="keyword">struct</span> { <span class="comment">// 首字母小写，外部包不可见，只能在当前包内使用</span></span><br><span class="line">	name <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 首字母大写，外部包可见，可在其他包中使用</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Add</span><span class="params">(x, y <span class="type">int</span>)</span></span> <span class="type">int</span> {</span><br><span class="line">	<span class="keyword">return</span> x + y</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">age</span><span class="params">()</span></span> { <span class="comment">// 首字母小写，外部包不可见，只能在当前包内使用</span></span><br><span class="line">	<span class="keyword">var</span> Age = <span class="number">18</span> <span class="comment">// 函数局部变量，外部包不可见，只能在当前函数内使用</span></span><br><span class="line">	fmt.Println(Age)</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>结构体中的字段名和接口中的方法名如果首字母都是大写，外部包可以访问这些字段和方法。例如：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> {</span><br><span class="line">	Name  <span class="type">string</span> <span class="comment">//可在包外访问的方法</span></span><br><span class="line">	class <span class="type">string</span> <span class="comment">//仅限包内访问的字段</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Payer <span class="keyword">interface</span> {</span><br><span class="line">	init() <span class="comment">//仅限包内访问的方法</span></span><br><span class="line">	Pay()  <span class="comment">//可在包外访问的方法</span></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h2 id="包的导入"><a href="#包的导入" class="headerlink" title="包的导入"></a>包的导入</h2><p>要在代码中引用其他包的内容，需要使用<code>import</code>关键字导入使用的包。具体语法如下:</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"包的路径"</span></span><br></pre></td></tr></tbody></table></figure>

<p>注意事项：</p>
<ul>
<li><p>import导入语句通常放在文件开头包声明语句的下面。</p>
</li>
<li><p>导入的包名需要使用双引号包裹起来。</p>
</li>
<li><p>包名是从<code>$GOPATH/src/</code>后开始计算的，使用<code>/</code>进行路径分隔。</p>
</li>
<li><p>Go语言中禁止循环导入包。</p>
</li>
</ul>
<h3 id="单行导入"><a href="#单行导入" class="headerlink" title="单行导入"></a>单行导入</h3><p>单行导入的格式如下：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"包1"</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">"包2"</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="多行导入"><a href="#多行导入" class="headerlink" title="多行导入"></a>多行导入</h3><p>多行导入的格式如下：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"包1"</span></span><br><span class="line">    <span class="string">"包2"</span></span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure>

<h2 id="自定义包名"><a href="#自定义包名" class="headerlink" title="自定义包名"></a>自定义包名</h2><p>在导入包名的时候，我们还可以为导入的包设置别名。通常用于导入的包名太长或者导入的包名冲突的情况。具体语法格式如下：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> 别名 <span class="string">"包的路径"</span></span><br></pre></td></tr></tbody></table></figure>

<p>单行导入方式定义别名：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="keyword">import</span> m <span class="string">"github.com/Q1mi/studygo/pkg_test"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	fmt.Println(m.Add(<span class="number">100</span>, <span class="number">200</span>))</span><br><span class="line">	fmt.Println(m.Mode)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>多行导入方式定义别名：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    m <span class="string">"github.com/Q1mi/studygo/pkg_test"</span></span><br><span class="line"> )</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	fmt.Println(m.Add(<span class="number">100</span>, <span class="number">200</span>))</span><br><span class="line">	fmt.Println(m.Mode)</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h2 id="匿名导入包"><a href="#匿名导入包" class="headerlink" title="匿名导入包"></a>匿名导入包</h2><p>如果只希望导入包，而不使用包内部的数据时，可以使用匿名导入包。具体的格式如下：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> _ <span class="string">"包的路径"</span></span><br></pre></td></tr></tbody></table></figure>

<p>匿名导入的包与其他方式导入的包一样都会被编译到可执行文件中。</p>
<h2 id="init-初始化函数"><a href="#init-初始化函数" class="headerlink" title="init()初始化函数"></a>init()初始化函数</h2><h3 id="init-函数介绍"><a href="#init-函数介绍" class="headerlink" title="init()函数介绍"></a>init()函数介绍</h3><p>在Go语言程序执行时导入包语句会自动触发包内部<code>init()</code>函数的调用。需要注意的是： <code>init()</code>函数没有参数也没有返回值。 <code>init()</code>函数在程序运行时自动被调用执行，不能在代码中主动调用它。</p>
<p>包初始化执行的顺序如下图所示：</p>
<p><img src="/images/pasted-4.png" alt="包初始化"></p>
<h3 id="init-函数执行顺序"><a href="#init-函数执行顺序" class="headerlink" title="init()函数执行顺序"></a>init()函数执行顺序</h3><p>Go语言包会从<code>main</code>包开始检查其导入的所有包，每个包中又可能导入了其他的包。Go编译器由此构建出一个树状的包引用关系，再根据引用顺序决定编译顺序，依次编译这些包的代码。在运行时，被最后导入的包会最先初始化并调用其<code>init()</code>函数， 如下图示：</p>
<p><img src="/images/pasted-5.png" alt="包初始化"></p>
<h2 id="time包"><a href="#time包" class="headerlink" title="time包"></a>time包</h2><p>time包提供了时间的显示和测量用的函数。日历的计算采用的是公历。</p>
<h3 id="时间类型"><a href="#时间类型" class="headerlink" title="时间类型"></a>时间类型</h3><p><code>time.Time</code>类型表示时间类型。我们可以通过<code>time.Now()</code>函数获取当前的时间对象，然后获取时间对象的年月日时分秒等信息。示例代码如下</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">timeDemo</span><span class="params">()</span></span> {</span><br><span class="line">	now := time.Now() <span class="comment">//获取当前时间</span></span><br><span class="line">	fmt.Printf(<span class="string">"current time:%v\n"</span>, now)</span><br><span class="line"></span><br><span class="line">	year := now.Year()     <span class="comment">//年</span></span><br><span class="line">	month := now.Month()   <span class="comment">//月</span></span><br><span class="line">	day := now.Day()       <span class="comment">//日</span></span><br><span class="line">	hour := now.Hour()     <span class="comment">//小时</span></span><br><span class="line">	minute := now.Minute() <span class="comment">//分钟</span></span><br><span class="line">	second := now.Second() <span class="comment">//秒</span></span><br><span class="line">	fmt.Printf(<span class="string">"%d-%02d-%02d %02d:%02d:%02d\n"</span>, year, month, day, hour, minute, second)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="时间戳"><a href="#时间戳" class="headerlink" title="时间戳"></a>时间戳</h3><p>时间戳是自1970年1月1日（08:00:00GMT）至当前时间的总毫秒数。它也被称为Unix时间戳（UnixTimestamp）。</p>
<p>基于时间对象获取时间戳的示例代码如下：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">timestampDemo</span><span class="params">()</span></span> {</span><br><span class="line">	now := time.Now()            <span class="comment">//获取当前时间</span></span><br><span class="line">	timestamp1 := now.Unix()     <span class="comment">//时间戳</span></span><br><span class="line">	timestamp2 := now.UnixNano() <span class="comment">//纳秒时间戳</span></span><br><span class="line">	fmt.Printf(<span class="string">"current timestamp1:%v\n"</span>, timestamp1)</span><br><span class="line">	fmt.Printf(<span class="string">"current timestamp2:%v\n"</span>, timestamp2)</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>使用<code>time.Unix()</code>函数可以将时间戳转为时间格式。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">timestampDemo2</span><span class="params">(timestamp <span class="type">int64</span>)</span></span> {</span><br><span class="line">	timeObj := time.Unix(timestamp, <span class="number">0</span>) <span class="comment">//将时间戳转为时间格式</span></span><br><span class="line">	fmt.Println(timeObj)</span><br><span class="line">	year := timeObj.Year()     <span class="comment">//年</span></span><br><span class="line">	month := timeObj.Month()   <span class="comment">//月</span></span><br><span class="line">	day := timeObj.Day()       <span class="comment">//日</span></span><br><span class="line">	hour := timeObj.Hour()     <span class="comment">//小时</span></span><br><span class="line">	minute := timeObj.Minute() <span class="comment">//分钟</span></span><br><span class="line">	second := timeObj.Second() <span class="comment">//秒</span></span><br><span class="line">	fmt.Printf(<span class="string">"%d-%02d-%02d %02d:%02d:%02d\n"</span>, year, month, day, hour, minute, second)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="时间间隔"><a href="#时间间隔" class="headerlink" title="时间间隔"></a>时间间隔</h3><p><code>time.Duration</code>是<code>time</code>包定义的一个类型，它代表两个时间点之间经过的时间，以纳秒为单位。<code>time.Duration</code>表示一段时间间隔，可表示的最长时间段大约290年。</p>
<p>time包中定义的时间间隔类型的常量如下：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    Nanosecond  Duration = <span class="number">1</span></span><br><span class="line">    Microsecond          = <span class="number">1000</span> * Nanosecond</span><br><span class="line">    Millisecond          = <span class="number">1000</span> * Microsecond</span><br><span class="line">    Second               = <span class="number">1000</span> * Millisecond</span><br><span class="line">    Minute               = <span class="number">60</span> * Second</span><br><span class="line">    Hour                 = <span class="number">60</span> * Minute</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>例如：<code>time.Duration</code>表示1纳秒，<code>time.Second</code>表示1秒。</p>
<h3 id="时间操作"><a href="#时间操作" class="headerlink" title="时间操作"></a>时间操作</h3><h3 id="Add"><a href="#Add" class="headerlink" title="Add"></a>Add</h3><p>我们在日常的编码过程中可能会遇到要求时间+时间间隔的需求，Go语言的时间对象有提供Add方法如下：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t Time)</span></span> Add(d Duration) Time</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>举个例子，求一个小时之后的时间：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	now := time.Now()</span><br><span class="line">	later := now.Add(time.Hour) <span class="comment">// 当前时间加1小时后的时间</span></span><br><span class="line">	fmt.Println(later)</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h3 id="Sub"><a href="#Sub" class="headerlink" title="Sub"></a>Sub</h3><p>求两个时间之间的差值：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t Time)</span></span> Sub(u Time) Duration</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>返回一个时间段t-u。如果结果超出了Duration可以表示的最大值/最小值，将返回最大值/最小值。要获取时间点t-d（d为Duration），可以使用t.Add(-d)。</p>
<h3 id="Equal"><a href="#Equal" class="headerlink" title="Equal"></a>Equal</h3><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t Time)</span></span> Equal(u Time) <span class="type">bool</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>判断两个时间是否相同，会考虑时区的影响，因此不同时区标准的时间也可以正确比较。本方法和用t==u不同，这种方法还会比较地点和时区信息。</p>
<h3 id="Before"><a href="#Before" class="headerlink" title="Before"></a>Before</h3><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t Time)</span></span> Before(u Time) <span class="type">bool</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>如果t代表的时间点在u之前，返回真；否则返回假。</p>
<h3 id="After"><a href="#After" class="headerlink" title="After"></a>After</h3><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t Time)</span></span> After(u Time) <span class="type">bool</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>如果t代表的时间点在u之后，返回真；否则返回假。</p>
<h3 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h3><p>使用<code>time.Tick(时间间隔)</code>来设置定时器，定时器的本质上是一个通道（channel）。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">tickDemo</span><span class="params">()</span></span> {</span><br><span class="line">	ticker := time.Tick(time.Second) <span class="comment">//定义一个1秒间隔的定时器</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="keyword">range</span> ticker {</span><br><span class="line">		fmt.Println(i)<span class="comment">//每秒都会执行的任务</span></span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="时间格式化"><a href="#时间格式化" class="headerlink" title="时间格式化"></a>时间格式化</h3><p>时间类型有一个自带的方法<code>Format</code>进行格式化，需要注意的是Go语言中格式化时间模板不是常见的<code>Y-m-d H:M:S</code>而是使用Go的诞生时间2006年1月2号15点04分（记忆口诀为2006 1 2 3 4）。也许这就是技术人员的浪漫吧。补充：如果想格式化为12小时方式，需指定<code>PM</code>。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">formatDemo</span><span class="params">()</span></span> {</span><br><span class="line">	now := time.Now()</span><br><span class="line">	<span class="comment">// 格式化的模板为Go的出生时间2006年1月2号15点04分 Mon Jan</span></span><br><span class="line">	<span class="comment">// 24小时制</span></span><br><span class="line">	fmt.Println(now.Format(<span class="string">"2006-01-02 15:04:05.000 Mon Jan"</span>))</span><br><span class="line">	<span class="comment">// 12小时制</span></span><br><span class="line">	fmt.Println(now.Format(<span class="string">"2006-01-02 03:04:05.000 PM Mon Jan"</span>))</span><br><span class="line">	fmt.Println(now.Format(<span class="string">"2006/01/02 15:04"</span>))</span><br><span class="line">	fmt.Println(now.Format(<span class="string">"15:04 2006/01/02"</span>))</span><br><span class="line">	fmt.Println(now.Format(<span class="string">"2006/01/02"</span>))</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>解析字符串格式的时间</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">now := time.Now()</span><br><span class="line">fmt.Println(now)</span><br><span class="line"><span class="comment">// 加载时区</span></span><br><span class="line">loc, err := time.LoadLocation(<span class="string">"Asia/Shanghai"</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">	fmt.Println(err)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">// 按照指定时区和指定格式解析字符串时间</span></span><br><span class="line">timeObj, err := time.ParseInLocation(<span class="string">"2006/01/02 15:04:05"</span>, <span class="string">"2019/08/04 14:15:20"</span>, loc)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">	fmt.Println(err)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">}</span><br><span class="line">fmt.Println(timeObj)</span><br><span class="line">fmt.Println(timeObj.Sub(now))</span><br></pre></td></tr></tbody></table></figure>

</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info">Golang-指针、类型自定义、类型别名、结构体、json序列化、面向对象、包</span></div><div class="post-copyright__url"><span class="post-copyright-info"><a id="post-url" href="https://cakepanit.com/forward/b17eefd4.html">https://cakepanit.com/forward/b17eefd4.html</a><a id="post-url-copy" title="复制文章链接" onclick="btf.copyFn(&quot;https://cakepanit.com/forward/b17eefd4.html&quot;)"><i class="fas fa-paste copy-button"></i></a></span></div><div class="post-copyright__cc"><span class="post-copyright-info">转载前请阅读本站 <a href="/protocol/copyright/" title="本站所有原创文章采用知识共享(Creative Commons)署名—非商业性使用—相同方式共享4.0国际公共许可协议">版权协议</a>，文章著作权归 <a href="https://cakepanit.com">饼铛</a> 所有，转载请注明出处。</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Golang/">📝Golang</a></div><div class="post_share"><div class="social-share" data-image="/images/pasted-2.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="/css/fei/share.min.css" media="print" onload="this.media='all'"><script src="/css/fei/share.min.js" defer=""></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/DC9cYFtFic5G6JZgktjajza5fVfRJLaXLS.png" target="_blank"><img class="post-qr-code-img" src="/img/DC9cYFtFic5G6JZgktjajza5fVfRJLaXLS.png" alt="狗狗币(DogeCoin)"></a><div class="post-qr-code-desc">狗狗币(DogeCoin)</div></li><li class="reward-item"><a href="/img/bc1q63xj5a3xgfulv8guate5qxmh6qh8ws7c3casqm.png" target="_blank"><img class="post-qr-code-img" src="/img/bc1q63xj5a3xgfulv8guate5qxmh6qh8ws7c3casqm.png" alt="比特币(BitCoin)"></a><div class="post-qr-code-desc">比特币(BitCoin)</div></li></ul></div></div><div class="ads-wrap"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1372389585456420" data-ad-slot="6522729366" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/forward/f9d199b7.html" title="Golang-接口"><img class="cover" src="/images/pasted-2.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Golang-接口</div><div class="content">接口接口（interface）定义了一个对象的行为规范，只定义规范不实现，由具体的对象来实现规范的细节。
接口类型在Go语言中接口（interface）是一种类型，一种抽象的类型。
interface是一组method(方法)的集合，是duck-type programming的一种体现。接口做的事情就像是定义一个协议（规则），只要一台机器有洗衣服和甩干的功能，我就称它为洗衣机。不关心属性（数据），只关心行为（方法）。
为了保护你的Go语言职业生涯，请牢记接口（interface）是一种类型。
为什么要使用接口？
1234567891011121314151617181920212223242526272829303132333435363738394041type Cat struct{}type Dog struct{}type Pig struct{}func (c Cat) Say() string { return "喵喵喵" }func (d Dog) Say() strin ...</div></div></a></div><div class="next-post pull-right"><a href="/forward/649a95fd.html" title="Golang-变量、常量、基本数据类型、流程控制、运算符、数组、切片、map"><img class="cover" src="/images/pasted-2.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Golang-变量、常量、基本数据类型、流程控制、运算符、数组、切片、map</div><div class="content">变量、常量变量声明1234567891011121314标准声明：var name string var age int var isOk bool//变量声明以关键字var开头，变量类型放在变量的后面，行尾无需分号。 批量声明：var (     a string     b int     c bool     d float32 )//每声明一个变量就需要写var关键字会比较繁琐，go语言中还支持批量变量声明：

语法格式1var 变量名 变量类型

变量的初始化Go语言在声明变量的时候，会自动对变量对应的内存区域进行初始化操作。每个变量会被初始化成其类型的默认值，例如： 整型和浮点型变量的默认值为​0​。 字符串变量的默认值为​空字符串​。 布尔型变量默认为​false​。 切片、函数、指针变量的默认为​nil​。
12var 变量名 类型 = 表达式//在声明变量的时候为其指定初始值。变量初始化的标准格式

举个例子：
12var name string = "Q1mi"var age int = 18

一次性初始化多个变量
1var name, age ...</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/forward/4e89d84.html" title="Golang-23种设计模式"><img class="cover" src="/images/pasted-2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-02-06</div><div class="title">Golang-23种设计模式</div><div class="info">什么是设计模式?设计模式是一套理论, 由软件界先辈们总结出的一套可以反复使用的经验, 可以帮助开发人员降低代码耦合度、提高代码的重用性、扩展性和系统可维护性，以及巧妙解决一系列逻辑复杂的问题(运用套路)。然而需要注意的是，过度使用设计模式也可能会导致代码过于复杂和晦涩，因此在实际开发中需要根据具体情况进行选择和应用。


左到右依次是：Ralph Johnson，Erich Gamma，Richard Helm，John Vlissides。

1995年，艾瑞克·伽马（Erich Gamma）、拉尔夫·约翰森（Ralph Johnson）、理査德·海尔姆（Richard Helm）、约翰·威利斯迪斯（John Vlissides）等4位作者合作出版了《设计模式：可复用面向对象软件的基础》（Design Patterns: Elements of Reusable Object-Oriented Software）一书，在本教程中收录了 23 个设计模式，这是设计模式领域里程碑的事件，导致了软件设计模式的突破。这 4 位作者在软件开发领域里也以他们的“四人组”（Gang of Four ...</div></div></a></div><div><a href="/forward/d12df344.html" title="Golang-函数"><img class="cover" src="/images/pasted-2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-08-23</div><div class="title">Golang-函数</div><div class="info">在编程中经常会调用相同或者类似的操作，这些相同或者类似的操作由同一段代码完成，函数的出现，可以避免重复编写这些代码。函数的作用就是把相对独立的某个功能抽象出来，使之成为一个独立的实体。
例如，开发一个支持人与人之间进行对话的社交网站，对话这个功能比较复杂，可以将它封装为一个函数，每次调用该函数就可以发起对话；大型网站都有日志功能，对所有重要操作都会记录日志，而日志处理需要由多行Go文件操作相关代码组成，将这些代码组装为函数，则每次写日志时调用此函数即可。
Go语言函数支持的特性包括：

参数数量不固定（可变参数）。
匿名函数及其闭包。
函数本身作为值传递。
函数的延迟执行。
把函数作为接口调用。

声明函数使用函数函数变量可变参数匿名函数和闭包延迟执行语句函数的声明以关键字func为标识，具体格式如下：
123func 函数名(参数列表) (返回参数列表){    函数体}

函数名：函数名由字母、数字和下划线构成，但是函数名不能以数字开头；在同一个包内，函数名不可重复。注意：可暂时简单地将一个包理解为一个文件夹。
参数列表：参数列表中的每个参数都由参数名称和参数类 ...</div></div></a></div><div><a href="/forward/f61b8e50.html" title="Golang-反射&amp;应用"><img class="cover" src="/images/pasted-2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-18</div><div class="title">Golang-反射&amp;应用</div><div class="info">
demo:反射方式实现ini文件反序列化
</div></div></a></div><div><a href="/forward/f9d199b7.html" title="Golang-接口"><img class="cover" src="/images/pasted-2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-02-15</div><div class="title">Golang-接口</div><div class="info">接口接口（interface）定义了一个对象的行为规范，只定义规范不实现，由具体的对象来实现规范的细节。
接口类型在Go语言中接口（interface）是一种类型，一种抽象的类型。
interface是一组method(方法)的集合，是duck-type programming的一种体现。接口做的事情就像是定义一个协议（规则），只要一台机器有洗衣服和甩干的功能，我就称它为洗衣机。不关心属性（数据），只关心行为（方法）。
为了保护你的Go语言职业生涯，请牢记接口（interface）是一种类型。
为什么要使用接口？
1234567891011121314151617181920212223242526272829303132333435363738394041type Cat struct{}type Dog struct{}type Pig struct{}func (c Cat) Say() string { return "喵喵喵" }func (d Dog) Say() strin ...</div></div></a></div><div><a href="/forward/8f91bfec.html" title="Golang-变量与基础数据类型、指针"><img class="cover" src="/images/pasted-2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-21</div><div class="title">Golang-变量与基础数据类型、指针</div><div class="info">Golang中的变量
声明变量标准格式批量声明1var 变量名 变量类型
例:声明变量num的类型为int
1var num int 使用关键字var和小括号，可以同时声明多个变量。
12345var( a int b string c bool)
初始化变量每种类型的变量初始化后都会有对应的默认值：

整型和浮点型变量的默认值为0。
字符串变量的默认值为空字符串。
布尔型变量默认为false。
切片、映射、函数和指针变量默认为nil。

注意：nil相当于其他编程语言中的null、None和NULL等，指代零值，在Go语言中只能赋值给切片、映射、函数、接口、指针或通道类型。
标准格式类型推导短变量声明并初始化1var 变量名 变量类型 = 表达式
例:声明变量num类型为int并赋值为1
1var num int = 1 在标准格式基础上，把变量类型省略后，编译器会根据等号右边的表达式推导变量的类型。例:初始化变量age值为20
1var age = 20同样会根据等号右边的表达式推导变量的类型。
1age := 30

多重赋值
1name, age := "Tom&amp;qu ...</div></div></a></div><div><a href="/forward/d5b63f7f.html" title="Golang-常量与运算符"><img class="cover" src="/images/pasted-2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-22</div><div class="title">Golang-常量与运算符</div><div class="info">常量概述: 常量与运算符是基本概念，对于Go语言，可以使用它们进行赋值、计算和比较。Go语言支持的运算包括算术运算、比较运算和逻辑运算等。
所谓常量，就是值不能变的量，比如常用的数学常数“π”就是一个常量。大多数的编程语言会使用全大写的变量名表示常量，所以约定俗成，如果常量的名字是全大写的变量，一般不做修改。
常量的定义显式定义隐式定义常量组定义常量枚举iota常量的声明以关键字const开头，后接变量类型并进行赋值，行尾没有其他标点符号。常量的显式声明格式如下：
1const 常量名 常量类型 = value
注意⚠️：一个常量被声明后可以不使用，但是变量一旦声明则必须使用。
1234567891011package mainimport "fmt"func main() {	const a float64 = 3.1415	const b string = "Hello World"	fmt.Println(a)}// 3.1415由于Go是编译型语言，定义常量时可以省略常量类型，因为编译器可以根据变量的值来推断其类型。常 ...</div></div></a></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"></div><div class="author-info__name">饼铛</div><div class="author-info__description">Think like a coder</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">104</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">89</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="/go.html?url=aHR0cHM6Ly90Lm1lL2pvaW5jaGF0L2NfUGFybW9ITW1VNU1ETTk=" target="_blank" title="Telegram" rel="external nofollow noopener noreferrer"><i class="fab fa-telegram-plane"></i></a><a class="social-icon" href="/go.html?url=aHR0cHM6Ly9xbS5xcS5jb20vY2dpLWJpbi9xbS9xcj9rPVExTjlsM2lzazhPX2k1YXdGd08tYmxBb1BIN1BVZWI0Jm5vdmVyaWZ5PTA=" target="_blank" title="QQ" rel="external nofollow noopener noreferrer"><i class="fab fa-qq"></i></a><a class="social-icon" href="mailto:admin@cakepanit.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/go.html?url=aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTMxMzc3NTI4Mg==" target="_blank" title="Netease" rel="external nofollow noopener noreferrer"><i class="fas fa-record-vinyl"></i></a></div></div><div class="card-widget"><div class="item-headline"><i class="fas fa-heartbeat"></i><span>Wishing for world peace</span></div><div class="item-content"><a target="_blank" rel="external nofollow noopener noreferrer" href="/go.html?url=aHR0cHM6Ly93d3cudW4ub3JnL3poL29ic2VydmFuY2VzL0ludGVybmF0aW9uYWwtZGF5LW9mLXNvbGlkYXJpdHktd2l0aC10aGUtcGFsZXN0aW5pYW4tcGVvcGxl"><div class="container"><div class="black"></div><div class="green"></div><div class="red"></div></div><style>body{margin:0}.container{width:100%;height:15.1vh;position:relative}.black{width:100%;top:0;position:absolute;background-color:black;height:33.3333%}.green{width:100%;bottom:0;position:absolute;background-color:green;height:33.3333%}.red{position:absolute;border-style:solid;border-color:transparent transparent transparent red;border-width:7.6vh;z-index:1}</style></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8C%87%E9%92%88"><span class="toc-number">1.</span> <span class="toc-text">指针</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E5%8F%96%E5%80%BC"><span class="toc-number">1.1.</span> <span class="toc-text">指针取值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E4%BC%A0%E9%80%92"><span class="toc-number">1.2.</span> <span class="toc-text">指针传递</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#new-%E5%92%8Cmake"><span class="toc-number">1.3.</span> <span class="toc-text">new()和make()</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#panic%E5%92%8Crecover"><span class="toc-number">2.</span> <span class="toc-text">panic和recover</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B%E5%92%8C%E7%B1%BB%E5%9E%8B%E5%88%AB%E5%90%8D"><span class="toc-number">3.</span> <span class="toc-text">自定义类型和类型别名</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-number">4.</span> <span class="toc-text">结构体</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E7%9A%84%E5%AE%9E%E4%BE%8B%E5%8C%96"><span class="toc-number">4.1.</span> <span class="toc-text">结构体的实例化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%AE%9E%E4%BE%8B%E5%8C%96"><span class="toc-number">4.1.1.</span> <span class="toc-text">基本实例化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-number">4.1.2.</span> <span class="toc-text">匿名结构体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B%E7%BB%93%E6%9E%84%E4%BD%93%EF%BC%88%EF%BC%89"><span class="toc-number">4.1.3.</span> <span class="toc-text">指针类型结构体（）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">4.2.</span> <span class="toc-text">结构体的初始化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E9%94%AE%E5%80%BC%E5%AF%B9%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">4.2.1.</span> <span class="toc-text">使用键值对初始化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E6%8C%87%E9%92%88%E9%94%AE%E5%80%BC%E5%AF%B9%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">4.2.2.</span> <span class="toc-text">结构体指针键值对初始化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%80%BC%E7%9A%84%E5%88%97%E8%A1%A8%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">4.2.3.</span> <span class="toc-text">使用值的列表初始化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E7%9A%84%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80"><span class="toc-number">4.3.</span> <span class="toc-text">结构体的内存布局</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">4.4.</span> <span class="toc-text">构造函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E4%BD%9C%E4%B8%9A"><span class="toc-number">4.4.1.</span> <span class="toc-text">图书管理作业</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E5%92%8C%E6%8E%A5%E6%94%B6%E8%80%85"><span class="toc-number">4.5.</span> <span class="toc-text">方法和接收者</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%8E%A5%E6%94%B6%E8%80%85%E2%98%85"><span class="toc-number">4.5.1.</span> <span class="toc-text">指针类型的接收者★</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%80%BC%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%8E%A5%E6%94%B6%E8%80%85"><span class="toc-number">4.5.2.</span> <span class="toc-text">值类型的接收者</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E5%BA%94%E8%AF%A5%E4%BD%BF%E7%94%A8%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B%E6%8E%A5%E6%94%B6%E8%80%85"><span class="toc-number">4.5.3.</span> <span class="toc-text">什么时候应该使用指针类型接收者</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%BB%E6%84%8F%E7%B1%BB%E5%9E%8B%E8%BF%BD%E5%8A%A0%E6%96%B9%E6%B3%95"><span class="toc-number">4.6.</span> <span class="toc-text">任意类型追加方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E7%9A%84%E5%8C%BF%E5%90%8D%E5%AD%97%E6%AE%B5"><span class="toc-number">4.7.</span> <span class="toc-text">结构体的匿名字段</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-number">4.8.</span> <span class="toc-text">嵌套结构体</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E5%8C%BF%E5%90%8D%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-number">4.9.</span> <span class="toc-text">嵌套匿名结构体</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E7%9A%84%E7%BB%A7%E6%89%BF"><span class="toc-number">4.10.</span> <span class="toc-text">结构体的继承</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E5%AD%97%E6%AE%B5%E7%9A%84%E5%8F%AF%E8%A7%81%E6%80%A7"><span class="toc-number">4.11.</span> <span class="toc-text">结构体字段的可见性</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JSON%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-number">5.</span> <span class="toc-text">JSON序列化</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93%E6%A0%87%E7%AD%BE%EF%BC%88Tag%EF%BC%89"><span class="toc-number">5.1.</span> <span class="toc-text">结构体标签（Tag）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SMS-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.</span> <span class="toc-text">SMS[面向对象]</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#return%E6%89%A7%E8%A1%8C%E5%8E%9F%E7%90%86%E5%92%8Cdefer%E6%89%A7%E8%A1%8C%E6%97%B6%E6%9C%BA"><span class="toc-number">7.</span> <span class="toc-text">return执行原理和defer执行时机</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#defer%E7%BB%8F%E5%85%B8%E6%A1%88%E4%BE%8B"><span class="toc-number">7.1.</span> <span class="toc-text">defer经典案例</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#golang%E4%B8%AD%E7%9A%84%E5%8C%85"><span class="toc-number">8.</span> <span class="toc-text">golang中的包</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%85%E4%BB%8B%E7%BB%8D"><span class="toc-number">8.1.</span> <span class="toc-text">包介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E5%8C%85"><span class="toc-number">8.2.</span> <span class="toc-text">定义包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E8%A7%81%E6%80%A7"><span class="toc-number">8.3.</span> <span class="toc-text">可见性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%85%E7%9A%84%E5%AF%BC%E5%85%A5"><span class="toc-number">8.4.</span> <span class="toc-text">包的导入</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E8%A1%8C%E5%AF%BC%E5%85%A5"><span class="toc-number">8.4.1.</span> <span class="toc-text">单行导入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E8%A1%8C%E5%AF%BC%E5%85%A5"><span class="toc-number">8.4.2.</span> <span class="toc-text">多行导入</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8C%85%E5%90%8D"><span class="toc-number">8.5.</span> <span class="toc-text">自定义包名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%AF%BC%E5%85%A5%E5%8C%85"><span class="toc-number">8.6.</span> <span class="toc-text">匿名导入包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#init-%E5%88%9D%E5%A7%8B%E5%8C%96%E5%87%BD%E6%95%B0"><span class="toc-number">8.7.</span> <span class="toc-text">init()初始化函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#init-%E5%87%BD%E6%95%B0%E4%BB%8B%E7%BB%8D"><span class="toc-number">8.7.1.</span> <span class="toc-text">init()函数介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#init-%E5%87%BD%E6%95%B0%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F"><span class="toc-number">8.7.2.</span> <span class="toc-text">init()函数执行顺序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#time%E5%8C%85"><span class="toc-number">8.8.</span> <span class="toc-text">time包</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B"><span class="toc-number">8.8.1.</span> <span class="toc-text">时间类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E6%88%B3"><span class="toc-number">8.8.2.</span> <span class="toc-text">时间戳</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E9%97%B4%E9%9A%94"><span class="toc-number">8.8.3.</span> <span class="toc-text">时间间隔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E6%93%8D%E4%BD%9C"><span class="toc-number">8.8.4.</span> <span class="toc-text">时间操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Add"><span class="toc-number">8.8.5.</span> <span class="toc-text">Add</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sub"><span class="toc-number">8.8.6.</span> <span class="toc-text">Sub</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Equal"><span class="toc-number">8.8.7.</span> <span class="toc-text">Equal</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Before"><span class="toc-number">8.8.8.</span> <span class="toc-text">Before</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#After"><span class="toc-number">8.8.9.</span> <span class="toc-text">After</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="toc-number">8.8.10.</span> <span class="toc-text">定时器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">8.8.11.</span> <span class="toc-text">时间格式化</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/forward/a5d41a5c.html" title="Golang-Gin+GORM-Demo"><img src="/images/pasted-335.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Golang-Gin+GORM-Demo"></a><div class="content"><a class="title" href="/forward/a5d41a5c.html" title="Golang-Gin+GORM-Demo">Golang-Gin+GORM-Demo</a><time datetime="2024-10-06T10:57:00.000Z" title="发表于 2024-10-06 18:57:00">2024-10-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/forward/4e89d84.html" title="Golang-23种设计模式"><img src="/images/pasted-2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Golang-23种设计模式"></a><div class="content"><a class="title" href="/forward/4e89d84.html" title="Golang-23种设计模式">Golang-23种设计模式</a><time datetime="2024-02-06T09:33:00.000Z" title="发表于 2024-02-06 17:33:00">2024-02-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/forward/d17c8c9b.html" title="Containerd与Docker"><img src="/images/pasted-334.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Containerd与Docker"></a><div class="content"><a class="title" href="/forward/d17c8c9b.html" title="Containerd与Docker">Containerd与Docker</a><time datetime="2024-01-11T06:40:00.000Z" title="发表于 2024-01-11 14:40:00">2024-01-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/forward/82cd681d.html" title="Golang-网络编程"><img src="/images/pasted-2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Golang-网络编程"></a><div class="content"><a class="title" href="/forward/82cd681d.html" title="Golang-网络编程">Golang-网络编程</a><time datetime="2024-01-05T03:30:00.000Z" title="发表于 2024-01-05 11:30:00">2024-01-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/forward/e94e48aa.html" title="Golang-面向“对象”：面向接口"><img src="/images/pasted-2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Golang-面向“对象”：面向接口"></a><div class="content"><a class="title" href="/forward/e94e48aa.html" title="Golang-面向“对象”：面向接口">Golang-面向“对象”：面向接口</a><time datetime="2023-11-10T16:45:00.000Z" title="发表于 2023-11-11 00:45:00">2023-11-11</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="footer-group-container"><div class="footer-group"><span class="footer-group-title">外链</span><a class="footer-group-item" target="_blank" rel="external nofollow noopener noreferrer" href="/go.html?url=aHR0cHM6Ly9jbi5hbGl5dW4uY29tLw==">alibaba cloud</a><a class="footer-group-item" target="_blank" rel="external nofollow noopener noreferrer" href="/go.html?url=aHR0cHM6Ly93d3cudGlvYmUuY29tL3Rpb2JlLWluZGV4Lw==">编程语言排名</a><a class="footer-group-item" target="_blank" rel="external nofollow noopener noreferrer" href="/go.html?url=aHR0cHM6Ly9zdG9yZS5zaW1wbGVoYWMuY24v">黑苹果资源站</a><a class="footer-group-item" target="_blank" rel="external nofollow noopener noreferrer" href="/go.html?url=aHR0cHM6Ly9mb3JldmVyYmxvZy5jbi9nby5odG1s">虫洞十年之约</a></div><div class="footer-group"><span class="footer-group-title">导航</span><a class="footer-group-item" href="/link/">友情链接</a><a class="footer-group-item" href="/tags/">全部标签</a><a class="footer-group-item" href="/charts/">文章统计</a><a class="footer-group-item" href="/bookshelf/">收藏书单</a></div><div class="footer-group"><span class="footer-group-title">分类</span><a class="footer-group-item" href="/categories/OPS/">运维教程</a><a class="footer-group-item" href="/categories/DBA/">DBA教程</a><a class="footer-group-item" href="/categories/DEV/">编码教程</a><a class="footer-group-item" target="_blank" rel="noopener" href="https://cmd.cakepanit.com/">命令查询</a></div><div class="footer-group"><span class="footer-group-title">关于</span><a class="footer-group-item" href="/notice/">网站公告</a><a class="footer-group-item" href="/about/">关于本站</a><a class="footer-group-item" href="/status/">站点监控</a><a class="footer-group-item" target="_blank" rel="noopener" href="https://docs.cakepanit.com/">帮助文档</a></div><div class="footer-group" id="footer-group-flink"><span class="footer-group-title">友链<i class="fas fa-arrow-rotate-right" title="随机友链" onclick="eurkon.footerRandomFlink(flinks, 3);"></i></span><a class="footer-group-item" href="" target="_blank" rel="noopener external nofollow noreferrer">加载中...</a><a class="footer-group-item" href="" target="_blank" rel="noopener external nofollow noreferrer">加载中...</a><a class="footer-group-item" href="" target="_blank" rel="noopener external nofollow noreferrer">加载中...</a><a class="footer-group-item" href="/link/">更多友链</a></div><div class="footer-group"><span class="footer-group-title">协议</span><a class="footer-group-item" href="/protocol/comment/" title="用户发言前，请认真阅读本条例。一经发言，即视为同意接受本条例；如不同意，请勿发言。">评论协议</a><a class="footer-group-item" href="/protocol/copyright/" title="本站所有原创文章采用知识共享(Creative Commons)署名—非商业性使用—相同方式共享4.0国际公共许可协议">版权协议</a></div></div><div id="footer-banner"><div id="footer-banner-container"><div class="footer-banner"><div class="copyright">Copyright © 2019 - 2025  Maxbit  All Rights Reserved.</div></div><div class="footer-banner"><a target="_blank" rel="external nofollow noopener noreferrer" href="/go.html?url=aHR0cHM6Ly9iZWlhbi5taWl0Lmdvdi5jbg==" title="ICP备案" style="display: flex; justify-content: center;"><img src="/img/beian.svg" alt="ICP备案" style="margin-right: 4px;">皖ICP备2021005605号-1</a><a target="_blank" rel="external nofollow noopener noreferrer" href="/go.html?url=aHR0cHM6Ly93d3cudXB5dW4uY29tLz91dG1fc291cmNlPWxpYW5tZW5nJnV0bV9tZWRpdW09cmVmZXJyYWw=" title="UPYUN" style="display: flex; justify-content: center;"><img src="/img/upyun.svg" alt="CDN加速" style="margin-right: 4px;">又拍云提供CDN加速</a></div></div></div></div></footer></div><div class="hidden" id="rightside-mask" onclick="eurkon.switchRightSide();"></div><div class="hidden" id="rightside"><div id="rightside-header"><div id="rightside-back"><i class="fas fa-chevron-left" onclick="eurkon.backRightSide();"></i></div><div id="rightside-title">设置</div><div id="rightside-close" onclick="eurkon.switchRightSide();"><i class="fas fa-xmark"></i></div></div><div id="rightside-content"><div id="card-post-content"><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/DBA/"><span class="card-category-list-name">DBA</span><span class="card-category-list-count">34</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/DEV/"><span class="card-category-list-name">DEV</span><span class="card-category-list-count">15</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/OPS/"><span class="card-category-list-name">OPS</span><span class="card-category-list-count">53</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a id="tags/Git/" href="/tags/Git/" style="font-size: 1.23em; color: rgb(127, 143, 29)">Git<sup>4</sup></a><a id="tags/GitLab/" href="/tags/GitLab/" style="font-size: 1.23em; color: rgb(44, 131, 163)">GitLab<sup>4</sup></a><a id="tags/OPS/" href="/tags/OPS/" style="font-size: 1.45em; color: rgb(65, 102, 20)">🌍OPS<sup>49</sup></a><a id="tags/Docker/" href="/tags/Docker/" style="font-size: 1.29em; color: rgb(158, 92, 141)">Docker<sup>7</sup></a><a id="tags/Containerd/" href="/tags/Containerd/" style="font-size: 1.15em; color: rgb(86, 176, 196)">Containerd<sup>1</sup></a><a id="tags/Download/" href="/tags/Download/" style="font-size: 1.15em; color: rgb(144, 68, 35)">⏬Download<sup>1</sup></a><a id="tags/ELK/" href="/tags/ELK/" style="font-size: 1.26em; color: rgb(110, 178, 108)">ELK<sup>5</sup></a><a id="tags/Skywalking/" href="/tags/Skywalking/" style="font-size: 1.15em; color: rgb(10, 111, 25)">Skywalking<sup>1</sup></a><a id="tags/链路追踪/" href="/tags/%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA/" style="font-size: 1.15em; color: rgb(152, 105, 161)">链路追踪<sup>1</sup></a><a id="tags/Logstash/" href="/tags/Logstash/" style="font-size: 1.18em; color: rgb(169, 125, 41)">Logstash<sup>2</sup></a><a id="tags/Nginx/" href="/tags/Nginx/" style="font-size: 1.18em; color: rgb(38, 67, 35)">Nginx<sup>2</sup></a><a id="tags/Golang/" href="/tags/Golang/" style="font-size: 1.37em; color: rgb(162, 181, 54)">📝Golang<sup>13</sup></a><a id="tags/设计模式/" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 1.15em; color: rgb(67, 23, 23)">设计模式<sup>1</sup></a><a id="tags/协程/" href="/tags/%E5%8D%8F%E7%A8%8B/" style="font-size: 1.15em; color: rgb(110, 8, 112)">协程<sup>1</sup></a><a id="tags/goroutine/" href="/tags/goroutine/" style="font-size: 1.15em; color: rgb(37, 67, 158)">goroutine<sup>1</sup></a><a id="tags/数据处理/" href="/tags/%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/" style="font-size: 1.15em; color: rgb(42, 90, 43)">数据处理<sup>1</sup></a><a id="tags/爬虫/" href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 1.15em; color: rgb(95, 131, 124)">爬虫<sup>1</sup></a><a id="tags/Gin/" href="/tags/Gin/" style="font-size: 1.15em; color: rgb(176, 132, 123)">Gin<sup>1</sup></a><a id="tags/GORM/" href="/tags/GORM/" style="font-size: 1.15em; color: rgb(164, 169, 176)">GORM<sup>1</sup></a><a id="tags/反射/" href="/tags/%E5%8F%8D%E5%B0%84/" style="font-size: 1.15em; color: rgb(197, 162, 10)">反射<sup>1</sup></a><a id="tags/reflect/" href="/tags/reflect/" style="font-size: 1.15em; color: rgb(58, 137, 6)">reflect<sup>1</sup></a><a id="tags/Kong/" href="/tags/Kong/" style="font-size: 1.2em; color: rgb(37, 141, 104)">Kong<sup>3</sup></a><a id="tags/OAuth2-0/" href="/tags/OAuth2-0/" style="font-size: 1.15em; color: rgb(176, 144, 111)">OAuth2.0<sup>1</sup></a><a id="tags/JumpServer/" href="/tags/JumpServer/" style="font-size: 1.15em; color: rgb(166, 91, 161)">JumpServer<sup>1</sup></a><a id="tags/堡垒机/" href="/tags/%E5%A0%A1%E5%9E%92%E6%9C%BA/" style="font-size: 1.15em; color: rgb(98, 96, 105)">堡垒机<sup>1</sup></a><a id="tags/iptables/" href="/tags/iptables/" style="font-size: 1.15em; color: rgb(19, 132, 71)">iptables<sup>1</sup></a><a id="tags/MongoDB/" href="/tags/MongoDB/" style="font-size: 1.2em; color: rgb(122, 184, 32)">MongoDB<sup>3</sup></a><a id="tags/NoSQL/" href="/tags/NoSQL/" style="font-size: 1.29em; color: rgb(36, 16, 11)">NoSQL<sup>7</sup></a><a id="tags/主从复制/" href="/tags/%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/" style="font-size: 1.34em; color: rgb(163, 200, 157)">主从复制<sup>12</sup></a><a id="tags/MySQL/" href="/tags/MySQL/" style="font-size: 1.42em; color: rgb(183, 113, 198)">🌲MySQL<sup>26</sup></a><a id="tags/读写分离/" href="/tags/%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB/" style="font-size: 1.23em; color: rgb(173, 140, 183)">读写分离<sup>4</sup></a><a id="tags/高可用/" href="/tags/%E9%AB%98%E5%8F%AF%E7%94%A8/" style="font-size: 1.31em; color: rgb(14, 178, 31)">高可用<sup>8</sup></a><a id="tags/MHA/" href="/tags/MHA/" style="font-size: 1.18em; color: rgb(80, 25, 38)">MHA<sup>2</sup></a><a id="tags/锁/" href="/tags/%E9%94%81/" style="font-size: 1.15em; color: rgb(146, 129, 95)">锁<sup>1</sup></a><a id="tags/分布式/" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 1.26em; color: rgb(143, 76, 155)">分布式<sup>5</sup></a><a id="tags/MyCAT/" href="/tags/MyCAT/" style="font-size: 1.2em; color: rgb(198, 135, 74)">MyCAT<sup>3</sup></a><a id="tags/垂直拆分/" href="/tags/%E5%9E%82%E7%9B%B4%E6%8B%86%E5%88%86/" style="font-size: 1.15em; color: rgb(144, 105, 140)">垂直拆分<sup>1</sup></a><a id="tags/ACID/" href="/tags/ACID/" style="font-size: 1.15em; color: rgb(134, 77, 109)">ACID<sup>1</sup></a><a id="tags/事务/" href="/tags/%E4%BA%8B%E5%8A%A1/" style="font-size: 1.15em; color: rgb(118, 76, 189)">事务<sup>1</sup></a><a id="tags/日志管理/" href="/tags/%E6%97%A5%E5%BF%97%E7%AE%A1%E7%90%86/" style="font-size: 1.23em; color: rgb(117, 29, 9)">日志管理<sup>4</sup></a><a id="tags/PAM/" href="/tags/PAM/" style="font-size: 1.15em; color: rgb(111, 41, 98)">PAM<sup>1</sup></a><a id="tags/SQL/" href="/tags/SQL/" style="font-size: 1.2em; color: rgb(51, 118, 48)">SQL<sup>3</sup></a><a id="tags/GPU/" href="/tags/GPU/" style="font-size: 1.15em; color: rgb(33, 43, 127)">GPU<sup>1</sup></a><a id="tags/nvidia/" href="/tags/nvidia/" style="font-size: 1.15em; color: rgb(117, 74, 171)">nvidia<sup>1</sup></a><a id="tags/Ansible/" href="/tags/Ansible/" style="font-size: 1.15em; color: rgb(83, 124, 119)">Ansible<sup>1</sup></a><a id="tags/Playbook/" href="/tags/Playbook/" style="font-size: 1.15em; color: rgb(142, 85, 31)">Playbook<sup>1</sup></a><a id="tags/一致性hash算法/" href="/tags/%E4%B8%80%E8%87%B4%E6%80%A7hash%E7%AE%97%E6%B3%95/" style="font-size: 1.15em; color: rgb(57, 149, 131)">一致性hash算法<sup>1</sup></a><a id="tags/Redis/" href="/tags/Redis/" style="font-size: 1.26em; color: rgb(92, 165, 13)">Redis<sup>5</sup></a><a id="tags/tools/" href="/tags/tools/" style="font-size: 1.15em; color: rgb(18, 39, 12)">tools<sup>1</sup></a><a id="tags/SVN/" href="/tags/SVN/" style="font-size: 1.15em; color: rgb(43, 5, 115)">SVN<sup>1</sup></a><a id="tags/Zabbix/" href="/tags/Zabbix/" style="font-size: 1.23em; color: rgb(158, 3, 59)">Zabbix<sup>4</sup></a><a id="tags/Zookeeper/" href="/tags/Zookeeper/" style="font-size: 1.2em; color: rgb(29, 35, 196)">Zookeeper<sup>3</sup></a><a id="tags/place/" href="/tags/place/" style="font-size: 1.15em; color: rgb(46, 151, 126)">place<sup>1</sup></a><a id="tags/Kubernetes/" href="/tags/Kubernetes/" style="font-size: 1.4em; color: rgb(192, 79, 169)">⛵Kubernetes<sup>21</sup></a><a id="tags/弹性伸缩/" href="/tags/%E5%BC%B9%E6%80%A7%E4%BC%B8%E7%BC%A9/" style="font-size: 1.15em; color: rgb(168, 9, 171)">弹性伸缩<sup>1</sup></a><a id="tags/mysql备份/" href="/tags/mysql%E5%A4%87%E4%BB%BD/" style="font-size: 1.15em; color: rgb(34, 115, 192)">mysql备份<sup>1</sup></a><a id="tags/gRPC/" href="/tags/gRPC/" style="font-size: 1.15em; color: rgb(19, 69, 93)">gRPC<sup>1</sup></a><a id="tags/调度策略/" href="/tags/%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5/" style="font-size: 1.15em; color: rgb(101, 4, 49)">调度策略<sup>1</sup></a><a id="tags/数据备份/" href="/tags/%E6%95%B0%E6%8D%AE%E5%A4%87%E4%BB%BD/" style="font-size: 1.18em; color: rgb(175, 20, 9)">数据备份<sup>2</sup></a><a id="tags/OPENVPN/" href="/tags/OPENVPN/" style="font-size: 1.15em; color: rgb(3, 189, 183)">OPENVPN<sup>1</sup></a><a id="tags/树莓派/" href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" style="font-size: 1.15em; color: rgb(122, 109, 11)">树莓派<sup>1</sup></a><a id="tags/Minecraft/" href="/tags/Minecraft/" style="font-size: 1.15em; color: rgb(29, 197, 124)">Minecraft<sup>1</sup></a><a id="tags/优化/" href="/tags/%E4%BC%98%E5%8C%96/" style="font-size: 1.15em; color: rgb(155, 84, 148)">优化<sup>1</sup></a><a id="tags/DNS/" href="/tags/DNS/" style="font-size: 1.15em; color: rgb(25, 144, 38)">DNS<sup>1</sup></a><a id="tags/Canal/" href="/tags/Canal/" style="font-size: 1.15em; color: rgb(52, 119, 107)">Canal<sup>1</sup></a><a id="tags/多表联查/" href="/tags/%E5%A4%9A%E8%A1%A8%E8%81%94%E6%9F%A5/" style="font-size: 1.15em; color: rgb(81, 39, 147)">多表联查<sup>1</sup></a><a id="tags/Apollo/" href="/tags/Apollo/" style="font-size: 1.15em; color: rgb(145, 23, 10)">Apollo<sup>1</sup></a><a id="tags/CI-CD/" href="/tags/CI-CD/" style="font-size: 1.18em; color: rgb(86, 85, 163)">CI/CD<sup>2</sup></a><a id="tags/面向对象/" href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" style="font-size: 1.15em; color: rgb(185, 57, 58)">面向对象<sup>1</sup></a><a id="tags/网络编程/" href="/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" style="font-size: 1.15em; color: rgb(92, 81, 88)">网络编程<sup>1</sup></a><a id="tags/水平拆分/" href="/tags/%E6%B0%B4%E5%B9%B3%E6%8B%86%E5%88%86/" style="font-size: 1.15em; color: rgb(121, 44, 92)">水平拆分<sup>1</sup></a><a id="tags/索引/" href="/tags/%E7%B4%A2%E5%BC%95/" style="font-size: 1.15em; color: rgb(167, 175, 157)">索引<sup>1</sup></a><a id="tags/Redis哨兵/" href="/tags/Redis%E5%93%A8%E5%85%B5/" style="font-size: 1.15em; color: rgb(6, 175, 24)">Redis哨兵<sup>1</sup></a><a id="tags/Terraform/" href="/tags/Terraform/" style="font-size: 1.15em; color: rgb(46, 180, 4)">Terraform<sup>1</sup></a><a id="tags/基础设施即代码/" href="/tags/%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD%E5%8D%B3%E4%BB%A3%E7%A0%81/" style="font-size: 1.15em; color: rgb(56, 11, 54)">基础设施即代码<sup>1</sup></a><a id="tags/公有云编排/" href="/tags/%E5%85%AC%E6%9C%89%E4%BA%91%E7%BC%96%E6%8E%92/" style="font-size: 1.15em; color: rgb(156, 116, 190)">公有云编排<sup>1</sup></a><a id="tags/数据持久化/" href="/tags/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/" style="font-size: 1.15em; color: rgb(179, 60, 120)">数据持久化<sup>1</sup></a><a id="tags/Workload/" href="/tags/Workload/" style="font-size: 1.15em; color: rgb(114, 23, 14)">Workload<sup>1</sup></a><a id="tags/CNI/" href="/tags/CNI/" style="font-size: 1.15em; color: rgb(84, 136, 131)">CNI<sup>1</sup></a><a id="tags/服务发现/" href="/tags/%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0/" style="font-size: 1.15em; color: rgb(51, 43, 95)">服务发现<sup>1</sup></a><a id="tags/无人应答/" href="/tags/%E6%97%A0%E4%BA%BA%E5%BA%94%E7%AD%94/" style="font-size: 1.15em; color: rgb(142, 1, 84)">无人应答<sup>1</sup></a><a id="tags/preseed/" href="/tags/preseed/" style="font-size: 1.15em; color: rgb(88, 150, 0)">preseed<sup>1</sup></a><a id="tags/数据库优化/" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96/" style="font-size: 1.15em; color: rgb(116, 185, 5)">数据库优化<sup>1</sup></a><a id="tags/Prometheus/" href="/tags/Prometheus/" style="font-size: 1.15em; color: rgb(62, 93, 38)">Prometheus<sup>1</sup></a><a id="tags/StatefuSet/" href="/tags/StatefuSet/" style="font-size: 1.15em; color: rgb(27, 175, 162)">StatefuSet<sup>1</sup></a><a id="tags/Helm-v3/" href="/tags/Helm-v3/" style="font-size: 1.15em; color: rgb(22, 139, 125)">Helm v3<sup>1</sup></a><a id="tags/容器编排/" href="/tags/%E5%AE%B9%E5%99%A8%E7%BC%96%E6%8E%92/" style="font-size: 1.15em; color: rgb(16, 116, 161)">容器编排<sup>1</sup></a><a id="tags/SHELL/" href="/tags/SHELL/" style="font-size: 1.15em; color: rgb(136, 123, 16)">SHELL<sup>1</sup></a><a id="tags/RAID/" href="/tags/RAID/" style="font-size: 1.15em; color: rgb(156, 100, 85)">RAID<sup>1</sup></a></div></div></div></div><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-sun"></i><i class="fas fa-moon"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightmenu"><div class="rightmenu-group rightmenu-small"><div class="rightmenu-item" id="menu-backward" onclick="window.history.back()"><i class="fas fa-arrow-left"></i></div><div class="rightmenu-item" id="menu-forward" onclick="window.history.forward()"><i class="fas fa-arrow-right"></i></div><div class="rightmenu-item" id="menu-refresh" onclick="window.history.reload()"><i class="fas fa-arrow-rotate-right"></i></div><div class="rightmenu-item" id="menu-top" onclick="btf.scrollToDest(0, 500)"><i class="fas fa-arrow-up"></i></div></div><div class="rightmenu-group rightmenu-line" id="rightmenu-text"><div class="rightmenu-item" id="menu-copy"><i class="fas fa-copy"></i><span>复制内容</span></div><div class="rightmenu-item" id="menu-comment"><i class="fas fa-comment"></i><span>引用评论</span></div><div class="rightmenu-item" id="menu-paste"><i class="fas fa-paste"></i><span>粘贴文本</span></div><div class="rightmenu-item" id="menu-search"><i class="fas fa-search"></i><span>在本站搜索</span></div><div class="rightmenu-item" id="menu-baidu"><i class="fas fa-search-plus"></i><span>去百度搜索</span></div></div><div class="rightmenu-group rightmenu-line" id="rightmenu-href"><div class="rightmenu-item" id="menu-copy-image"><i class="fas fa-copy"></i><span>复制图片</span></div><div class="rightmenu-item" id="menu-download-image"><i class="fas fa-download"></i><span>下载图片</span></div><div class="rightmenu-item" id="menu-link"><i class="fas fa-link"></i><span>分享链接</span></div><div class="rightmenu-item" id="menu-window"><i class="fas fa-window-restore"></i><span>新窗口打开</span></div></div><div class="rightmenu-group rightmenu-line" id="rightmenu-post"><a class="rightmenu-item" id="menu-random" href="/random/"><i class="fas fa-random"></i><span>随机文章</span></a><a class="rightmenu-item" id="menu-categories" href="/categories/"><i class="fas fa-shapes"></i><span>全部分类</span></a><a class="rightmenu-item" id="menu-tags" href="/tags/"><i class="fas fa-tags"></i><span>所有标签</span></a><div class="rightmenu-item" id="menu-share"><i class="fas fa-share-square"></i><span>分享本页</span></div></div><div class="rightmenu-group rightmenu-line" id="rightmenu-site"><a class="rightmenu-item" id="menu-message" href="/message/"><i class="fas fa-envelope"></i><span>留言信箱</span></a><a class="rightmenu-item" id="menu-about" href="/about/"><i class="fas fa-address-card"></i><span>关于本站</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/eurkon/color-thief.min.js"></script><script defer="" src="/js/eurkon/eurkon.js"></script><script defer="" data-pjax="" src="/js/eurkon/refresh.js"></script><script src="/js/tw_cn.js"></script><script src="/css/fei/fancybox.umd.min.js"></script><script src="/css/fei/instantpage.min.js" type="module"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script defer="" data-pjax="" async="" src="//at.alicdn.com/t/font_2358265_expoyqe85d4.js"></script><div class="aplayer no-destroy" data-id="9114857987" data-server="netease" data-type="playlist" data-order="random" data-fixed="true" data-autoplay="false"> </div><link rel="stylesheet" href="/css/fei/APlayer.min.css" media="print" onload="this.media='all'"><script src="/css/fei/APlayer.min.js"></script><script src="/css/fei/Meting.min.js"></script><script src="/css/fei/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: true,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', 'G-0MFDY8HY5K', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-0MFDY8HY5K');

})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async="" data-pjax="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/haru01.model.json"},"bottom":-40,"display":{"position":"right","width":190,"height":380,"hOffset":5},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html><script>var posts=["forward/60c1bc2d.html","forward/408a4bb8.html","forward/d17c8c9b.html","forward/download.html","forward/882d9505.html","forward/131c756.html","forward/d063782.html","forward/47eea66c.html","forward/873540ab.html","forward/eb065b59.html","forward/4e89d84.html","forward/17b35260.html","forward/c675163c.html","forward/d12df344.html","forward/a5d41a5c.html","forward/f61b8e50.html","forward/f9d199b7.html","forward/8f91bfec.html","forward/d5b63f7f.html","forward/420acb0d.html","forward/1e56645c.html","forward/bac240f7.html","forward/d7240237.html","forward/c4bb5371.html","forward/6c0d75ae.html","forward/74c8159a.html","forward/3053135c.html","forward/bbb9c58b.html","forward/c919a25c.html","forward/49de8711.html","forward/557ea64b.html","forward/f34e607d.html","forward/c3e1b71a.html","forward/bc8a646.html","forward/93ea067.html","forward/3c4a0863.html","forward/ddc093b3.html","forward/62bf20bb.html","forward/a7fae6f0.html","forward/36cbf320.html","forward/4f3d60c1.html","forward/cb26d424.html","forward/c6f90662.html","forward/67af6371.html","forward/ae362167.html","forward/fb94f251.html","forward/b571ca78.html","forward/212d60e3.html","forward/fabc6ce1.html","forward/ae26d423.html","forward/f353577b.html","forward/7be7c575.html","forward/2f09977b.html","forward/3837938a.html","forward/4a17b156.html","forward/2aa52898.html","forward/5234d9e2.html","forward/48a90e5c.html","forward/55d102bd.html","forward/1758bdeb.html","forward/6cfd7a23.html","forward/3ea5fff1.html","forward/ad8d3f77.html","forward/8cd3cd17.html","forward/8e9bbd7d.html","forward/2cfbf2d2.html","forward/8bd2a16a.html","forward/d6f16b84.html","forward/d4ac701.html","forward/29b0e6a9.html","forward/d36764c1.html","forward/91db5a91.html","forward/852a3e1.html","forward/13c392b.html","forward/e94e48aa.html","forward/40c70ce.html","forward/82cd681d.html","forward/c3e55136.html","forward/84c0fcc7.html","forward/69e1266e.html","forward/663d93c2.html","forward/68023dec.html","forward/da64184b.html","forward/3df8560c.html","forward/ae6c7518.html","forward/b36ee5af.html","forward/1051b489.html","forward/dc57d8c4.html","forward/8269a7fd.html","forward/61316209.html","forward/503970b4.html","forward/8ed285a0.html","forward/ff7280bd.html","forward/b17eefd4.html","forward/5c41384a.html","forward/14a32ee2.html","forward/58eea07e.html","forward/dc57d8c5.html","forward/7139bb18.html","forward/6b4e4d76.html","forward/649a95fd.html","forward/e9795f03.html","forward/57e2aa11.html","forward/312ec9e0.html"];function toRandomPost(){ window.pjax ? pjax.loadUrl('/'+posts[Math.floor(Math.random()*posts.length)]) : window.open('/'+posts[Math.floor(Math.random()*posts.length)], "_self"); };</script><script>var flinks=[{"name":"Eurkon","link":"https://blog.eurkon.com","avatar":"https://blog.eurkon.com/images/user/avatar.jpg","descr":"不只是代码的搬运工"},{"name":"豌豆多多","link":"https://wandouduoduo.github.io/","avatar":"/img/link/index.png","descr":"资深沪漂运维工程师"},{"name":"缺缺","link":"https://www.quewaner.com/","avatar":"https://q2.qlogo.cn/headimg_dl?dst_uin=3393597524&spec=100","descr":"资深前端工程师"},{"name":"yiyun","link":"https://moeci.com/","avatar":"https://q2.qlogo.cn/headimg_dl?dst_uin=2284407619&spec=100","descr":"全栈开发"},{"name":"二哈小窝","link":"https://www.moeeh.cn/","avatar":"https://www.moeeh.cn/eh/eh.png","descr":"苦酒折柳今相离 无风无月也无你"},{"name":"Akilarの糖果屋","link":"https://akilar.top/","avatar":"https://unpkg.zhimg.com/akilar-candyassets/image/siteicon/favicon.png","descr":"期待您的光临！"},{"name":"APP喵","link":"https://www.appmiu.com/","avatar":"https://q2.qlogo.cn/headimg_dl?dst_uin=904037151&spec=100","descr":"阿喵优质应用分享"},{"name":"七星比特","link":"https://www.qixingbit.com","avatar":"https://q2.qlogo.cn/headimg_dl?dst_uin=320406741&spec=100","descr":"信息安全,网络技术,交换路由,编程,漏洞挖掘,CTF"},{"name":"一朵大呲花","link":"https://www.iiemo.com/","avatar":"https://www.iiemo.com/logo.png","descr":"资深NB前端大佬"},{"name":"周小雨","link":"https://zxyy.me/","avatar":"https://q2.qlogo.cn/headimg_dl?dst_uin=1016673080&spec=100","descr":"PHP程序猿"},{"name":"ACG食堂","link":"https://canteen.globalacca.top/","avatar":"https://q2.qlogo.cn/headimg_dl?dst_uin=1478030465&spec=100","descr":"汇集ACG、动漫和galgame为一体的综合小站"},{"name":"海拥","link":"https://haiyong.site","avatar":"https://haiyong.site/img/favicon.png","descr":"一枚乐于分享技术与快乐的博主"},{"name":"杂烩饭","link":"https://zahui.fan","avatar":"https://q2.qlogo.cn/headimg_dl?dst_uin=393991732&spec=100","descr":"运维、运维开发技术分享"},{"name":"小高导航","link":"https://www.dhw22.com/","avatar":"https://www.dhw22.com/wp-content/uploads/2022/01/Favicon.png","descr":"资源类技术教程活动导航分类平台"},{"name":"SimpleHac资源社","link":"https://store.simplehac.cn/","avatar":"https://store.simplehac.cn/wp-content/uploads/2024/12/96e7a03a1e20241206225057.png","descr":"想你所想，至你所及"},{"name":"华为开源镜像站","link":"https://mirrors.huaweicloud.com/","avatar":"/img/link/huawei.png","descr":"构建万物互联的智能世界"},{"name":"阿里开源镜像站","link":"https://mirrors.aliyun.com/","avatar":"/img/link/aliyun.png","descr":"为了无法计算的价值"},{"name":"网易开源镜像站","link":"https://mirrors.163.com/","avatar":"/img/link/netease.png","descr":"网聚人的力量"},{"name":"搜狐开源镜像站","link":"https://mirrors.sohu.com/","avatar":"/img/link/souhu.png","descr":"上搜狐 知天下"},{"name":"清华开源镜像站","link":"https://mirrors.tuna.tsinghua.edu.cn/","avatar":"/img/link/qh.png","descr":"自强不息,厚德载物"},{"name":"浙大开源镜像站","link":"https://mirrors.zju.edu.cn/","avatar":"/img/link/zd.png","descr":"兼总条贯,知至知终"},{"name":"中科大开源镜像站","link":"https://mirrors.ustc.edu.cn/","avatar":"/img/link/zkd.png","descr":"红专并进,理实交融"},{"name":"兰大开源镜像站","link":"https://mirror.lzu.edu.cn/","avatar":"/img/link/ld.png","descr":"独树一帜,自强不息"}];function toRandomFlink(){window.open(flinks[Math.floor(Math.random()*flinks.length)].link);};</script>