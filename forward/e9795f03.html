<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>Golang-åŸºç¡€è¯­æ³• | Maxbit</title><meta name="author" content="é¥¼é“›"><meta name="copyright" content="é¥¼é“›"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="å…³é”®å­—Goè¯­è¨€è®¾è®¡çš„å…³é”®å­—ï¼Œäº†è§£è¿™äº›å…³é”®å­—æœ‰åŠ©äºå‘½åå˜é‡çš„å†²çªé¿å… goçš„äºŒåäº”ä¸ªå…³é”®å­—12345break    default      func    interface    selectcase     defer        go      map          structchan     else         goto    package      switchcons">
<meta property="og:type" content="article">
<meta property="og:title" content="Golang-åŸºç¡€è¯­æ³•">
<meta property="og:url" content="https://cakepanit.com/forward/e9795f03.html">
<meta property="og:site_name" content="Maxbit">
<meta property="og:description" content="å…³é”®å­—Goè¯­è¨€è®¾è®¡çš„å…³é”®å­—ï¼Œäº†è§£è¿™äº›å…³é”®å­—æœ‰åŠ©äºå‘½åå˜é‡çš„å†²çªé¿å… goçš„äºŒåäº”ä¸ªå…³é”®å­—12345break    default      func    interface    selectcase     defer        go      map          structchan     else         goto    package      switchcons">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cakepanit.com/images/pasted-2.png">
<meta property="article:published_time" content="2023-03-24T21:42:00.000Z">
<meta property="article:modified_time" content="2026-02-15T15:09:41.577Z">
<meta property="article:author" content="é¥¼é“›">
<meta property="article:tag" content="Golang">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://cakepanit.com/images/pasted-2.png">
<meta name="twitter:site" content="@maxbit_tech"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://cakepanit.com/forward/e9795f03.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/css/fei/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="/css/fei/fancybox.min.css" media="print" onload="this.media='all'"><script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: 'ca-pub-1372389585456420',
  enable_page_level_ads: 'true'
});</script><script data-pjax="" defer="" async="async" src="https://www.googletagmanager.com/gtag/js?id=G-0MFDY8HY5K"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-0MFDY8HY5K');
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç°¡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: {"limitCount":100,"languages":{"author":"ä½œè€…: é¥¼é“›","link":"é“¾æ¥: ","source":"æ¥æº: Maxbit","info":"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: '/css/fei/fjGallery.min.js',
      css: '/css/fei/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Golang-åŸºç¡€è¯­æ³•',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2026-02-15 23:09:41'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = url => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      link.onload = () => resolve()
      link.onerror = () => reject()
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://s1.hdslb.com/bfs/static/jinkela/long/font/regular.css"><link rel="stylesheet" href="/css/fei/danmaku-tags.css"><link rel="stylesheet" href="/css/fei/tags-fold.css"><link rel="stylesheet" href="/css/fei/swiper-bundle.min.css"><link rel="stylesheet" href="/css/fei/love.css"><link rel="stylesheet" href="/css/fei/theme-transition.css"><link rel="stylesheet" href="/css/fei/greeting.css"><script src="/css/fei/swiper-bundle.min.js"></script><script src="/css/fei/pace.min.js"></script><script src="/css/fei/echarts.min.js"></script><script src="/css/fei/theme-transition.js"></script><script src="/js/fei/greeting.js"></script><style type="text/css"> .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body { left: -66px !important; /* é»˜è®¤æƒ…å†µä¸‹ç¼©è¿›å·¦ä¾§66pxï¼Œåªç•™ä¸€ç‚¹ç®­å¤´éƒ¨åˆ† */ }
.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover { left: 0 !important; /* é¼ æ ‡æ‚¬åœæ˜¯å·¦ä¾§ç¼©è¿›å½’é›¶ï¼Œå®Œå…¨æ˜¾ç¤ºæŒ‰é’® */ } </style><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Maxbit",
  "url": "https://cakepanit.com",
  "description": "MaxbitæŠ€æœ¯åšå®¢ - åˆ†äº«Kubernetesã€Dockerã€Golangã€MySQLç­‰è¿ç»´å¼€å‘å®æˆ˜æ•™ç¨‹ã€‚æ¶µç›–DevOpsã€äº‘åŸç”Ÿã€Linuxè¿ç»´ã€æ•°æ®åº“ç®¡ç†ï¼ŒåŠ©åŠ›ITå·¥ç¨‹å¸ˆæŠ€æœ¯è¿›é˜¶ï¼",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://cakepanit.com/search?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Maxbit",
  "url": "https://cakepanit.com",
  "logo": "https://cakepanit.com/img/avatar.jpg",
  "sameAs": [
    "https://github.com/bingdang"
  ]
}
</script><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "Golang-åŸºç¡€è¯­æ³•",
  "description": "å…³é”®å­—Goè¯­è¨€è®¾è®¡çš„å…³é”®å­—ï¼Œäº†è§£è¿™äº›å…³é”®å­—æœ‰åŠ©äºå‘½åå˜é‡çš„å†²çªé¿å…
goçš„äºŒåäº”ä¸ªå…³é”®å­—12345break    default      func    interface    selectcase     defer        go      map          structchan     else         goto    package      switchcons",
  "image": "/images/pasted-2.png",
  "datePublished": "2023-03-24T21:42:00.000Z",
  "dateModified": "2026-02-15T15:09:41.577Z",
  "author": {
    "@type": "Person",
    "name": "é¥¼é“›"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Maxbit",
    "logo": {
      "@type": "ImageObject",
      "url": "https://cakepanit.com/img/avatar.jpg"
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://cakepanit.com/forward/e9795f03.html"
  }
}
</script><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {&quot;@type&quot;: &quot;ListItem&quot;, &quot;position&quot;: 1, &quot;name&quot;: &quot;é¦–é¡µ&quot;, &quot;item&quot;: &quot;https://cakepanit.com&quot;},
        {&quot;@type&quot;: &quot;ListItem&quot;, &quot;position&quot;: 2, &quot;name&quot;: &quot;DEV&quot;, &quot;item&quot;: &quot;https://cakepanit.com/categories/DEV/&quot;},
        {&quot;@type&quot;: &quot;ListItem&quot;, &quot;position&quot;: 3, &quot;name&quot;: &quot;Golang-åŸºç¡€è¯­æ³•&quot;, &quot;item&quot;: &quot;https://cakepanit.com/forward/e9795f03.html&quot;}
  ]
}</script></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">104</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">89</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">3</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-fw fas fa-book-open"></i><span> æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/" target="_self"><i class="fa-fw fa-fw fas fa-archive"></i><span> æ–‡ç« åˆ—è¡¨</span></a></li><li><a class="site-page child" href="/categories/" target="_self"><i class="fa-fw fa-fw fas fa-shapes"></i><span> å…¨éƒ¨åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/" target="_self"><i class="fa-fw fa-fw fas fa-tags"></i><span> æ‰€æœ‰æ ‡ç­¾</span></a></li><li><a class="site-page child" href="javascript:toRandomPost();" target="_self"><i class="fa-fw fa-fw fas fa-random"></i><span> éšä¾¿çœ‹çœ‹</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-fw fas fa-link"></i><span> å¯¼èˆª</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/" target="_self"><i class="fa-fw fa-fw fas fa-child"></i><span> å‹æƒ…é“¾æ¥</span></a></li><li><a class="site-page child" href="/about/" target="_self"><i class="fa-fw fa-fw fas fa-address-card"></i><span> å…³äºæœ¬ç«™</span></a></li><li><a class="site-page child" href="https://pan.cakepanit.com/" target="_blank"><i class="fa-fw fa-fw fas fa-cloud"></i><span> æˆ‘çš„äº‘ç›˜</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> å…¶ä»–</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/" target="_self"><i class="fa-fw fas fa-file-image"></i><span> æ”¶è—å›¾åº“</span></a></li><li><a class="site-page child" href="/bookshelf/" target="_self"><i class="fa-fw fas fa-bookmark"></i><span> æ”¶è—ä¹¦å•</span></a></li><li><a class="site-page child" href="/music/" target="_blank"><i class="fa-fw fas fa-music"></i><span> å¤©å¤©åŠ¨å¬</span></a></li><li><a class="site-page child" href="/status/" target="_self"><i class="fa-fw fab fa-accessible-icon"></i><span> ç«™ç‚¹ç›‘æ§</span></a></li><li><a class="site-page child" href="https://docs.cakepanit.com/" target="_self"><i class="fa-fw fa fa-tasks"></i><span> å¸®åŠ©æ–‡æ¡£</span></a></li><li><a class="site-page child" href="https://cmd.cakepanit.com/" target="_self"><i class="fa-fw fa fa-sort-alpha-desc"></i><span> å‘½ä»¤æŸ¥è¯¢</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/images/pasted-2.png')"><nav id="nav"><div id="nav-group"><span id="blog-info"> <a class="site-page" href="/" title="Maxbit"><span class="site-name">Maxbit</span><i class="fas fa-home"></i></a></span><span id="page_name"><a class="site-page" id="page-title" title="å›åˆ°é¡¶éƒ¨" onclick="btf.scrollToDest(0, 500)"><span>Maxbit</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-fw fas fa-book-open"></i><span> æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/" target="_self"><i class="fa-fw fa-fw fas fa-archive"></i><span> æ–‡ç« åˆ—è¡¨</span></a></li><li><a class="site-page child" href="/categories/" target="_self"><i class="fa-fw fa-fw fas fa-shapes"></i><span> å…¨éƒ¨åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/" target="_self"><i class="fa-fw fa-fw fas fa-tags"></i><span> æ‰€æœ‰æ ‡ç­¾</span></a></li><li><a class="site-page child" href="javascript:toRandomPost();" target="_self"><i class="fa-fw fa-fw fas fa-random"></i><span> éšä¾¿çœ‹çœ‹</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-fw fas fa-link"></i><span> å¯¼èˆª</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/" target="_self"><i class="fa-fw fa-fw fas fa-child"></i><span> å‹æƒ…é“¾æ¥</span></a></li><li><a class="site-page child" href="/about/" target="_self"><i class="fa-fw fa-fw fas fa-address-card"></i><span> å…³äºæœ¬ç«™</span></a></li><li><a class="site-page child" href="https://pan.cakepanit.com/" target="_blank"><i class="fa-fw fa-fw fas fa-cloud"></i><span> æˆ‘çš„äº‘ç›˜</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> å…¶ä»–</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/" target="_self"><i class="fa-fw fas fa-file-image"></i><span> æ”¶è—å›¾åº“</span></a></li><li><a class="site-page child" href="/bookshelf/" target="_self"><i class="fa-fw fas fa-bookmark"></i><span> æ”¶è—ä¹¦å•</span></a></li><li><a class="site-page child" href="/music/" target="_blank"><i class="fa-fw fas fa-music"></i><span> å¤©å¤©åŠ¨å¬</span></a></li><li><a class="site-page child" href="/status/" target="_self"><i class="fa-fw fab fa-accessible-icon"></i><span> ç«™ç‚¹ç›‘æ§</span></a></li><li><a class="site-page child" href="https://docs.cakepanit.com/" target="_self"><i class="fa-fw fa fa-tasks"></i><span> å¸®åŠ©æ–‡æ¡£</span></a></li><li><a class="site-page child" href="https://cmd.cakepanit.com/" target="_self"><i class="fa-fw fa fa-sort-alpha-desc"></i><span> å‘½ä»¤æŸ¥è¯¢</span></a></li></ul></div></div></div><div id="hotkey"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="æœç´¢"><i class="fas fa-search fa-fw"></i></a></div><div id="setting-button" onclick="eurkon.switchRightSide();"><a class="site-page" href="javascript:void(0);" title="è®¾ç½®"><i class="fas fa-screwdriver-wrench fa-fw"></i></a></div><div id="admin-button" style="display:none;"><a class="site-page" href="/admin/login/" title="ç™»å½•" target="_blank"><i class="fas fa-user-shield fa-fw"></i></a></div><script>(function(){
  var host = window.location.hostname;
  if (host !== 'cakepanit.com' && host !== 'www.cakepanit.com') {
    var btn = document.getElementById('admin-button');
    if (btn) btn.style.display = '';
  }
})();</script><div id="top-button"><a class="site-page" href="javascript:void(0);" title="å›åˆ°é¡¶éƒ¨" onclick="btf.scrollToDest(0, 500)"><span class="scroll-percent"></span><i class="fas fa-arrow-up fa-fw"></i></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-cover"><img class="cover" id="post-cover-img" src= "/img/loading.gif" data-lazy-src="/images/pasted-2.png" alt="cover"></div><div id="post-info"><div id="post-meta"><div class="meta-firstline"><span class="post-meta-categories"><i class="fas fa-shapes fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/DEV/">DEV</a></span><span class="post-meta-tags"><span class="post-meta-separator">|</span><i class="fas fa-tags fa-fw post-meta-icon"></i><a class="post-meta-tags" href="/tags/Golang/">ğŸ“Golang</a></span></div><h1 class="post-title">Golang-åŸºç¡€è¯­æ³•</h1><div class="meta-secondline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2023-03-24T21:42:00.000Z" title="å‘è¡¨äº 2023-03-25 05:42:00">2023-03-25</time></span><span class="post-meta-separator">|</span><span class="post-meta-date"><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2026-02-15T15:09:41.577Z" title="æ›´æ–°äº 2026-02-15 23:09:41">2026-02-15</time></span><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">21.1k</span><span class="post-meta-separator">|</span></span><span class="post-meta-min2read"><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>82åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Golang-åŸºç¡€è¯­æ³•"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div><div id="post"><article class="post-content" id="article-container"><h1 id="å…³é”®å­—"><a href="#å…³é”®å­—" class="headerlink" title="å…³é”®å­—"></a>å…³é”®å­—</h1><p>Goè¯­è¨€è®¾è®¡çš„å…³é”®å­—ï¼Œäº†è§£è¿™äº›å…³é”®å­—æœ‰åŠ©äºå‘½åå˜é‡çš„å†²çªé¿å…</p>
<h3 id="goçš„äºŒåäº”ä¸ªå…³é”®å­—"><a href="#goçš„äºŒåäº”ä¸ªå…³é”®å­—" class="headerlink" title="goçš„äºŒåäº”ä¸ªå…³é”®å­—"></a>goçš„äºŒåäº”ä¸ªå…³é”®å­—</h3><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">break    default      func    interface    select</span><br><span class="line">case     defer        go      map          struct</span><br><span class="line">chan     else         goto    package      switch</span><br><span class="line">const    fallthrough  if      range        type</span><br><span class="line">continue for          import  return       var</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><ul>
<li><p><code>var</code>å’Œ<code>const</code> æ˜¯ Goè¯­è¨€åŸºç¡€é‡Œé¢çš„å˜é‡å’Œå¸¸é‡ç”³æ˜</p>
</li>
<li><p><code>package</code>å’Œ<code>import</code> ç”¨äºåˆ†åŒ…å’Œå¯¼å…¥</p>
</li>
<li><p><code>func</code> ç”¨äºå®šä¹‰å‡½æ•°å’Œæ–¹æ³•</p>
</li>
<li><p><code>return</code> ç”¨äºä»å‡½æ•°è¿”å›</p>
</li>
<li><p><code>defer</code> ç”¨äºç±»ä¼¼ææ„å‡½æ•°</p>
</li>
<li><p><code>go</code> ç”¨äºå¹¶å‘</p>
</li>
<li><p><code>select</code> ç”¨äºé€‰æ‹©ä¸åŒç±»å‹çš„é€šè®¯</p>
</li>
<li><p><code>interface</code> ç”¨äºå®šä¹‰æ¥å£</p>
</li>
<li><p><code>struct</code> ç”¨äºå®šä¹‰æŠ½è±¡æ•°æ®ç±»å‹</p>
</li>
<li><p><code>break</code>ã€<code>case</code>ã€<code>continue</code>ã€<code>for</code>ã€<code>fallthrough</code>ã€<code>else</code>ã€<code>if</code>ã€<code>switch</code>ã€<code>goto</code>ã€<code>default</code> ç”¨äºæµç¨‹æ§åˆ¶</p>
</li>
<li><p><code>chan</code>ç”¨äºchannelé€šè®¯</p>
</li>
<li><p><code>type</code>ç”¨äºå£°æ˜è‡ªå®šä¹‰ç±»å‹</p>
</li>
<li><p><code>map</code>ç”¨äºå£°æ˜mapç±»å‹æ•°æ®</p>
</li>
<li><p><code>range</code>ç”¨äºè¯»å–sliceã€mapã€channelæ•°æ®</p>
</li>
</ul>
<h1 id="æ•°æ®ç±»å‹çš„å®šä¹‰"><a href="#æ•°æ®ç±»å‹çš„å®šä¹‰" class="headerlink" title="æ•°æ®ç±»å‹çš„å®šä¹‰"></a>æ•°æ®ç±»å‹çš„å®šä¹‰</h1><h2 id="å®šä¹‰å˜é‡"><a href="#å®šä¹‰å˜é‡" class="headerlink" title="å®šä¹‰å˜é‡"></a>å®šä¹‰å˜é‡</h2><p>Goè¯­è¨€é‡Œé¢å®šä¹‰å˜é‡æœ‰å¤šç§æ–¹å¼ã€‚</p>
<p>ä½¿ç”¨<code>var</code>å…³é”®å­—æ˜¯Goæœ€åŸºæœ¬çš„å®šä¹‰å˜é‡æ–¹å¼ï¼Œä¸Cè¯­è¨€ä¸åŒçš„æ˜¯GoæŠŠå˜é‡ç±»å‹æ”¾åœ¨å˜é‡ååé¢ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰ä¸€ä¸ªåç§°ä¸ºâ€œvariableNameâ€ï¼Œç±»å‹ä¸º"type"çš„å˜é‡</span></span><br><span class="line"><span class="keyword">var</span> variableName <span class="keyword">type</span></span><br></pre></td></tr></tbody></table></figure>

<p>å®šä¹‰å¤šä¸ªå˜é‡</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰ä¸‰ä¸ªç±»å‹éƒ½æ˜¯â€œtypeâ€çš„å˜é‡</span></span><br><span class="line"><span class="keyword">var</span> vname1, vname2, vname3 <span class="keyword">type</span></span><br></pre></td></tr></tbody></table></figure>

<p>å®šä¹‰å˜é‡å¹¶åˆå§‹åŒ–å€¼</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆå§‹åŒ–â€œvariableNameâ€çš„å˜é‡ä¸ºâ€œvalueâ€å€¼ï¼Œç±»å‹æ˜¯â€œtypeâ€</span></span><br><span class="line"><span class="keyword">var</span> variableName <span class="keyword">type</span> = value</span><br></pre></td></tr></tbody></table></figure>

<p>åŒæ—¶åˆå§‹åŒ–å¤šä¸ªå˜é‡</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    å®šä¹‰ä¸‰ä¸ªç±»å‹éƒ½æ˜¯"type"çš„å˜é‡,å¹¶ä¸”åˆ†åˆ«åˆå§‹åŒ–ä¸ºç›¸åº”çš„å€¼</span></span><br><span class="line"><span class="comment">    vname1ä¸ºv1ï¼Œvname2ä¸ºv2ï¼Œvname3ä¸ºv3</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> vname1, vname2, vname3 <span class="keyword">type</span>= v1, v2, v3</span><br></pre></td></tr></tbody></table></figure>

<p>æ˜¯ä¸æ˜¯è§‰å¾—ä¸Šé¢è¿™æ ·çš„å®šä¹‰æœ‰ç‚¹ç¹çï¼Ÿæœ‰ä¸€ç§å†™æ³•å¯ä»¥è®©å®ƒå˜å¾—ç®€å•ä¸€ç‚¹ã€‚å¯ä»¥ç›´æ¥å¿½ç•¥ç±»å‹å£°æ˜ï¼Œé‚£ä¹ˆä¸Šé¢çš„ä»£ç å˜æˆè¿™æ ·äº†ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    å®šä¹‰ä¸‰ä¸ªå˜é‡ï¼Œå®ƒä»¬åˆ†åˆ«åˆå§‹åŒ–ä¸ºç›¸åº”çš„å€¼</span></span><br><span class="line"><span class="comment">    vname1ä¸ºv1ï¼Œvname2ä¸ºv2ï¼Œvname3ä¸ºv3</span></span><br><span class="line"><span class="comment">    ç„¶åGoä¼šæ ¹æ®å…¶ç›¸åº”å€¼çš„ç±»å‹æ¥åˆå§‹åŒ–å®ƒä»¬</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> vname1, vname2, vname3 = v1, v2, v3</span><br></pre></td></tr></tbody></table></figure>

<p>è§‰å¾—ä¸Šé¢çš„è¿˜æ˜¯æœ‰äº›ç¹çï¼Œç»§ç»­ç®€åŒ–ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    å®šä¹‰ä¸‰ä¸ªå˜é‡ï¼Œå®ƒä»¬åˆ†åˆ«åˆå§‹åŒ–ä¸ºç›¸åº”çš„å€¼</span></span><br><span class="line"><span class="comment">    vname1ä¸ºv1ï¼Œvname2ä¸ºv2ï¼Œvname3ä¸ºv3</span></span><br><span class="line"><span class="comment">    ç¼–è¯‘å™¨ä¼šæ ¹æ®åˆå§‹åŒ–çš„å€¼è‡ªåŠ¨æ¨å¯¼å‡ºç›¸åº”çš„ç±»å‹</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">vname1, vname2, vname3 := v1, v2, v3</span><br></pre></td></tr></tbody></table></figure>

<p>ç°åœ¨æ˜¯ä¸æ˜¯çœ‹ä¸Šå»éå¸¸ç®€æ´äº†ï¼Ÿ<code>:=</code>è¿™ä¸ªç¬¦å·ç›´æ¥å–ä»£äº†<code>var</code>å’Œ<code>type</code>,è¿™ç§å½¢å¼å«åšç®€çŸ­å£°æ˜ã€‚ä¸è¿‡å®ƒæœ‰ä¸€ä¸ªé™åˆ¶ï¼Œé‚£å°±æ˜¯å®ƒåªèƒ½ç”¨åœ¨å‡½æ•°å†…éƒ¨ï¼›åœ¨å‡½æ•°å¤–éƒ¨ä½¿ç”¨åˆ™ä¼šæ— æ³•ç¼–è¯‘é€šè¿‡ï¼Œæ‰€ä»¥ä¸€èˆ¬ç”¨<code>var</code>æ–¹å¼æ¥å®šä¹‰å…¨å±€å˜é‡ã€‚</p>
<p><code>_</code>ï¼ˆä¸‹åˆ’çº¿ï¼‰æ˜¯ä¸ªç‰¹æ®Šçš„å˜é‡åï¼Œä»»ä½•èµ‹äºˆå®ƒçš„å€¼éƒ½ä¼šè¢«ä¸¢å¼ƒã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå°†å€¼<code>35</code>èµ‹äºˆ<code>b</code>ï¼Œå¹¶åŒæ—¶ä¸¢å¼ƒ<code>34</code>ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_, b := <span class="number">34</span>, <span class="number">35</span></span><br></pre></td></tr></tbody></table></figure>

<p>Goå¯¹äºå·²å£°æ˜ä½†æœªä½¿ç”¨çš„å˜é‡ä¼šåœ¨ç¼–è¯‘é˜¶æ®µæŠ¥é”™ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä»£ç å°±ä¼šäº§ç”Ÿä¸€ä¸ªé”™è¯¯ï¼šå£°æ˜äº†<code>i</code>ä½†æœªä½¿ç”¨ã€‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">var</span> i <span class="type">int</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="å¸¸é‡"><a href="#å¸¸é‡" class="headerlink" title="å¸¸é‡"></a>å¸¸é‡</h2><p>æ‰€è°“å¸¸é‡ï¼Œä¹Ÿå°±æ˜¯åœ¨ç¨‹åºç¼–è¯‘é˜¶æ®µå°±ç¡®å®šä¸‹æ¥çš„å€¼ï¼Œè€Œç¨‹åºåœ¨è¿è¡Œæ—¶æ— æ³•æ”¹å˜è¯¥å€¼ã€‚åœ¨Goç¨‹åºä¸­ï¼Œå¸¸é‡å¯å®šä¹‰ä¸ºæ•°å€¼ã€å¸ƒå°”å€¼æˆ–å­—ç¬¦ä¸²ç­‰ç±»å‹ã€‚</p>
<p>å®ƒçš„è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> constantName = value</span><br><span class="line"><span class="comment">//å¦‚æœéœ€è¦ï¼Œä¹Ÿå¯ä»¥æ˜ç¡®æŒ‡å®šå¸¸é‡çš„ç±»å‹ï¼š</span></span><br><span class="line"><span class="keyword">const</span> Pi <span class="type">float32</span> = <span class="number">3.1415926</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢æ˜¯ä¸€äº›å¸¸é‡å£°æ˜çš„ä¾‹å­ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Pi = <span class="number">3.1415926</span></span><br><span class="line"><span class="keyword">const</span> i = <span class="number">10000</span></span><br><span class="line"><span class="keyword">const</span> MaxThread = <span class="number">10</span></span><br><span class="line"><span class="keyword">const</span> prefix = <span class="string">"astaxie_"</span></span><br></pre></td></tr></tbody></table></figure>

<p>Go å¸¸é‡å’Œä¸€èˆ¬ç¨‹åºè¯­è¨€ä¸åŒçš„æ˜¯ï¼Œå¯ä»¥æŒ‡å®šç›¸å½“å¤šçš„å°æ•°ä½æ•°(ä¾‹å¦‚200ä½)ï¼Œè‹¥æŒ‡å®šç»™<code>float32</code>è‡ªåŠ¨ç¼©çŸ­ä¸º<code>32bit</code>ï¼ŒæŒ‡å®šç»™<code>float64</code>è‡ªåŠ¨ç¼©çŸ­ä¸º<code>64bit</code>ï¼Œè¯¦æƒ…å‚è€ƒ <code>http://golang.org/ref/spec#Constants</code> (éœ€ç§‘å­¦ä¸Šç½‘)</p>
<h2 id="å†…ç½®åŸºç¡€ç±»å‹"><a href="#å†…ç½®åŸºç¡€ç±»å‹" class="headerlink" title="å†…ç½®åŸºç¡€ç±»å‹"></a>å†…ç½®åŸºç¡€ç±»å‹</h2><h3 id="Boolean"><a href="#Boolean" class="headerlink" title="Boolean"></a>Boolean</h3><p>åœ¨Goä¸­ï¼Œå¸ƒå°”å€¼çš„ç±»å‹ä¸º<code>bool</code>ï¼Œå€¼æ˜¯<code>true</code>æˆ–<code>false</code>ï¼Œé»˜è®¤ä¸º<code>false</code>ã€‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¤ºä¾‹ä»£ç </span></span><br><span class="line"><span class="keyword">var</span> isActive <span class="type">bool</span>  <span class="comment">// å…¨å±€å˜é‡å£°æ˜</span></span><br><span class="line"><span class="keyword">var</span> enabled, disabled = <span class="literal">true</span>, <span class="literal">false</span>  <span class="comment">// å¿½ç•¥ç±»å‹çš„å£°æ˜</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">var</span> available <span class="type">bool</span>  <span class="comment">// ä¸€èˆ¬å£°æ˜</span></span><br><span class="line">    valid := <span class="literal">false</span>      <span class="comment">// ç®€çŸ­å£°æ˜</span></span><br><span class="line">    available = <span class="literal">true</span>    <span class="comment">// èµ‹å€¼æ“ä½œ</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æ•°å€¼ç±»å‹"><a href="#æ•°å€¼ç±»å‹" class="headerlink" title="æ•°å€¼ç±»å‹"></a>æ•°å€¼ç±»å‹</h3><p>æ•´æ•°ç±»å‹æœ‰æ— ç¬¦å·å’Œå¸¦ç¬¦å·ä¸¤ç§ã€‚GoåŒæ—¶æ”¯æŒ<code>int</code>å’Œ<code>uint</code>ï¼Œè¿™ä¸¤ç§ç±»å‹çš„é•¿åº¦ç›¸åŒï¼Œä½†å…·ä½“é•¿åº¦å–å†³äºä¸åŒç¼–è¯‘å™¨çš„å®ç°ã€‚Goé‡Œé¢ä¹Ÿæœ‰ç›´æ¥å®šä¹‰å¥½ä½æ•°çš„ç±»å‹ï¼š<code>rune</code>, <code>int8</code>, <code>int16</code>, <code>int32</code>, <code>int64</code>å’Œ<code>byte</code>, <code>uint8</code>, <code>uint16</code>, <code>uint32</code>, <code>uint64</code>ã€‚å…¶ä¸­<code>rune</code>æ˜¯<code>int32</code>çš„åˆ«ç§°ï¼Œ<code>byte</code>æ˜¯<code>uint8</code>çš„åˆ«ç§°ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œè¿™äº›ç±»å‹çš„å˜é‡ä¹‹é—´ä¸å…è®¸äº’ç›¸èµ‹å€¼æˆ–æ“ä½œï¼Œä¸ç„¶ä¼šåœ¨ç¼–è¯‘æ—¶å¼•èµ·ç¼–è¯‘å™¨æŠ¥é”™ã€‚</p>
<p>å¦‚ä¸‹çš„ä»£ç ä¼šäº§ç”Ÿé”™è¯¯ï¼šinvalid operation: a + b (mismatched types int8 and int32)</p>
<p>var a int8</p>
<p>var b int32</p>
<p>c:=a + b</p>
<p>å¦å¤–ï¼Œå°½ç®¡intçš„é•¿åº¦æ˜¯32 bit, ä½†int ä¸ int32å¹¶ä¸å¯ä»¥äº’ç”¨ã€‚</p>
<p>æµ®ç‚¹æ•°çš„ç±»å‹æœ‰<code>float32</code>å’Œ<code>float64</code>ä¸¤ç§ï¼ˆæ²¡æœ‰<code>float</code>ç±»å‹ï¼‰ï¼Œé»˜è®¤æ˜¯<code>float64</code>ã€‚</p>
<p>Goè¿˜æ”¯æŒå¤æ•°ã€‚å®ƒçš„é»˜è®¤ç±»å‹æ˜¯<code>complex128</code>ï¼ˆ64ä½å®æ•°+64ä½è™šæ•°ï¼‰ã€‚å¦‚æœéœ€è¦å°ä¸€äº›çš„ï¼Œä¹Ÿæœ‰<code>complex64</code>(32ä½å®æ•°+32ä½è™šæ•°)ã€‚å¤æ•°çš„å½¢å¼ä¸º<code>RE + IMi</code>ï¼Œå…¶ä¸­<code>RE</code>æ˜¯å®æ•°éƒ¨åˆ†ï¼Œ<code>IM</code>æ˜¯è™šæ•°éƒ¨åˆ†ï¼Œè€Œæœ€åçš„<code>i</code>æ˜¯è™šæ•°å•ä½ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨å¤æ•°çš„ä¾‹å­ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> c <span class="type">complex64</span> = <span class="number">5</span>+<span class="number">5i</span></span><br><span class="line"><span class="comment">//output: (5+5i)</span></span><br><span class="line">fmt.Printf(<span class="string">"Value is: %v"</span>, c)</span><br></pre></td></tr></tbody></table></figure>

<h3 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h3><p>Goä¸­çš„å­—ç¬¦ä¸²éƒ½æ˜¯é‡‡ç”¨<code>UTF-8</code>å­—ç¬¦é›†ç¼–ç ã€‚å­—ç¬¦ä¸²æ˜¯ç”¨ä¸€å¯¹åŒå¼•å·ï¼ˆ<code>""</code>ï¼‰æˆ–åå¼•å·ï¼ˆ<code> </code>ï¼‰æ‹¬èµ·æ¥å®šä¹‰ï¼Œå®ƒçš„ç±»å‹æ˜¯<code>string</code>ã€‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¤ºä¾‹ä»£ç </span></span><br><span class="line"><span class="keyword">var</span> frenchHello <span class="type">string</span>  <span class="comment">// å£°æ˜å˜é‡ä¸ºå­—ç¬¦ä¸²çš„ä¸€èˆ¬æ–¹æ³•</span></span><br><span class="line"><span class="keyword">var</span> emptyString <span class="type">string</span> = <span class="string">""</span>  <span class="comment">// å£°æ˜äº†ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡ï¼Œåˆå§‹åŒ–ä¸ºç©ºå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> {</span><br><span class="line">    no, yes, maybe := <span class="string">"no"</span>, <span class="string">"yes"</span>, <span class="string">"maybe"</span>  <span class="comment">// ç®€çŸ­å£°æ˜ï¼ŒåŒæ—¶å£°æ˜å¤šä¸ªå˜é‡</span></span><br><span class="line">    japaneseHello := <span class="string">"Konichiwa"</span>  <span class="comment">// åŒä¸Š</span></span><br><span class="line">    frenchHello = <span class="string">"Bonjour"</span>  <span class="comment">// å¸¸è§„èµ‹å€¼</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨Goä¸­å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œä¾‹å¦‚ä¸‹é¢çš„ä»£ç ç¼–è¯‘æ—¶ä¼šæŠ¥é”™ï¼šcannot assign to s[0]</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s <span class="type">string</span> = <span class="string">"hello"</span></span><br><span class="line">s[<span class="number">0</span>] = <span class="string">'c'</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä½†å¦‚æœçœŸçš„æƒ³è¦ä¿®æ”¹æ€ä¹ˆåŠå‘¢ï¼Ÿä¸‹é¢çš„ä»£ç å¯ä»¥å®ç°ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s := <span class="string">"hello"</span></span><br><span class="line">c := []<span class="type">byte</span>(s)  <span class="comment">// å°†å­—ç¬¦ä¸² s è½¬æ¢ä¸º []byte ç±»å‹</span></span><br><span class="line">c[<span class="number">0</span>] = <span class="string">'c'</span></span><br><span class="line">s2 := <span class="type">string</span>(c)  <span class="comment">// å†è½¬æ¢å› string ç±»å‹</span></span><br><span class="line">fmt.Printf(<span class="string">"%s\n"</span>, s2)</span><br></pre></td></tr></tbody></table></figure>

<p>Goä¸­å¯ä»¥ä½¿ç”¨<code>+</code>æ“ä½œç¬¦æ¥è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s := <span class="string">"hello,"</span></span><br><span class="line">m := <span class="string">" world"</span></span><br><span class="line">a := s + m</span><br><span class="line">fmt.Printf(<span class="string">"%s\n"</span>, a)</span><br></pre></td></tr></tbody></table></figure>

<p>ä¿®æ”¹å­—ç¬¦ä¸²ä¹Ÿå¯å†™ä¸ºï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s := <span class="string">"hello"</span></span><br><span class="line">s = <span class="string">"c"</span> + s[<span class="number">1</span>:] <span class="comment">// å­—ç¬¦ä¸²è™½ä¸èƒ½æ›´æ”¹ï¼Œä½†å¯è¿›è¡Œåˆ‡ç‰‡æ“ä½œ</span></span><br><span class="line">fmt.Printf(<span class="string">"%s\n"</span>, s)</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœè¦å£°æ˜ä¸€ä¸ªå¤šè¡Œçš„å­—ç¬¦ä¸²æ€ä¹ˆåŠï¼Ÿå¯ä»¥é€šè¿‡```æ¥å£°æ˜ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">m := <span class="string">`hello</span></span><br><span class="line"><span class="string">    world`</span></span><br></pre></td></tr></tbody></table></figure>

<p>``` æ‹¬èµ·çš„å­—ç¬¦ä¸²ä¸º<code>Raw</code>å­—ç¬¦ä¸²ï¼Œå³å­—ç¬¦ä¸²åœ¨ä»£ç ä¸­çš„å½¢å¼å°±æ˜¯æ‰“å°æ—¶çš„å½¢å¼ï¼Œå®ƒæ²¡æœ‰å­—ç¬¦è½¬ä¹‰ï¼Œæ¢è¡Œä¹Ÿå°†åŸæ ·è¾“å‡ºã€‚ä¾‹å¦‚æœ¬ä¾‹ä¸­ä¼šè¾“å‡ºï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hello</span><br><span class="line">    world</span><br></pre></td></tr></tbody></table></figure>

<h2 id="é”™è¯¯ç±»å‹"><a href="#é”™è¯¯ç±»å‹" class="headerlink" title="é”™è¯¯ç±»å‹"></a>é”™è¯¯ç±»å‹</h2><p>Goå†…ç½®æœ‰ä¸€ä¸ª<code>error</code>ç±»å‹ï¼Œä¸“é—¨ç”¨æ¥å¤„ç†é”™è¯¯ä¿¡æ¯ï¼ŒGoçš„<code>package</code>é‡Œé¢è¿˜ä¸“é—¨æœ‰ä¸€ä¸ªåŒ…<code>errors</code>æ¥å¤„ç†é”™è¯¯ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">err := errors.New(<span class="string">"emit macho dwarf: elf header corrupted"</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">    fmt.Print(err)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="åˆ†ç»„å£°æ˜"><a href="#åˆ†ç»„å£°æ˜" class="headerlink" title="åˆ†ç»„å£°æ˜"></a>åˆ†ç»„å£°æ˜</h2><p>åœ¨Goè¯­è¨€ä¸­ï¼ŒåŒæ—¶å£°æ˜å¤šä¸ªå¸¸é‡ã€å˜é‡ï¼Œæˆ–è€…å¯¼å…¥å¤šä¸ªåŒ…æ—¶ï¼Œå¯é‡‡ç”¨åˆ†ç»„çš„æ–¹å¼è¿›è¡Œå£°æ˜ã€‚</p>
<p>ä¾‹å¦‚ä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">"os"</span></span><br><span class="line"><span class="keyword">const</span> i = <span class="number">100</span></span><br><span class="line"><span class="keyword">const</span> pi = <span class="number">3.1415</span></span><br><span class="line"><span class="keyword">const</span> prefix = <span class="string">"Go_"</span></span><br><span class="line"><span class="keyword">var</span> i <span class="type">int</span></span><br><span class="line"><span class="keyword">var</span> pi <span class="type">float32</span></span><br><span class="line"><span class="keyword">var</span> prefix <span class="type">string</span></span><br></pre></td></tr></tbody></table></figure>

<p>å¯ä»¥åˆ†ç»„å†™æˆå¦‚ä¸‹å½¢å¼ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">const</span>(</span><br><span class="line">    i = <span class="number">100</span></span><br><span class="line">    pi = <span class="number">3.1415</span></span><br><span class="line">    prefix = <span class="string">"Go_"</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">var</span>(</span><br><span class="line">    i <span class="type">int</span></span><br><span class="line">    pi <span class="type">float32</span></span><br><span class="line">    prefix <span class="type">string</span></span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure>

<h2 id="iotaæšä¸¾"><a href="#iotaæšä¸¾" class="headerlink" title="iotaæšä¸¾"></a>iotaæšä¸¾</h2><p>Goé‡Œé¢æœ‰ä¸€ä¸ªå…³é”®å­—<code>iota</code>ï¼Œè¿™ä¸ªå…³é”®å­—ç”¨æ¥å£°æ˜<code>enum</code>çš„æ—¶å€™é‡‡ç”¨ï¼Œå®ƒé»˜è®¤å¼€å§‹å€¼æ˜¯0ï¼Œconstä¸­æ¯å¢åŠ ä¸€è¡ŒåŠ 1ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    x = <span class="literal">iota</span> <span class="comment">// x == 0</span></span><br><span class="line">    y = <span class="literal">iota</span> <span class="comment">// y == 1</span></span><br><span class="line">    z = <span class="literal">iota</span> <span class="comment">// z == 2</span></span><br><span class="line">    w        <span class="comment">// å¸¸é‡å£°æ˜çœç•¥å€¼æ—¶ï¼Œé»˜è®¤å’Œä¹‹å‰ä¸€ä¸ªå€¼çš„å­—é¢ç›¸åŒã€‚è¿™é‡Œéšå¼åœ°è¯´w = iotaï¼Œå› æ­¤w == 3ã€‚å…¶å®ä¸Šé¢yå’Œzå¯åŒæ ·ä¸ç”¨"= iota"</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">const</span> v = <span class="literal">iota</span> <span class="comment">// æ¯é‡åˆ°ä¸€ä¸ªconstå…³é”®å­—ï¼Œiotaå°±ä¼šé‡ç½®ï¼Œæ­¤æ—¶v == 0</span></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    h, i, j = <span class="literal">iota</span>, <span class="literal">iota</span>, <span class="literal">iota</span> <span class="comment">//h=0,i=0,j=0 iotaåœ¨åŒä¸€è¡Œå€¼ç›¸åŒ</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    a       = <span class="literal">iota</span> <span class="comment">//a=0</span></span><br><span class="line">    b       = <span class="string">"B"</span></span><br><span class="line">    c       = <span class="literal">iota</span>             <span class="comment">//c=2</span></span><br><span class="line">    d, e, f = <span class="literal">iota</span>, <span class="literal">iota</span>, <span class="literal">iota</span> <span class="comment">//d=3,e=3,f=3</span></span><br><span class="line">    g       = <span class="literal">iota</span>             <span class="comment">//g = 4</span></span><br><span class="line">)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    fmt.Println(a, b, c, d, e, f, g, h, i, j, x, y, z, w, v)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>é™¤éè¢«æ˜¾å¼è®¾ç½®ä¸ºå…¶å®ƒå€¼æˆ–<code>iota</code>ï¼Œæ¯ä¸ª<code>const</code>åˆ†ç»„çš„ç¬¬ä¸€ä¸ªå¸¸é‡è¢«é»˜è®¤è®¾ç½®ä¸ºå®ƒçš„0å€¼ï¼Œç¬¬äºŒåŠåç»­çš„å¸¸é‡è¢«é»˜è®¤è®¾ç½®ä¸ºå®ƒå‰é¢é‚£ä¸ªå¸¸é‡çš„å€¼ï¼Œå¦‚æœå‰é¢é‚£ä¸ªå¸¸é‡çš„å€¼æ˜¯<code>iota</code>ï¼Œåˆ™å®ƒä¹Ÿè¢«è®¾ç½®ä¸º<code>iota</code>ã€‚</p>
<h2 id="Goç¨‹åºè®¾è®¡çš„ä¸€äº›è§„åˆ™"><a href="#Goç¨‹åºè®¾è®¡çš„ä¸€äº›è§„åˆ™" class="headerlink" title="Goç¨‹åºè®¾è®¡çš„ä¸€äº›è§„åˆ™"></a>Goç¨‹åºè®¾è®¡çš„ä¸€äº›è§„åˆ™</h2><p>Goä¹‹æ‰€ä»¥ä¼šé‚£ä¹ˆç®€æ´ï¼Œæ˜¯å› ä¸ºå®ƒæœ‰ä¸€äº›é»˜è®¤çš„è¡Œä¸ºï¼š</p>
<ul>
<li>å¤§å†™å­—æ¯å¼€å¤´çš„å˜é‡æ˜¯å¯å¯¼å‡ºçš„ï¼Œä¹Ÿå°±æ˜¯å…¶å®ƒåŒ…å¯ä»¥è¯»å–çš„ï¼Œæ˜¯å…¬æœ‰å˜é‡ï¼›å°å†™å­—æ¯å¼€å¤´çš„å°±æ˜¯ä¸å¯å¯¼å‡ºçš„ï¼Œæ˜¯ç§æœ‰å˜é‡ã€‚</li>
<li>å¤§å†™å­—æ¯å¼€å¤´çš„å‡½æ•°ä¹Ÿæ˜¯ä¸€æ ·ï¼Œç›¸å½“äº<code>class</code>ä¸­çš„å¸¦<code>public</code>å…³é”®è¯çš„å…¬æœ‰å‡½æ•°ï¼›å°å†™å­—æ¯å¼€å¤´çš„å°±æ˜¯æœ‰<code>private</code>å…³é”®è¯çš„ç§æœ‰å‡½æ•°ã€‚</li>
</ul>
<h2 id="arrayã€sliceã€map"><a href="#arrayã€sliceã€map" class="headerlink" title="arrayã€sliceã€map"></a><code>array</code>ã€<code>slice</code>ã€<code>map</code></h2><h3 id="array"><a href="#array" class="headerlink" title="array"></a><code>array</code></h3><p><code>array</code>å°±æ˜¯æ•°ç»„ï¼Œå®ƒçš„å®šä¹‰æ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr [n]<span class="keyword">type</span></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨<code>[n]type</code>ä¸­ï¼Œ<code>n</code>è¡¨ç¤ºæ•°ç»„çš„é•¿åº¦ï¼Œ<code>type</code>è¡¨ç¤ºå­˜å‚¨å…ƒç´ çš„ç±»å‹ã€‚å¯¹æ•°ç»„çš„æ“ä½œå’Œå…¶å®ƒè¯­è¨€ç±»ä¼¼ï¼Œéƒ½æ˜¯é€šè¿‡<code>[]</code>æ¥è¿›è¡Œè¯»å–æˆ–èµ‹å€¼ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr [<span class="number">10</span>]<span class="type">int</span>  <span class="comment">// å£°æ˜äº†ä¸€ä¸ªintç±»å‹çš„æ•°ç»„</span></span><br><span class="line">arr[<span class="number">0</span>] = <span class="number">42</span>      <span class="comment">// æ•°ç»„ä¸‹æ ‡æ˜¯ä»0å¼€å§‹çš„</span></span><br><span class="line">arr[<span class="number">1</span>] = <span class="number">13</span>      <span class="comment">// èµ‹å€¼æ“ä½œ</span></span><br><span class="line">fmt.Printf(<span class="string">"The first element is %d\n"</span>, arr[<span class="number">0</span>])  <span class="comment">// è·å–æ•°æ®ï¼Œè¿”å›42</span></span><br><span class="line">fmt.Printf(<span class="string">"The last element is %d\n"</span>, arr[<span class="number">9</span>]) <span class="comment">//è¿”å›æœªèµ‹å€¼çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œé»˜è®¤è¿”å›0</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç”±äºé•¿åº¦ä¹Ÿæ˜¯æ•°ç»„ç±»å‹çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤<code>[3]int</code>ä¸<code>[4]int</code>æ˜¯ä¸åŒçš„ç±»å‹ï¼Œæ•°ç»„ä¹Ÿå°±ä¸èƒ½æ”¹å˜é•¿åº¦ã€‚æ•°ç»„ä¹‹é—´çš„èµ‹å€¼æ˜¯å€¼çš„èµ‹å€¼ï¼Œå³å½“æŠŠä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°ä¼ å…¥å‡½æ•°çš„æ—¶å€™ï¼Œä¼ å…¥çš„å…¶å®æ˜¯è¯¥æ•°ç»„çš„å‰¯æœ¬ï¼Œè€Œä¸æ˜¯å®ƒçš„æŒ‡é’ˆã€‚å¦‚æœè¦ä½¿ç”¨æŒ‡é’ˆï¼Œé‚£ä¹ˆå°±éœ€è¦ç”¨åˆ°åé¢ä»‹ç»çš„<code>slice</code>ç±»å‹äº†ã€‚</p>
<p>æ•°ç»„å¯ä»¥ä½¿ç”¨å¦ä¸€ç§<code>:=</code>æ¥å£°æ˜</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a := [<span class="number">3</span>]<span class="type">int</span>{<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>} <span class="comment">// å£°æ˜äº†ä¸€ä¸ªé•¿åº¦ä¸º3çš„intæ•°ç»„</span></span><br><span class="line">b := [<span class="number">10</span>]<span class="type">int</span>{<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>} <span class="comment">// å£°æ˜äº†ä¸€ä¸ªé•¿åº¦ä¸º10çš„intæ•°ç»„ï¼Œå…¶ä¸­å‰ä¸‰ä¸ªå…ƒç´ åˆå§‹åŒ–ä¸º1ã€2ã€3ï¼Œå…¶å®ƒé»˜è®¤ä¸º0</span></span><br><span class="line">c := [...]<span class="type">int</span>{<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>} <span class="comment">// å¯ä»¥çœç•¥é•¿åº¦è€Œé‡‡ç”¨`...`çš„æ–¹å¼ï¼ŒGoä¼šè‡ªåŠ¨æ ¹æ®å…ƒç´ ä¸ªæ•°æ¥è®¡ç®—é•¿åº¦</span></span><br></pre></td></tr></tbody></table></figure>

<p>Goæ”¯æŒåµŒå¥—æ•°ç»„ï¼Œå³å¤šç»´æ•°ç»„ã€‚æ¯”å¦‚ä¸‹é¢çš„ä»£ç å°±å£°æ˜äº†ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜äº†ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œè¯¥æ•°ç»„ä»¥ä¸¤ä¸ªæ•°ç»„ä½œä¸ºå…ƒç´ ï¼Œå…¶ä¸­æ¯ä¸ªæ•°ç»„ä¸­åˆæœ‰4ä¸ªintç±»å‹çš„å…ƒç´ </span></span><br><span class="line">doubleArray := [<span class="number">2</span>][<span class="number">4</span>]<span class="type">int</span>{[<span class="number">4</span>]<span class="type">int</span>{<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>}, [<span class="number">4</span>]<span class="type">int</span>{<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>}}</span><br><span class="line"><span class="comment">// ä¸Šé¢çš„å£°æ˜å¯ä»¥ç®€åŒ–ï¼Œç›´æ¥å¿½ç•¥å†…éƒ¨çš„ç±»å‹</span></span><br><span class="line">easyArray := [<span class="number">2</span>][<span class="number">4</span>]<span class="type">int</span>{{<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>}, {<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>}}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="slice"><a href="#slice" class="headerlink" title="slice"></a><code>slice</code></h3><p>åœ¨å¾ˆå¤šåº”ç”¨åœºæ™¯ä¸­ï¼Œæ•°ç»„å¹¶ä¸èƒ½æ»¡è¶³éœ€æ±‚ã€‚åœ¨åˆå§‹å®šä¹‰æ•°ç»„æ—¶ï¼Œå¹¶ä¸çŸ¥é“éœ€è¦å¤šå¤§çš„æ•°ç»„ï¼Œå› æ­¤å°±éœ€è¦â€œåŠ¨æ€æ•°ç»„â€ã€‚åœ¨Goé‡Œé¢è¿™ç§æ•°æ®ç»“æ„å«<code>slice</code></p>
<p><code>slice</code>å¹¶ä¸æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„åŠ¨æ€æ•°ç»„ï¼Œè€Œæ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ã€‚<code>slice</code>æ€»æ˜¯æŒ‡å‘ä¸€ä¸ªåº•å±‚<code>array</code>ï¼Œ<code>slice</code>çš„å£°æ˜ä¹Ÿå¯ä»¥åƒ<code>array</code>ä¸€æ ·ï¼Œåªæ˜¯ä¸éœ€è¦é•¿åº¦ã€‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å’Œå£°æ˜arrayä¸€æ ·ï¼Œåªæ˜¯å°‘äº†é•¿åº¦</span></span><br><span class="line"><span class="keyword">var</span> fslice []<span class="type">int</span></span><br></pre></td></tr></tbody></table></figure>

<p>æ¥ä¸‹æ¥å¯ä»¥å£°æ˜ä¸€ä¸ª<code>slice</code>ï¼Œå¹¶åˆå§‹åŒ–æ•°æ®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">slice := []<span class="type">byte</span> {<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>}</span><br></pre></td></tr></tbody></table></figure>

<p><code>slice</code>å¯ä»¥ä»ä¸€ä¸ªæ•°ç»„æˆ–ä¸€ä¸ªå·²ç»å­˜åœ¨çš„<code>slice</code>ä¸­å†æ¬¡å£°æ˜ã€‚<code>slice</code>é€šè¿‡<code>array[i:j]</code>æ¥è·å–ï¼Œå…¶ä¸­<code>i</code>æ˜¯æ•°ç»„çš„å¼€å§‹ä½ç½®ï¼Œ<code>j</code>æ˜¯ç»“æŸä½ç½®ï¼Œä½†ä¸åŒ…å«<code>array[j]</code>ï¼Œå®ƒçš„é•¿åº¦æ˜¯<code>j-i</code>ã€‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜ä¸€ä¸ªå«æœ‰10ä¸ªå…ƒç´ å…ƒç´ ç±»å‹ä¸ºbyteçš„æ•°ç»„</span></span><br><span class="line"><span class="keyword">var</span> ar = [<span class="number">10</span>]<span class="type">byte</span> {<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>, <span class="string">'g'</span>, <span class="string">'h'</span>, <span class="string">'i'</span>, <span class="string">'j'</span>}</span><br><span class="line"><span class="comment">// å£°æ˜ä¸¤ä¸ªå«æœ‰byteçš„slice</span></span><br><span class="line"><span class="keyword">var</span> a, b []<span class="type">byte</span></span><br><span class="line"><span class="comment">// aæŒ‡å‘æ•°ç»„çš„ç¬¬3ä¸ªå…ƒç´ å¼€å§‹ï¼Œå¹¶åˆ°ç¬¬äº”ä¸ªå…ƒç´ ç»“æŸï¼Œ</span></span><br><span class="line">a = ar[<span class="number">2</span>:<span class="number">5</span>]</span><br><span class="line"><span class="comment">//ç°åœ¨aå«æœ‰çš„å…ƒç´ : ar[2]ã€ar[3]å’Œar[4]</span></span><br><span class="line"><span class="comment">// bæ˜¯æ•°ç»„arçš„å¦ä¸€ä¸ªslice</span></span><br><span class="line">b = ar[<span class="number">3</span>:<span class="number">5</span>]</span><br><span class="line"><span class="comment">// bçš„å…ƒç´ æ˜¯ï¼šar[3]å’Œar[4]</span></span><br></pre></td></tr></tbody></table></figure>

<p>æ³¨æ„<code>slice</code>å’Œæ•°ç»„åœ¨å£°æ˜æ—¶çš„åŒºåˆ«ï¼šå£°æ˜æ•°ç»„æ—¶ï¼Œæ–¹æ‹¬å·å†…å†™æ˜äº†æ•°ç»„çš„é•¿åº¦æˆ–ä½¿ç”¨<code>...</code>è‡ªåŠ¨è®¡ç®—é•¿åº¦ï¼Œè€Œå£°æ˜<code>slice</code>æ—¶ï¼Œæ–¹æ‹¬å·å†…æ²¡æœ‰ä»»ä½•å­—ç¬¦ã€‚</p>
<h4 id="sliceæœ‰ä¸€äº›ç®€ä¾¿çš„æ“ä½œ"><a href="#sliceæœ‰ä¸€äº›ç®€ä¾¿çš„æ“ä½œ" class="headerlink" title="sliceæœ‰ä¸€äº›ç®€ä¾¿çš„æ“ä½œ"></a><code>slice</code>æœ‰ä¸€äº›ç®€ä¾¿çš„æ“ä½œ</h4><ul>
<li><p><code>slice</code>çš„é»˜è®¤å¼€å§‹ä½ç½®æ˜¯0ï¼Œ<code>ar[:n]</code>ç­‰ä»·äº<code>ar[0:n]</code></p>
</li>
<li><p><code>slice</code>çš„ç¬¬äºŒä¸ªåºåˆ—é»˜è®¤æ˜¯æ•°ç»„çš„é•¿åº¦ï¼Œ<code>ar[n:]</code>ç­‰ä»·äº<code>ar[n:len(ar)]</code></p>
</li>
<li><p>å¦‚æœä»ä¸€ä¸ªæ•°ç»„é‡Œé¢ç›´æ¥è·å–<code>slice</code>ï¼Œå¯ä»¥è¿™æ ·<code>ar[:]</code>ï¼Œå› ä¸ºé»˜è®¤ç¬¬ä¸€ä¸ªåºåˆ—æ˜¯0ï¼Œç¬¬äºŒä¸ªæ˜¯æ•°ç»„çš„é•¿åº¦ï¼Œå³ç­‰ä»·äº<code>ar[0:len(ar)]</code></p>
</li>
</ul>
<p>ä¸‹é¢è¿™ä¸ªä¾‹å­å±•ç¤ºäº†æ›´å¤šå…³äº<code>slice</code>çš„æ“ä½œï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜ä¸€ä¸ªæ•°ç»„</span></span><br><span class="line"><span class="keyword">var</span> array = [<span class="number">10</span>]<span class="type">byte</span>{<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>, <span class="string">'g'</span>, <span class="string">'h'</span>, <span class="string">'i'</span>, <span class="string">'j'</span>}</span><br><span class="line"><span class="comment">// å£°æ˜ä¸¤ä¸ªslice</span></span><br><span class="line"><span class="keyword">var</span> aSlice, bSlice []<span class="type">byte</span></span><br><span class="line"><span class="comment">// æ¼”ç¤ºä¸€äº›ç®€ä¾¿æ“ä½œ</span></span><br><span class="line">aSlice = array[:<span class="number">3</span>] <span class="comment">// ç­‰ä»·äºaSlice = array[0:3] aSliceåŒ…å«å…ƒç´ : a,b,c</span></span><br><span class="line">aSlice = array[<span class="number">5</span>:] <span class="comment">// ç­‰ä»·äºaSlice = array[5:10] aSliceåŒ…å«å…ƒç´ : f,g,h,i,j</span></span><br><span class="line">aSlice = array[:]  <span class="comment">// ç­‰ä»·äºaSlice = array[0:10] è¿™æ ·aSliceåŒ…å«äº†å…¨éƒ¨çš„å…ƒç´ </span></span><br><span class="line"><span class="comment">// ä»sliceä¸­è·å–slice</span></span><br><span class="line">aSlice = array[<span class="number">3</span>:<span class="number">7</span>]  <span class="comment">// aSliceåŒ…å«å…ƒç´ : d,e,f,gï¼Œlen=4ï¼Œcap=7</span></span><br><span class="line">bSlice = aSlice[<span class="number">1</span>:<span class="number">3</span>] <span class="comment">// bSlice åŒ…å«aSlice[1], aSlice[2] ä¹Ÿå°±æ˜¯å«æœ‰: e,f</span></span><br><span class="line">bSlice = aSlice[:<span class="number">3</span>]  <span class="comment">// bSlice åŒ…å« aSlice[0], aSlice[1], aSlice[2] ä¹Ÿå°±æ˜¯å«æœ‰: d,e,f</span></span><br><span class="line">bSlice = aSlice[<span class="number">0</span>:<span class="number">5</span>] <span class="comment">// å¯¹sliceçš„sliceå¯ä»¥åœ¨capèŒƒå›´å†…æ‰©å±•ï¼Œæ­¤æ—¶bSliceåŒ…å«ï¼šd,e,f,g,h</span></span><br><span class="line">bSlice = aSlice[:]   <span class="comment">// bSliceåŒ…å«æ‰€æœ‰aSliceçš„å…ƒç´ : d,e,f,g</span></span><br></pre></td></tr></tbody></table></figure>

<p><code>slice</code>æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ‰€ä»¥å½“å¼•ç”¨æ”¹å˜å…¶ä¸­å…ƒç´ çš„å€¼æ—¶ï¼Œå…¶å®ƒçš„æ‰€æœ‰å¼•ç”¨éƒ½ä¼šæ”¹å˜è¯¥å€¼ï¼Œä¾‹å¦‚ä¸Šé¢çš„<code>aSlice</code>å’Œ<code>bSlice</code>ï¼Œå¦‚æœä¿®æ”¹äº†<code>aSlice</code>ä¸­å…ƒç´ çš„å€¼ï¼Œé‚£ä¹ˆ<code>bSlice</code>ç›¸å¯¹åº”çš„å€¼ä¹Ÿä¼šæ”¹å˜ã€‚</p>
<p>ä»æ¦‚å¿µä¸Šé¢æ¥è¯´<code>slice</code>åƒä¸€ä¸ªç»“æ„ä½“ï¼Œè¿™ä¸ªç»“æ„ä½“åŒ…å«äº†ä¸‰ä¸ªå…ƒç´ ï¼š</p>
<ul>
<li><p>ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘æ•°ç»„ä¸­<code>slice</code>æŒ‡å®šçš„å¼€å§‹ä½ç½®</p>
</li>
<li><p>é•¿åº¦ï¼Œå³<code>slice</code>çš„é•¿åº¦</p>
</li>
<li><p>æœ€å¤§é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯<code>slice</code>å¼€å§‹ä½ç½®åˆ°æ•°ç»„çš„æœ€åä½ç½®çš„é•¿åº¦</p>
</li>
</ul>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Array_a := [<span class="number">10</span>]<span class="type">byte</span>{<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>, <span class="string">'g'</span>, <span class="string">'h'</span>, <span class="string">'i'</span>, <span class="string">'j'</span>}</span><br><span class="line">    Slice_a := Array_a[<span class="number">2</span>:<span class="number">5</span>]</span><br></pre></td></tr></tbody></table></figure>

<h4 id="sliceæœ‰å‡ ä¸ªæœ‰ç”¨çš„å†…ç½®å‡½æ•°"><a href="#sliceæœ‰å‡ ä¸ªæœ‰ç”¨çš„å†…ç½®å‡½æ•°" class="headerlink" title="sliceæœ‰å‡ ä¸ªæœ‰ç”¨çš„å†…ç½®å‡½æ•°"></a><code>slice</code>æœ‰å‡ ä¸ªæœ‰ç”¨çš„å†…ç½®å‡½æ•°</h4><ul>
<li><p><code>len</code> è·å–<code>slice</code>çš„é•¿åº¦</p>
</li>
<li><p><code>cap</code> è·å–<code>slice</code>çš„æœ€å¤§å®¹é‡</p>
</li>
<li><p><code>append</code> å‘<code>slice</code>é‡Œé¢è¿½åŠ ä¸€ä¸ªæˆ–è€…å¤šä¸ªå…ƒç´ ï¼Œç„¶åè¿”å›ä¸€ä¸ªå’Œ<code>slice</code>ä¸€æ ·ç±»å‹çš„<code>slice</code></p>
</li>
<li><p><code>copy</code> å‡½æ•°<code>copy</code>ä»æº<code>slice</code>çš„<code>src</code>ä¸­å¤åˆ¶å…ƒç´ åˆ°ç›®æ ‡<code>dst</code>ï¼Œå¹¶ä¸”è¿”å›å¤åˆ¶çš„å…ƒç´ çš„ä¸ªæ•°</p>
</li>
</ul>
<p>æ³¨ï¼š<code>append</code>å‡½æ•°ä¼šæ”¹å˜<code>slice</code>æ‰€å¼•ç”¨çš„æ•°ç»„çš„å†…å®¹ï¼Œä»è€Œå½±å“åˆ°å¼•ç”¨åŒä¸€æ•°ç»„çš„å…¶å®ƒ<code>slice</code>ã€‚</p>
<p>ä½†å½“<code>slice</code>ä¸­æ²¡æœ‰å‰©ä½™ç©ºé—´ï¼ˆå³<code>(cap-len) == 0</code>ï¼‰æ—¶ï¼Œæ­¤æ—¶å°†åŠ¨æ€åˆ†é…æ–°çš„æ•°ç»„ç©ºé—´ã€‚è¿”å›çš„<code>slice</code>æ•°ç»„æŒ‡é’ˆå°†æŒ‡å‘è¿™ä¸ªç©ºé—´ï¼Œè€ŒåŸæ•°ç»„çš„å†…å®¹å°†ä¿æŒä¸å˜ï¼›å…¶å®ƒå¼•ç”¨æ­¤æ•°ç»„çš„<code>slice</code>åˆ™ä¸å—å½±å“ã€‚</p>
<p>ä»Go1.2å¼€å§‹<code>slice</code>æ”¯æŒäº†ä¸‰ä¸ªå‚æ•°çš„<code>slice</code>ï¼Œä¹‹å‰ä¸€ç›´é‡‡ç”¨è¿™ç§æ–¹å¼åœ¨<code>slice</code>æˆ–è€…<code>array</code>åŸºç¡€ä¸Šæ¥è·å–ä¸€ä¸ª<code>slice</code></p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> array [<span class="number">10</span>]<span class="type">int</span></span><br><span class="line">slice := array[<span class="number">2</span>:<span class="number">4</span>]</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™ä¸ªä¾‹å­é‡Œé¢sliceçš„å®¹é‡æ˜¯8ï¼Œæ–°ç‰ˆæœ¬é‡Œé¢å¯ä»¥æŒ‡å®šè¿™ä¸ªå®¹é‡</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">slice = array[<span class="number">2</span>:<span class="number">4</span>:<span class="number">7</span>]</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢è¿™ä¸ªçš„å®¹é‡å°±æ˜¯<code>7-2</code>ï¼Œå³5ã€‚è¿™æ ·è¿™ä¸ªäº§ç”Ÿçš„æ–°çš„<code>slice</code>å°±æ²¡åŠæ³•è®¿é—®æœ€åçš„ä¸‰ä¸ªå…ƒç´ ã€‚</p>
<p>å¦‚æœ<code>slice</code>æ˜¯è¿™æ ·çš„å½¢å¼<code>array[:i:j]</code>ï¼Œå³ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºç©ºï¼Œé»˜è®¤å€¼å°±æ˜¯0ã€‚</p>
<h3 id="map"><a href="#map" class="headerlink" title="map"></a><code>map</code></h3><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">map</span><span class="string">`ä¹Ÿå°±æ˜¯Pythonä¸­å­—å…¸çš„æ¦‚å¿µï¼Œå®ƒçš„æ ¼å¼ä¸º`</span><span class="keyword">map</span>[keyType]valueType</span><br></pre></td></tr></tbody></table></figure>

<p>çœ‹ä¸‹é¢çš„ä»£ç ï¼Œ<code>map</code>çš„è¯»å–å’Œè®¾ç½®ä¹Ÿç±»ä¼¼<code>slice</code>ä¸€æ ·ï¼Œé€šè¿‡<code>key</code>æ¥æ“ä½œï¼Œåªæ˜¯<code>slice</code>çš„<code>index</code>åªèƒ½æ˜¯ï½€intï½€ç±»å‹ï¼Œè€Œ<code>map</code>å¤šäº†å¾ˆå¤šç±»å‹ï¼Œå¯ä»¥æ˜¯<code>int</code>ï¼Œå¯ä»¥æ˜¯<code>string</code>åŠæ‰€æœ‰å®Œå…¨å®šä¹‰äº†<code>==</code>ä¸<code>!=</code>æ“ä½œçš„ç±»å‹ã€‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜ä¸€ä¸ªkeyæ˜¯å­—ç¬¦ä¸²ï¼Œå€¼ä¸ºintçš„å­—å…¸,è¿™ç§æ–¹å¼çš„å£°æ˜éœ€è¦åœ¨ä½¿ç”¨ä¹‹å‰ä½¿ç”¨makeåˆå§‹åŒ–</span></span><br><span class="line"><span class="keyword">var</span> numbers <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span></span><br><span class="line"><span class="comment">// å¦ä¸€ç§mapçš„å£°æ˜æ–¹å¼</span></span><br><span class="line">numbers = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)</span><br><span class="line">numbers[<span class="string">"one"</span>] = <span class="number">1</span>  <span class="comment">//èµ‹å€¼</span></span><br><span class="line">numbers[<span class="string">"ten"</span>] = <span class="number">10</span> <span class="comment">//èµ‹å€¼</span></span><br><span class="line">numbers[<span class="string">"three"</span>] = <span class="number">3</span></span><br><span class="line">fmt.Println(<span class="string">"ç¬¬ä¸‰ä¸ªæ•°å­—æ˜¯: "</span>, numbers[<span class="string">"three"</span>]) <span class="comment">// è¯»å–æ•°æ®</span></span><br><span class="line"><span class="comment">// æ‰“å°å‡ºæ¥å¦‚:ç¬¬ä¸‰ä¸ªæ•°å­—æ˜¯: 3</span></span><br></pre></td></tr></tbody></table></figure>

<p>è¿™ä¸ª<code>map</code>å°±åƒå¹³å¸¸çœ‹åˆ°çš„è¡¨æ ¼ä¸€æ ·ï¼Œå·¦è¾¹åˆ—æ˜¯<code>key</code>ï¼Œå³è¾¹åˆ—æ˜¯å€¼</p>
<p>ä½¿ç”¨<code>map</code>è¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„çš„å‡ ç‚¹ï¼š</p>
<ul>
<li><p><code>map</code>æ˜¯æ— åºçš„ï¼Œæ¯æ¬¡æ‰“å°å‡ºæ¥çš„<code>map</code>éƒ½ä¼šä¸ä¸€æ ·ï¼Œå®ƒä¸èƒ½é€šè¿‡<code>index</code>è·å–ï¼Œè€Œå¿…é¡»é€šè¿‡<code>key</code>è·å–</p>
</li>
<li><p><code>map</code>çš„é•¿åº¦æ˜¯ä¸å›ºå®šçš„ï¼Œä¹Ÿå°±æ˜¯å’Œ<code>slice</code>ä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€ç§å¼•ç”¨ç±»å‹</p>
</li>
<li><p>å†…ç½®çš„<code>len</code>å‡½æ•°åŒæ ·é€‚ç”¨äº<code>map</code>ï¼Œè¿”å›<code>map</code>æ‹¥æœ‰çš„<code>key</code>çš„æ•°é‡</p>
</li>
<li><p><code>map</code>çš„å€¼å¯ä»¥å¾ˆæ–¹ä¾¿çš„ä¿®æ”¹ï¼Œé€šè¿‡<code>numbers["one"]=11</code>å¯ä»¥å¾ˆå®¹æ˜“çš„æŠŠkeyä¸º<code>one</code>çš„å­—å…¸å€¼æ”¹ä¸º<code>11</code></p>
</li>
<li><p><code>map</code>å’Œå…¶ä»–åŸºæœ¬å‹åˆ«ä¸åŒï¼Œå®ƒä¸æ˜¯thread-safeï¼Œåœ¨å¤šä¸ªgo-routineå­˜å–æ—¶ï¼Œå¿…é¡»ä½¿ç”¨mutex lockæœºåˆ¶</p>
</li>
</ul>
<p><code>map</code>çš„åˆå§‹åŒ–å¯ä»¥é€šè¿‡<code>key:val</code>çš„æ–¹å¼åˆå§‹åŒ–å€¼ï¼ŒåŒæ—¶<code>map</code>å†…ç½®æœ‰åˆ¤æ–­æ˜¯å¦å­˜åœ¨<code>key</code>çš„æ–¹å¼</p>
<p>é€šè¿‡<code>delete</code>åˆ é™¤<code>map</code>çš„å…ƒç´ ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆå§‹åŒ–ä¸€ä¸ªå­—å…¸</span></span><br><span class="line">rating := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">float32</span>{<span class="string">"C"</span>:<span class="number">5</span>, <span class="string">"Go"</span>:<span class="number">4.5</span>, <span class="string">"Python"</span>:<span class="number">4.5</span>, <span class="string">"C++"</span>:<span class="number">2</span> }</span><br><span class="line"><span class="comment">// mapæœ‰ä¸¤ä¸ªè¿”å›å€¼ï¼Œç¬¬äºŒä¸ªè¿”å›å€¼ï¼Œå¦‚æœä¸å­˜åœ¨keyï¼Œé‚£ä¹ˆokä¸ºfalseï¼Œå¦‚æœå­˜åœ¨okä¸ºtrue</span></span><br><span class="line">csharpRating, ok := rating[<span class="string">"C#"</span>]</span><br><span class="line"><span class="keyword">if</span> ok {</span><br><span class="line">    fmt.Println(<span class="string">"C# is in the map and its rating is "</span>, csharpRating)</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    fmt.Println(<span class="string">"We have no rating associated with C# in the map"</span>)</span><br><span class="line">}</span><br><span class="line"><span class="built_in">delete</span>(rating, <span class="string">"C"</span>)  <span class="comment">// åˆ é™¤keyä¸ºCçš„å…ƒç´ </span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢è¯´è¿‡äº†ï¼Œ<code>map</code>ä¹Ÿæ˜¯ä¸€ç§å¼•ç”¨ç±»å‹ï¼Œå¦‚æœä¸¤ä¸ª<code>map</code>åŒæ—¶æŒ‡å‘ä¸€ä¸ªåº•å±‚ï¼Œé‚£ä¹ˆä¸€ä¸ªæ”¹å˜ï¼Œå¦ä¸€ä¸ªä¹Ÿç›¸åº”çš„æ”¹å˜ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>)</span><br><span class="line">m[<span class="string">"Hello"</span>] = <span class="string">"Bonjour"</span></span><br><span class="line">m1 := m</span><br><span class="line">m1[<span class="string">"Hello"</span>] = <span class="string">"Salut"</span>  <span class="comment">// ç°åœ¨m["hello"]çš„å€¼å·²ç»æ˜¯Salutäº†</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="makeã€newæ“ä½œ"><a href="#makeã€newæ“ä½œ" class="headerlink" title="makeã€newæ“ä½œ"></a><code>make</code>ã€<code>new</code>æ“ä½œ</h2><p><code>make</code>ç”¨äºå†…å»ºç±»å‹ï¼ˆ<code>map</code>ã€<code>slice</code> å’Œ<code>channel</code>ï¼‰çš„å†…å­˜åˆ†é…ã€‚<code>new</code>ç”¨äºå„ç§ç±»å‹çš„å†…å­˜åˆ†é…ã€‚</p>
<p>å†…å»ºå‡½æ•°<code>new</code>æœ¬è´¨ä¸Šè¯´è·Ÿå…¶å®ƒè¯­è¨€ä¸­çš„åŒåå‡½æ•°åŠŸèƒ½ä¸€æ ·ï¼š<code>new(T)</code>åˆ†é…äº†é›¶å€¼å¡«å……çš„<code>T</code>ç±»å‹çš„å†…å­˜ç©ºé—´ï¼Œå¹¶ä¸”è¿”å›å…¶åœ°å€ï¼Œå³ä¸€ä¸ª<code>*T</code>ç±»å‹çš„å€¼ã€‚ç”¨Goçš„æœ¯è¯­è¯´ï¼Œå®ƒè¿”å›äº†ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘æ–°åˆ†é…çš„ç±»å‹<code>T</code>çš„é›¶å€¼ã€‚æœ‰ä¸€ç‚¹éå¸¸é‡è¦ï¼š</p>
<p><code>new</code>è¿”å›æŒ‡é’ˆã€‚</p>
<p>å†…å»ºå‡½æ•°<code>make(T, args)</code>ä¸<code>new(T)</code>æœ‰ç€ä¸åŒçš„åŠŸèƒ½ï¼Œmakeåªèƒ½åˆ›å»º<code>slice</code>ã€<code>map</code>å’Œ<code>channel</code>ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªæœ‰åˆå§‹å€¼(éé›¶)çš„<code>T</code>ç±»å‹ï¼Œè€Œä¸æ˜¯<code>*T</code>ã€‚æœ¬è´¨æ¥è®²ï¼Œå¯¼è‡´è¿™ä¸‰ä¸ªç±»å‹æœ‰æ‰€ä¸åŒçš„åŸå› æ˜¯æŒ‡å‘æ•°æ®ç»“æ„çš„å¼•ç”¨åœ¨ä½¿ç”¨å‰å¿…é¡»è¢«åˆå§‹åŒ–ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ª<code>slice</code>ï¼Œæ˜¯ä¸€ä¸ªåŒ…å«æŒ‡å‘æ•°æ®ï¼ˆå†…éƒ¨<code>array</code>ï¼‰çš„æŒ‡é’ˆã€é•¿åº¦å’Œå®¹é‡çš„ä¸‰é¡¹æè¿°ç¬¦ï¼›åœ¨è¿™äº›é¡¹ç›®è¢«åˆå§‹åŒ–ä¹‹å‰ï¼Œ<code>slice</code>ä¸º<code>nil</code>ã€‚å¯¹äº<code>slice</code>ã€<code>map</code>å’Œ<code>channel</code>æ¥è¯´ï¼Œ<code>make</code>åˆå§‹åŒ–äº†å†…éƒ¨çš„æ•°æ®ç»“æ„ï¼Œå¡«å……é€‚å½“çš„å€¼ã€‚</p>
<p><code>make</code>è¿”å›åˆå§‹åŒ–åçš„ï¼ˆéé›¶ï¼‰å€¼ã€‚</p>
<h2 id="é›¶å€¼"><a href="#é›¶å€¼" class="headerlink" title="é›¶å€¼"></a>é›¶å€¼</h2><p>å…³äºâ€œé›¶å€¼â€ï¼Œæ‰€æŒ‡å¹¶éæ˜¯ç©ºå€¼ï¼Œè€Œæ˜¯ä¸€ç§â€œå˜é‡æœªå¡«å……å‰â€çš„é»˜è®¤å€¼ï¼Œé€šå¸¸ä¸º0ã€‚</p>
<p>æ­¤å¤„ç½—åˆ— éƒ¨åˆ†ç±»å‹ çš„ â€œé›¶å€¼â€</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>     <span class="number">0</span></span><br><span class="line"><span class="type">int8</span>    <span class="number">0</span></span><br><span class="line"><span class="type">int32</span>   <span class="number">0</span></span><br><span class="line"><span class="type">int64</span>   <span class="number">0</span></span><br><span class="line"><span class="type">uint</span>    <span class="number">0x0</span></span><br><span class="line"><span class="type">rune</span>    <span class="number">0</span> <span class="comment">//runeçš„å®é™…ç±»å‹æ˜¯ int32</span></span><br><span class="line"><span class="type">byte</span>    <span class="number">0x0</span> <span class="comment">// byteçš„å®é™…ç±»å‹æ˜¯ uint8</span></span><br><span class="line"><span class="type">float32</span> <span class="number">0</span> <span class="comment">//é•¿åº¦ä¸º 4 byte</span></span><br><span class="line"><span class="type">float64</span> <span class="number">0</span> <span class="comment">//é•¿åº¦ä¸º 8 byte</span></span><br><span class="line"><span class="type">bool</span>    <span class="literal">false</span></span><br><span class="line"><span class="type">string</span>  <span class="string">""</span></span><br></pre></td></tr></tbody></table></figure>

<h1 id="æµç¨‹æ§åˆ¶"><a href="#æµç¨‹æ§åˆ¶" class="headerlink" title="æµç¨‹æ§åˆ¶"></a>æµç¨‹æ§åˆ¶</h1><p>Goä¸­æµç¨‹æ§åˆ¶åˆ†ä¸‰å¤§ç±»ï¼šæ¡ä»¶åˆ¤æ–­ï¼Œå¾ªç¯æ§åˆ¶å’Œæ— æ¡ä»¶è·³è½¬ã€‚</p>
<h2 id="if"><a href="#if" class="headerlink" title="if"></a>if</h2><p><code>if</code>ä¹Ÿè®¸æ˜¯å„ç§ç¼–ç¨‹è¯­è¨€ä¸­æœ€å¸¸è§çš„äº†ï¼Œå®ƒçš„è¯­æ³•æ¦‚æ‹¬èµ·æ¥å°±æ˜¯ï¼šå¦‚æœæ»¡è¶³æ¡ä»¶å°±åšæŸäº‹ï¼Œå¦åˆ™åšå¦ä¸€ä»¶äº‹ã€‚</p>
<p>Goé‡Œé¢<code>if</code>æ¡ä»¶åˆ¤æ–­è¯­å¥ä¸­ä¸éœ€è¦æ‹¬å·ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤º</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> x &gt; <span class="number">10</span> {</span><br><span class="line">    fmt.Println(<span class="string">"x is greater than 10"</span>)</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    fmt.Println(<span class="string">"x is less than 10"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>Goçš„<code>if</code>è¿˜æœ‰ä¸€ä¸ªå¼ºå¤§çš„åœ°æ–¹å°±æ˜¯æ¡ä»¶åˆ¤æ–­è¯­å¥é‡Œé¢å…è®¸å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œè¿™ä¸ªå˜é‡çš„ä½œç”¨åŸŸåªèƒ½åœ¨è¯¥æ¡ä»¶é€»è¾‘å—å†…ï¼Œå…¶ä»–åœ°æ–¹å°±ä¸èµ·ä½œç”¨äº†ï¼Œå¦‚ä¸‹æ‰€ç¤º</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è®¡ç®—è·å–å€¼x,ç„¶åæ ¹æ®xè¿”å›çš„å¤§å°ï¼Œåˆ¤æ–­æ˜¯å¦å¤§äº10ã€‚</span></span><br><span class="line"><span class="keyword">if</span> x := computedValue(); x &gt; <span class="number">10</span> {</span><br><span class="line">    fmt.Println(<span class="string">"x is greater than 10"</span>)</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    fmt.Println(<span class="string">"x is less than 10"</span>)</span><br><span class="line">}</span><br><span class="line"><span class="comment">//è¿™ä¸ªåœ°æ–¹å¦‚æœè¿™æ ·è°ƒç”¨å°±ç¼–è¯‘å‡ºé”™äº†ï¼Œå› ä¸ºxæ˜¯æ¡ä»¶é‡Œé¢çš„å˜é‡</span></span><br><span class="line">fmt.Println(x)</span><br></pre></td></tr></tbody></table></figure>

<p>å¤šä¸ªæ¡ä»¶çš„æ—¶å€™å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> integer == <span class="number">3</span> {</span><br><span class="line">    fmt.Println(<span class="string">"The integer is equal to 3"</span>)</span><br><span class="line">} <span class="keyword">else</span> <span class="keyword">if</span> integer &lt; <span class="number">3</span> {</span><br><span class="line">    fmt.Println(<span class="string">"The integer is less than 3"</span>)</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    fmt.Println(<span class="string">"The integer is greater than 3"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="goto"><a href="#goto" class="headerlink" title="goto"></a>goto</h2><p>Goæœ‰<code>goto</code>è¯­å¥â€”â€”è¯·æ˜æ™ºåœ°ä½¿ç”¨å®ƒã€‚ç”¨<code>goto</code>è·³è½¬åˆ°å¿…é¡»åœ¨å½“å‰å‡½æ•°å†…å®šä¹‰çš„æ ‡ç­¾ã€‚ä¾‹å¦‚å‡è®¾è¿™æ ·ä¸€ä¸ªå¾ªç¯ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">myFunc</span><span class="params">()</span></span> {</span><br><span class="line">    i := <span class="number">0</span></span><br><span class="line">Here:   <span class="comment">//è¿™è¡Œçš„ç¬¬ä¸€ä¸ªè¯ï¼Œä»¥å†’å·ç»“æŸä½œä¸ºæ ‡ç­¾</span></span><br><span class="line">    <span class="built_in">println</span>(i)</span><br><span class="line">    i++</span><br><span class="line">    <span class="keyword">goto</span> Here   <span class="comment">//è·³è½¬åˆ°Hereå»</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æ ‡ç­¾åæ˜¯å¤§å°å†™æ•æ„Ÿçš„ã€‚</p>
<h2 id="for"><a href="#for" class="headerlink" title="for"></a>for</h2><p>Goé‡Œé¢æœ€å¼ºå¤§çš„ä¸€ä¸ªæ§åˆ¶é€»è¾‘å°±æ˜¯<code>for</code>ï¼Œå®ƒæ—¢å¯ä»¥ç”¨æ¥å¾ªç¯è¯»å–æ•°æ®ï¼Œåˆå¯ä»¥å½“ä½œ<code>while</code>æ¥æ§åˆ¶é€»è¾‘ï¼Œè¿˜èƒ½è¿­ä»£æ“ä½œã€‚å®ƒçš„è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> expression1; expression2; expression3 {</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><code>expression1</code>ã€<code>expression2</code>å’Œ<code>expression3</code>éƒ½æ˜¯è¡¨è¾¾å¼ï¼Œå…¶ä¸­<code>expression1</code>å’Œ<code>expression3</code>æ˜¯å˜é‡å£°æ˜æˆ–è€…å‡½æ•°è°ƒç”¨è¿”å›å€¼ä¹‹ç±»çš„ï¼Œ<code>expression2</code>æ˜¯ç”¨æ¥æ¡ä»¶åˆ¤æ–­ï¼Œ<code>expression1</code>åœ¨å¾ªç¯å¼€å§‹ä¹‹å‰è°ƒç”¨ï¼Œ<code>expression3</code>åœ¨æ¯è½®å¾ªç¯ç»“æŸä¹‹æ—¶è°ƒç”¨ã€‚</p>
<p>ä¸€ä¸ªä¾‹å­æ¯”ä¸Šé¢è®²é‚£ä¹ˆå¤šæ›´æœ‰ç”¨ï¼Œçœ‹çœ‹ä¸‹é¢çš„ä¾‹å­å§ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">    sum := <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> index:=<span class="number">0</span>; index &lt; <span class="number">10</span> ; index++ {</span><br><span class="line">        sum += index</span><br><span class="line">    }</span><br><span class="line">    fmt.Println(<span class="string">"sum is equal to "</span>, sum)</span><br><span class="line">}</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼šsum is equal to 45</span></span><br></pre></td></tr></tbody></table></figure>

<p>æœ‰äº›æ—¶å€™éœ€è¦è¿›è¡Œå¤šä¸ªèµ‹å€¼æ“ä½œï¼Œç”±äºGoé‡Œé¢æ²¡æœ‰<code>,</code>æ“ä½œç¬¦ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨å¹³è¡Œèµ‹å€¼<code>i, j = i+1, j-1</code></p>
<p>æœ‰äº›æ—¶å€™å¦‚æœå¿½ç•¥<code>expression1</code>å’Œ<code>expression3</code>ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sum := <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> ; sum &lt; <span class="number">1000</span>;  {</span><br><span class="line">    sum += sum</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å…¶ä¸­<code>;</code>ä¹Ÿå¯ä»¥çœç•¥ï¼Œé‚£ä¹ˆå°±å˜æˆå¦‚ä¸‹çš„ä»£ç äº†ï¼Œè¿™å°±æ˜¯<code>while</code>çš„åŠŸèƒ½ã€‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sum := <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> sum &lt; <span class="number">1000</span> {</span><br><span class="line">    sum += sum</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨å¾ªç¯é‡Œé¢æœ‰ä¸¤ä¸ªå…³é”®æ“ä½œ<code>break</code>å’Œ<code>continue</code>   ,<code>break</code>æ“ä½œæ˜¯è·³å‡ºå½“å‰å¾ªç¯ï¼Œ<code>continue</code>æ˜¯è·³è¿‡æœ¬æ¬¡å¾ªç¯ã€‚å½“åµŒå¥—è¿‡æ·±çš„æ—¶å€™ï¼Œ<code>break</code>å¯ä»¥é…åˆæ ‡ç­¾ä½¿ç”¨ï¼Œå³è·³è½¬è‡³æ ‡ç­¾æ‰€æŒ‡å®šçš„ä½ç½®ï¼Œè¯¦ç»†å‚è€ƒå¦‚ä¸‹ä¾‹å­ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> index := <span class="number">10</span>; index&gt;<span class="number">0</span>; index-- {</span><br><span class="line">    <span class="keyword">if</span> index == <span class="number">5</span>{</span><br><span class="line">        <span class="keyword">break</span> <span class="comment">// æˆ–è€…continue</span></span><br><span class="line">    }</span><br><span class="line">    fmt.Println(index)</span><br><span class="line">}</span><br><span class="line"><span class="comment">// breakæ‰“å°å‡ºæ¥10ã€9ã€8ã€7ã€6</span></span><br><span class="line"><span class="comment">// continueæ‰“å°å‡ºæ¥10ã€9ã€8ã€7ã€6ã€4ã€3ã€2ã€1</span></span><br></pre></td></tr></tbody></table></figure>

<p><code>break</code>å’Œ<code>continue</code>è¿˜å¯ä»¥è·Ÿç€æ ‡å·ï¼Œç”¨æ¥è·³åˆ°å¤šé‡å¾ªç¯ä¸­çš„å¤–å±‚å¾ªç¯</p>
<p><code>for</code>é…åˆ<code>range</code>å¯ä»¥ç”¨äºè¯»å–<code>slice</code>å’Œ<code>map</code>çš„æ•°æ®ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> k,v:=<span class="keyword">range</span> <span class="keyword">map</span> {</span><br><span class="line">    fmt.Println(<span class="string">"map's key:"</span>,k)</span><br><span class="line">    fmt.Println(<span class="string">"map's val:"</span>,v)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ç”±äº Go æ”¯æŒ â€œå¤šå€¼è¿”å›â€, è€Œå¯¹äºâ€œå£°æ˜è€Œæœªè¢«è°ƒç”¨â€çš„å˜é‡, ç¼–è¯‘å™¨ä¼šæŠ¥é”™, åœ¨è¿™ç§æƒ…å†µä¸‹, å¯ä»¥ä½¿ç”¨<code>_</code>æ¥ä¸¢å¼ƒä¸éœ€è¦çš„è¿”å›å€¼</p>
<p>ä¾‹å¦‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> _, v := <span class="keyword">range</span> <span class="keyword">map</span>{</span><br><span class="line">    fmt.Println(<span class="string">"map's val:"</span>, v)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h2><p>æœ‰äº›æ—¶å€™éœ€è¦å†™å¾ˆå¤šçš„<code>if-else</code>æ¥å®ç°ä¸€äº›é€»è¾‘å¤„ç†ï¼Œè¿™ä¸ªæ—¶å€™ä»£ç çœ‹ä¸Šå»å°±å¾ˆä¸‘å¾ˆå†—é•¿ï¼Œè€Œä¸”ä¹Ÿä¸æ˜“äºä»¥åçš„ç»´æŠ¤ï¼Œè¿™ä¸ªæ—¶å€™<code>switch</code>å°±èƒ½å¾ˆå¥½çš„è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å®ƒçš„è¯­æ³•å¦‚ä¸‹</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> sExpr {</span><br><span class="line"><span class="keyword">case</span> expr1:</span><br><span class="line">    some instructions</span><br><span class="line"><span class="keyword">case</span> expr2:</span><br><span class="line">    some other instructions</span><br><span class="line"><span class="keyword">case</span> expr3:</span><br><span class="line">    some other instructions</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    other code</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><code>sExpr</code>å’Œ<code>expr1</code>ã€<code>expr2</code>ã€<code>expr3</code>çš„ç±»å‹å¿…é¡»ä¸€è‡´ã€‚Goçš„<code>switch</code>éå¸¸çµæ´»ï¼Œè¡¨è¾¾å¼ä¸å¿…æ˜¯å¸¸é‡æˆ–æ•´æ•°ï¼Œæ‰§è¡Œçš„è¿‡ç¨‹ä»ä¸Šè‡³ä¸‹ï¼Œç›´åˆ°æ‰¾åˆ°åŒ¹é…é¡¹ï¼›è€Œå¦‚æœ<code>switch</code>æ²¡æœ‰è¡¨è¾¾å¼ï¼Œå®ƒä¼šåŒ¹é…<code>true</code>ã€‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">i := <span class="number">10</span></span><br><span class="line"><span class="keyword">switch</span> i {</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    fmt.Println(<span class="string">"i is equal to 1"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>:</span><br><span class="line">    fmt.Println(<span class="string">"i is equal to 2, 3 or 4"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">    fmt.Println(<span class="string">"i is equal to 10"</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    fmt.Println(<span class="string">"All I know is that i is an integer"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ç¬¬5è¡Œä¸­ï¼ŒæŠŠå¾ˆå¤šå€¼èšåˆåœ¨äº†ä¸€ä¸ª<code>case</code>é‡Œé¢ï¼ŒåŒæ—¶ï¼ŒGoé‡Œé¢<code>switch</code>é»˜è®¤ç›¸å½“äºæ¯ä¸ª<code>case</code>æœ€åå¸¦æœ‰<code>break</code>ï¼ŒåŒ¹é…æˆåŠŸåä¸ä¼šè‡ªåŠ¨å‘ä¸‹æ‰§è¡Œå…¶ä»–caseï¼Œè€Œæ˜¯è·³å‡ºæ•´ä¸ª<code>switch</code>, ä½†æ˜¯å¯ä»¥ä½¿ç”¨<code>fallthrough</code>å¼ºåˆ¶æ‰§è¡Œåé¢çš„caseä»£ç ã€‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">integer := <span class="number">6</span></span><br><span class="line"><span class="keyword">switch</span> integer {</span><br><span class="line"><span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">    fmt.Println(<span class="string">"The integer was &lt;= 4"</span>)</span><br><span class="line">    <span class="keyword">fallthrough</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">    fmt.Println(<span class="string">"The integer was &lt;= 5"</span>)</span><br><span class="line">    <span class="keyword">fallthrough</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">    fmt.Println(<span class="string">"The integer was &lt;= 6"</span>)</span><br><span class="line">    <span class="keyword">fallthrough</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">    fmt.Println(<span class="string">"The integer was &lt;= 7"</span>)</span><br><span class="line">    <span class="keyword">fallthrough</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">    fmt.Println(<span class="string">"The integer was &lt;= 8"</span>)</span><br><span class="line">    <span class="keyword">fallthrough</span></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    fmt.Println(<span class="string">"default case"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢çš„ç¨‹åºå°†è¾“å‡º</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">The integer was &lt;= 6</span><br><span class="line">The integer was &lt;= 7</span><br><span class="line">The integer was &lt;= 8</span><br><span class="line">default case</span><br></pre></td></tr></tbody></table></figure>

<h1 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h1><h2 id="å‡½æ•°çš„å®šä¹‰"><a href="#å‡½æ•°çš„å®šä¹‰" class="headerlink" title="å‡½æ•°çš„å®šä¹‰"></a>å‡½æ•°çš„å®šä¹‰</h2><p>å‡½æ•°æ˜¯Goé‡Œé¢çš„æ ¸å¿ƒè®¾è®¡ï¼Œå®ƒé€šè¿‡å…³é”®å­—<code>func</code>æ¥å£°æ˜ï¼Œå®ƒçš„æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">funcName</span><span class="params">(input1 type1, input2 type2)</span></span> (output1 type1, output2 type2) {</span><br><span class="line">    <span class="comment">//è¿™é‡Œæ˜¯å¤„ç†é€»è¾‘ä»£ç </span></span><br><span class="line">    <span class="comment">//è¿”å›å¤šä¸ªå€¼</span></span><br><span class="line">    <span class="keyword">return</span> value1, value2</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹å‡º</p>
<ul>
<li><p>å…³é”®å­—<code>func</code>ç”¨æ¥å£°æ˜ä¸€ä¸ªå‡½æ•°<code>funcName</code></p>
</li>
<li><p>å‡½æ•°å¯ä»¥æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªå‚æ•°ï¼Œæ¯ä¸ªå‚æ•°åé¢å¸¦æœ‰ç±»å‹ï¼Œé€šè¿‡<code>,</code>åˆ†éš”</p>
</li>
<li><p>å‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼</p>
</li>
<li><p>ä¸Šé¢è¿”å›å€¼å£°æ˜äº†ä¸¤ä¸ªå˜é‡<code>output1</code>å’Œ<code>output2</code>ï¼Œå¦‚æœä¸æƒ³å£°æ˜ä¹Ÿå¯ä»¥ï¼Œç›´æ¥å°±ä¸¤ä¸ªç±»å‹</p>
</li>
<li><p>å¦‚æœåªæœ‰ä¸€ä¸ªè¿”å›å€¼ä¸”ä¸å£°æ˜è¿”å›å€¼å˜é‡ï¼Œé‚£ä¹ˆå¯ä»¥çœç•¥ åŒ…æ‹¬è¿”å›å€¼çš„æ‹¬å·</p>
</li>
<li><p>å¦‚æœæ²¡æœ‰è¿”å›å€¼ï¼Œé‚£ä¹ˆå°±ç›´æ¥çœç•¥æœ€åçš„è¿”å›ä¿¡æ¯</p>
</li>
<li><p>å¦‚æœæœ‰è¿”å›å€¼ï¼Œ é‚£ä¹ˆå¿…é¡»åœ¨å‡½æ•°çš„å¤–å±‚æ·»åŠ returnè¯­å¥</p>
</li>
</ul>
<p>ä¸‹é¢æ¥çœ‹ä¸€ä¸ªå®é™…åº”ç”¨å‡½æ•°çš„ä¾‹å­ï¼ˆç”¨æ¥è®¡ç®—Maxå€¼ï¼‰</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="comment">// è¿”å›aã€bä¸­æœ€å¤§å€¼.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> {</span><br><span class="line">    <span class="keyword">if</span> a &gt; b {</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    x := <span class="number">3</span></span><br><span class="line">    y := <span class="number">4</span></span><br><span class="line">    z := <span class="number">5</span></span><br><span class="line">    max_xy := max(x, y) <span class="comment">//è°ƒç”¨å‡½æ•°max(x, y)</span></span><br><span class="line">    max_xz := max(x, z) <span class="comment">//è°ƒç”¨å‡½æ•°max(x, z)</span></span><br><span class="line">    fmt.Printf(<span class="string">"max(%d, %d) = %d\n"</span>, x, y, max_xy)</span><br><span class="line">    fmt.Printf(<span class="string">"max(%d, %d) = %d\n"</span>, x, z, max_xz)</span><br><span class="line">    fmt.Printf(<span class="string">"max(%d, %d) = %d\n"</span>, y, z, max(y,z)) <span class="comment">// ä¹Ÿå¯åœ¨è¿™ç›´æ¥è°ƒç”¨å®ƒ</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢è¿™ä¸ªé‡Œé¢å¯ä»¥çœ‹åˆ°<code>max</code>å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œå®ƒä»¬çš„ç±»å‹éƒ½æ˜¯<code>int</code>ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªå˜é‡çš„ç±»å‹å¯ä»¥çœç•¥ï¼ˆå³ a,b int,è€Œé a int, b int)ï¼Œé»˜è®¤ä¸ºç¦»å®ƒæœ€è¿‘çš„ç±»å‹ï¼ŒåŒç†å¤šäº2ä¸ªåŒç±»å‹çš„å˜é‡æˆ–è€…è¿”å›å€¼ã€‚åŒæ—¶æ³¨æ„åˆ°å®ƒçš„è¿”å›å€¼å°±æ˜¯ä¸€ä¸ªç±»å‹ï¼Œè¿™ä¸ªå°±æ˜¯çœç•¥å†™æ³•ã€‚</p>
<h2 id="å¤šä¸ªè¿”å›å€¼"><a href="#å¤šä¸ªè¿”å›å€¼" class="headerlink" title="å¤šä¸ªè¿”å›å€¼"></a>å¤šä¸ªè¿”å›å€¼</h2><p>Goè¯­è¨€æ¯”Cæ›´å…ˆè¿›çš„ç‰¹æ€§ï¼Œå…¶ä¸­ä¸€ç‚¹å°±æ˜¯å‡½æ•°èƒ½å¤Ÿè¿”å›å¤šä¸ªå€¼ã€‚</p>
<p>ç›´æ¥çœ‹ä¾‹å­</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="comment">//è¿”å› A+B å’Œ A*B</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SumAndProduct</span><span class="params">(A, B <span class="type">int</span>)</span></span> (<span class="type">int</span>, <span class="type">int</span>) {</span><br><span class="line">    <span class="keyword">return</span> A+B, A*B</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    x := <span class="number">3</span></span><br><span class="line">    y := <span class="number">4</span></span><br><span class="line">    xPLUSy, xTIMESy := SumAndProduct(x, y)</span><br><span class="line">    fmt.Printf(<span class="string">"%d + %d = %d\n"</span>, x, y, xPLUSy)</span><br><span class="line">    fmt.Printf(<span class="string">"%d * %d = %d\n"</span>, x, y, xTIMESy)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹åˆ°ç›´æ¥è¿”å›äº†ä¸¤ä¸ªå‚æ•°ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å‘½åè¿”å›å‚æ•°çš„å˜é‡ï¼Œè¿™ä¸ªä¾‹å­é‡Œé¢åªæ˜¯ç”¨äº†ä¸¤ä¸ªç±»å‹ï¼Œä¹Ÿå¯ä»¥æ”¹æˆå¦‚ä¸‹è¿™æ ·çš„å®šä¹‰ï¼Œç„¶åè¿”å›çš„æ—¶å€™ä¸ç”¨å¸¦ä¸Šå˜é‡åï¼Œå› ä¸ºç›´æ¥åœ¨å‡½æ•°é‡Œé¢åˆå§‹åŒ–äº†ã€‚ä½†å¦‚æœå‡½æ•°æ˜¯å¯¼å‡ºçš„(é¦–å­—æ¯å¤§å†™)ï¼Œå®˜æ–¹å»ºè®®ï¼šæœ€å¥½å‘½åè¿”å›å€¼ï¼Œå› ä¸ºä¸å‘½åè¿”å›å€¼ï¼Œè™½ç„¶ä½¿å¾—ä»£ç æ›´åŠ ç®€æ´äº†ï¼Œä½†æ˜¯ä¼šé€ æˆç”Ÿæˆçš„æ–‡æ¡£å¯è¯»æ€§å·®ã€‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SumAndProduct</span><span class="params">(A, B <span class="type">int</span>)</span></span> (add <span class="type">int</span>, Multiplied <span class="type">int</span>) {</span><br><span class="line">    add = A+B</span><br><span class="line">    Multiplied = A*B</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="å˜å‚"><a href="#å˜å‚" class="headerlink" title="å˜å‚"></a>å˜å‚</h2><p>Goå‡½æ•°æ”¯æŒå˜å‚ã€‚æ¥å—å˜å‚çš„å‡½æ•°æ˜¯æœ‰ç€ä¸å®šæ•°é‡çš„å‚æ•°çš„ã€‚ä¸ºäº†åšåˆ°è¿™ç‚¹ï¼Œé¦–å…ˆéœ€è¦å®šä¹‰å‡½æ•°ä½¿å…¶æ¥å—å˜å‚ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">myfunc</span><span class="params">(arg ...<span class="type">int</span>)</span></span> {}</span><br></pre></td></tr></tbody></table></figure>

<p><code>arg ...int</code>å‘Šè¯‰Goè¿™ä¸ªå‡½æ•°æ¥å—ä¸å®šæ•°é‡çš„å‚æ•°ã€‚æ³¨æ„ï¼Œè¿™äº›å‚æ•°çš„ç±»å‹å…¨éƒ¨æ˜¯<code>int</code>ã€‚åœ¨å‡½æ•°ä½“ä¸­ï¼Œå˜é‡<code>arg</code>æ˜¯ä¸€ä¸ª<code>int</code>çš„<code>slice</code>ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> _, n := <span class="keyword">range</span> arg {</span><br><span class="line">    fmt.Printf(<span class="string">"And the number is: %d\n"</span>, n)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ä¼ å€¼ä¸ä¼ æŒ‡é’ˆ"><a href="#ä¼ å€¼ä¸ä¼ æŒ‡é’ˆ" class="headerlink" title="ä¼ å€¼ä¸ä¼ æŒ‡é’ˆ"></a>ä¼ å€¼ä¸ä¼ æŒ‡é’ˆ</h2><p>ä¼ ä¸€ä¸ªå‚æ•°å€¼åˆ°è¢«è°ƒç”¨å‡½æ•°é‡Œé¢æ—¶ï¼Œå®é™…ä¸Šæ˜¯ä¼ äº†è¿™ä¸ªå€¼çš„ä¸€ä»½copyï¼Œå½“åœ¨è¢«è°ƒç”¨å‡½æ•°ä¸­ä¿®æ”¹å‚æ•°å€¼çš„æ—¶å€™ï¼Œè°ƒç”¨å‡½æ•°ä¸­ç›¸åº”å®å‚ä¸ä¼šå‘ç”Ÿä»»ä½•å˜åŒ–ï¼Œå› ä¸ºæ•°å€¼å˜åŒ–åªä½œç”¨åœ¨copyä¸Šã€‚</p>
<p>ä¸ºäº†éªŒè¯ä¸Šé¢çš„è¯´æ³•ï¼Œæ¥çœ‹ä¸€ä¸ªä¾‹å­</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="comment">//ç®€å•çš„ä¸€ä¸ªå‡½æ•°ï¼Œå®ç°äº†å‚æ•°+1çš„æ“ä½œ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add1</span><span class="params">(a <span class="type">int</span>)</span></span> <span class="type">int</span> {</span><br><span class="line">    a = a+<span class="number">1</span> <span class="comment">// æ”¹å˜äº†açš„å€¼</span></span><br><span class="line">    <span class="keyword">return</span> a <span class="comment">//è¿”å›ä¸€ä¸ªæ–°å€¼</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    x := <span class="number">3</span></span><br><span class="line">    fmt.Println(<span class="string">"x = "</span>, x)  <span class="comment">// åº”è¯¥è¾“å‡º "x = 3"</span></span><br><span class="line">    x1 := add1(x)  <span class="comment">//è°ƒç”¨add1(x)</span></span><br><span class="line">    fmt.Println(<span class="string">"x+1 = "</span>, x1) <span class="comment">// åº”è¯¥è¾“å‡º"x+1 = 4"</span></span><br><span class="line">    fmt.Println(<span class="string">"x = "</span>, x)    <span class="comment">// åº”è¯¥è¾“å‡º"x = 3"</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è™½ç„¶è°ƒç”¨äº†<code>add1</code>å‡½æ•°ï¼Œå¹¶ä¸”åœ¨<code>add1</code>ä¸­æ‰§è¡Œ<code>a = a+1</code>æ“ä½œï¼Œä½†æ˜¯ä¸Šé¢ä¾‹å­ä¸­<code>x</code>å˜é‡çš„å€¼æ²¡æœ‰å‘ç”Ÿå˜åŒ–</p>
<p>ç†ç”±å¾ˆç®€å•ï¼šå› ä¸ºå½“è°ƒç”¨<code>add1</code>çš„æ—¶å€™ï¼Œ<code>add1</code>æ¥æ”¶çš„å‚æ•°å…¶å®æ˜¯<code>x</code>çš„copyï¼Œè€Œä¸æ˜¯<code>x</code>æœ¬èº«ã€‚</p>
<p>å¦‚æœçœŸçš„éœ€è¦ä¼ è¿™ä¸ª<code>x</code>æœ¬èº«,è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>è¿™å°±ç‰µæ‰¯åˆ°äº†æ‰€è°“çš„æŒ‡é’ˆã€‚å˜é‡åœ¨å†…å­˜ä¸­æ˜¯å­˜æ”¾äºä¸€å®šåœ°å€ä¸Šçš„ï¼Œä¿®æ”¹å˜é‡å®é™…æ˜¯ä¿®æ”¹å˜é‡åœ°å€å¤„çš„å†…å­˜ã€‚åªæœ‰<code>add1</code>å‡½æ•°çŸ¥é“<code>x</code>å˜é‡æ‰€åœ¨çš„åœ°å€ï¼Œæ‰èƒ½ä¿®æ”¹<code>x</code>å˜é‡çš„å€¼ã€‚æ‰€ä»¥éœ€è¦å°†<code>x</code>æ‰€åœ¨åœ°å€<code>&amp;x</code>ä¼ å…¥å‡½æ•°ï¼Œå¹¶å°†å‡½æ•°çš„å‚æ•°çš„ç±»å‹ç”±<code>int</code>æ”¹ä¸º<code>*int</code>ï¼Œå³æ”¹ä¸ºæŒ‡é’ˆç±»å‹ï¼Œæ‰èƒ½åœ¨å‡½æ•°ä¸­ä¿®æ”¹<code>x</code>å˜é‡çš„å€¼ã€‚æ­¤æ—¶å‚æ•°ä»ç„¶æ˜¯æŒ‰copyä¼ é€’çš„ï¼Œåªæ˜¯copyçš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚è¯·çœ‹ä¸‹é¢çš„ä¾‹å­</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="comment">//ç®€å•çš„ä¸€ä¸ªå‡½æ•°ï¼Œå®ç°äº†å‚æ•°+1çš„æ“ä½œ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add1</span><span class="params">(a *<span class="type">int</span>)</span></span> <span class="type">int</span> { <span class="comment">// è¯·æ³¨æ„ï¼Œ</span></span><br><span class="line">    *a = *a+<span class="number">1</span> <span class="comment">// ä¿®æ”¹äº†açš„å€¼</span></span><br><span class="line">    <span class="keyword">return</span> *a <span class="comment">// è¿”å›æ–°å€¼</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    x := <span class="number">3</span></span><br><span class="line">    fmt.Println(<span class="string">"x = "</span>, x)  <span class="comment">// åº”è¯¥è¾“å‡º "x = 3"</span></span><br><span class="line">    x1 := add1(&amp;x)  <span class="comment">// è°ƒç”¨ add1(&amp;x) ä¼ xçš„åœ°å€</span></span><br><span class="line">    fmt.Println(<span class="string">"x+1 = "</span>, x1) <span class="comment">// åº”è¯¥è¾“å‡º "x+1 = 4"</span></span><br><span class="line">    fmt.Println(<span class="string">"x = "</span>, x)    <span class="comment">// åº”è¯¥è¾“å‡º "x = 4"</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ ·ï¼Œå°±è¾¾åˆ°äº†ä¿®æ”¹<code>x</code>çš„ç›®çš„ã€‚é‚£ä¹ˆåˆ°åº•ä¼ æŒ‡é’ˆæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ</p>
<ul>
<li><p>ä¼ æŒ‡é’ˆä½¿å¾—å¤šä¸ªå‡½æ•°èƒ½æ“ä½œåŒä¸€ä¸ªå¯¹è±¡ã€‚</p>
</li>
<li><p>ä¼ æŒ‡é’ˆæ¯”è¾ƒè½»é‡çº§ (8bytes),åªæ˜¯ä¼ å†…å­˜åœ°å€ï¼Œå¯ä»¥ç”¨æŒ‡é’ˆä¼ é€’ä½“ç§¯å¤§çš„ç»“æ„ä½“ã€‚å¦‚æœç”¨å‚æ•°å€¼ä¼ é€’çš„è¯, åœ¨æ¯æ¬¡copyä¸Šé¢å°±ä¼šèŠ±è´¹ç›¸å¯¹è¾ƒå¤šçš„ç³»ç»Ÿå¼€é”€ï¼ˆå†…å­˜å’Œæ—¶é—´ï¼‰ã€‚æ‰€ä»¥å½“è¦ä¼ é€’å¤§çš„ç»“æ„ä½“çš„æ—¶å€™ï¼Œç”¨æŒ‡é’ˆæ˜¯ä¸€ä¸ªæ˜æ™ºçš„é€‰æ‹©ã€‚</p>
</li>
<li><p>Goè¯­è¨€ä¸­<code>channel</code>ï¼Œ<code>slice</code>ï¼Œ<code>map</code>è¿™ä¸‰ç§ç±»å‹çš„å®ç°æœºåˆ¶ç±»ä¼¼æŒ‡é’ˆï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä¼ é€’ï¼Œè€Œä¸ç”¨å–åœ°å€åä¼ é€’æŒ‡é’ˆã€‚ï¼ˆæ³¨ï¼šè‹¥å‡½æ•°éœ€æ”¹å˜<code>slice</code>çš„é•¿åº¦ï¼Œåˆ™ä»éœ€è¦å–åœ°å€ä¼ é€’æŒ‡é’ˆï¼‰</p>
</li>
</ul>
<h2 id="defer"><a href="#defer" class="headerlink" title="defer"></a>defer</h2><p>Goè¯­è¨€ä¸­æœ‰ç§ä¸é”™çš„è®¾è®¡ï¼Œå³å»¶è¿Ÿï¼ˆdeferï¼‰è¯­å¥ï¼Œå¯ä»¥åœ¨å‡½æ•°ä¸­æ·»åŠ å¤šä¸ªdeferè¯­å¥ã€‚å½“å‡½æ•°æ‰§è¡Œåˆ°æœ€åæ—¶ï¼Œè¿™äº›deferè¯­å¥ä¼šæŒ‰ç…§é€†åºæ‰§è¡Œï¼Œæœ€åè¯¥å‡½æ•°è¿”å›ã€‚ç‰¹åˆ«æ˜¯å½“è¿›è¡Œä¸€äº›æ‰“å¼€èµ„æºçš„æ“ä½œæ—¶ï¼Œé‡åˆ°é”™è¯¯éœ€è¦æå‰è¿”å›ï¼Œåœ¨è¿”å›å‰éœ€è¦å…³é—­ç›¸åº”çš„èµ„æºï¼Œä¸ç„¶å¾ˆå®¹æ˜“é€ æˆèµ„æºæ³„éœ²ç­‰é—®é¢˜ã€‚å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼Œä¸€èˆ¬å†™æ‰“å¼€ä¸€ä¸ªèµ„æºæ˜¯è¿™æ ·æ“ä½œçš„ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ReadWrite</span><span class="params">()</span></span> <span class="type">bool</span> {</span><br><span class="line">    file.Open(<span class="string">"file"</span>)</span><br><span class="line"><span class="comment">// åšä¸€äº›å·¥ä½œ</span></span><br><span class="line">    <span class="keyword">if</span> failureX {</span><br><span class="line">        file.Close()</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> failureY {</span><br><span class="line">        file.Close()</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    }</span><br><span class="line">    file.Close()</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢æœ‰å¾ˆå¤šé‡å¤çš„ä»£ç ï¼ŒGoçš„<code>defer</code>æœ‰æ•ˆè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚ä½¿ç”¨å®ƒåï¼Œä¸ä½†ä»£ç é‡å‡å°‘äº†å¾ˆå¤šï¼Œè€Œä¸”ç¨‹åºå˜å¾—æ›´ä¼˜é›…ã€‚åœ¨<code>defer</code>åæŒ‡å®šçš„å‡½æ•°ä¼šåœ¨å‡½æ•°é€€å‡ºå‰è°ƒç”¨ã€‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ReadWrite</span><span class="params">()</span></span> <span class="type">bool</span> {</span><br><span class="line">    file.Open(<span class="string">"file"</span>)</span><br><span class="line">    <span class="keyword">defer</span> file.Close()</span><br><span class="line">    <span class="keyword">if</span> failureX {</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> failureY {</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœæœ‰å¾ˆå¤šè°ƒç”¨<code>defer</code>ï¼Œé‚£ä¹ˆ<code>defer</code>æ˜¯é‡‡ç”¨åè¿›å…ˆå‡ºæ¨¡å¼ï¼Œæ‰€ä»¥å¦‚ä¸‹ä»£ç ä¼šè¾“å‡º<code>4 3 2 1 0</code></p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ {</span><br><span class="line">    <span class="keyword">defer</span> fmt.Printf(<span class="string">"%d "</span>, i)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>é€šå¸¸æ¥è¯´ï¼Œdeferä¼šç”¨åœ¨é‡Šæ”¾æ•°æ®åº“è¿æ¥ï¼Œå…³é—­æ–‡ä»¶ç­‰éœ€è¦åœ¨å‡½æ•°ç»“æŸæ—¶å¤„ç†çš„æ“ä½œã€‚</p>
<h2 id="å‡½æ•°ä½œä¸ºå€¼ã€ç±»å‹"><a href="#å‡½æ•°ä½œä¸ºå€¼ã€ç±»å‹" class="headerlink" title="å‡½æ•°ä½œä¸ºå€¼ã€ç±»å‹"></a>å‡½æ•°ä½œä¸ºå€¼ã€ç±»å‹</h2><p>åœ¨Goä¸­å‡½æ•°ä¹Ÿæ˜¯ä¸€ç§å˜é‡ï¼Œå¯ä»¥é€šè¿‡<code>type</code>æ¥å®šä¹‰å®ƒï¼Œå®ƒçš„ç±»å‹å°±æ˜¯æ‰€æœ‰æ‹¥æœ‰ç›¸åŒçš„å‚æ•°ï¼Œç›¸åŒçš„è¿”å›å€¼çš„ä¸€ç§ç±»å‹</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> typeName <span class="function"><span class="keyword">func</span><span class="params">(input1 inputType1 , input2 inputType2 [, ...])</span></span> (result1 resultType1 [, ...])</span><br></pre></td></tr></tbody></table></figure>

<p>å‡½æ•°ä½œä¸ºç±»å‹åˆ°åº•æœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿé‚£å°±æ˜¯å¯ä»¥æŠŠè¿™ä¸ªç±»å‹çš„å‡½æ•°å½“åšå€¼æ¥ä¼ é€’ï¼Œè¯·çœ‹ä¸‹é¢çš„ä¾‹å­</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="keyword">type</span> testInt <span class="function"><span class="keyword">func</span><span class="params">(<span class="type">int</span>)</span></span> <span class="type">bool</span> <span class="comment">// å£°æ˜äº†ä¸€ä¸ªå‡½æ•°ç±»å‹</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isOdd</span><span class="params">(integer <span class="type">int</span>)</span></span> <span class="type">bool</span> {</span><br><span class="line">    <span class="keyword">if</span> integer%<span class="number">2</span> == <span class="number">0</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isEven</span><span class="params">(integer <span class="type">int</span>)</span></span> <span class="type">bool</span> {</span><br><span class="line">    <span class="keyword">if</span> integer%<span class="number">2</span> == <span class="number">0</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">// å£°æ˜çš„å‡½æ•°ç±»å‹åœ¨è¿™ä¸ªåœ°æ–¹å½“åšäº†ä¸€ä¸ªå‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">filter</span><span class="params">(slice []<span class="type">int</span>, f testInt)</span></span> []<span class="type">int</span> {</span><br><span class="line">    <span class="keyword">var</span> result []<span class="type">int</span></span><br><span class="line">    <span class="keyword">for</span> _, value := <span class="keyword">range</span> slice {</span><br><span class="line">        <span class="keyword">if</span> f(value) {</span><br><span class="line">            result = <span class="built_in">append</span>(result, value)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">    slice := []<span class="type">int</span> {<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">7</span>}</span><br><span class="line">    fmt.Println(<span class="string">"slice = "</span>, slice)</span><br><span class="line">    odd := filter(slice, isOdd)    <span class="comment">// å‡½æ•°å½“åšå€¼æ¥ä¼ é€’äº†</span></span><br><span class="line">    fmt.Println(<span class="string">"Odd elements of slice are: "</span>, odd)</span><br><span class="line">    even := filter(slice, isEven)  <span class="comment">// å‡½æ•°å½“åšå€¼æ¥ä¼ é€’äº†</span></span><br><span class="line">    fmt.Println(<span class="string">"Even elements of slice are: "</span>, even)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å‡½æ•°å½“åšå€¼å’Œç±»å‹åœ¨å†™ä¸€äº›é€šç”¨æ¥å£çš„æ—¶å€™éå¸¸æœ‰ç”¨ï¼Œé€šè¿‡ä¸Šé¢ä¾‹å­çœ‹åˆ°<code>testInt</code>è¿™ä¸ªç±»å‹æ˜¯ä¸€ä¸ªå‡½æ•°ç±»å‹ï¼Œç„¶åä¸¤ä¸ª<code>filter</code>å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼ä¸<code>testInt</code>ç±»å‹æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯å¯ä»¥å®ç°å¾ˆå¤šç§çš„é€»è¾‘ï¼Œè¿™æ ·ä½¿å¾—ç¨‹åºå˜å¾—éå¸¸çš„çµæ´»ã€‚</p>
<h2 id="Panicå’ŒRecover"><a href="#Panicå’ŒRecover" class="headerlink" title="Panicå’ŒRecover"></a>Panicå’ŒRecover</h2><p>Goæ²¡æœ‰åƒJavaé‚£æ ·çš„å¼‚å¸¸æœºåˆ¶ï¼Œå®ƒä¸èƒ½æŠ›å‡ºå¼‚å¸¸ï¼Œè€Œæ˜¯ä½¿ç”¨äº†<code>panic</code>å’Œ<code>recover</code>æœºåˆ¶ã€‚ä¸€å®šè¦è®°ä½ï¼Œåº”å½“æŠŠå®ƒä½œä¸ºæœ€åçš„æ‰‹æ®µæ¥ä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»£ç ä¸­åº”å½“æ²¡æœ‰ï¼Œæˆ–è€…å¾ˆå°‘æœ‰<code>panic</code>çš„ä¸œè¥¿ã€‚è¿™æ˜¯ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œè¯·æ˜æ™ºåœ°ä½¿ç”¨å®ƒã€‚</p>
<p>Panic</p>
<p>æ˜¯ä¸€ä¸ªå†…å»ºå‡½æ•°ï¼Œå¯ä»¥ä¸­æ–­åŸæœ‰çš„æ§åˆ¶æµç¨‹ï¼Œè¿›å…¥ä¸€ä¸ª<code>panic</code>çŠ¶æ€ä¸­ã€‚å½“å‡½æ•°<code>F</code>è°ƒç”¨<code>panic</code>ï¼Œå‡½æ•°Fçš„æ‰§è¡Œè¢«ä¸­æ–­ï¼Œä½†æ˜¯<code>F</code>ä¸­çš„å»¶è¿Ÿå‡½æ•°ä¼šæ­£å¸¸æ‰§è¡Œï¼Œç„¶åFè¿”å›åˆ°è°ƒç”¨å®ƒçš„åœ°æ–¹ã€‚åœ¨è°ƒç”¨çš„åœ°æ–¹ï¼Œ<code>F</code>çš„è¡Œä¸ºå°±åƒè°ƒç”¨äº†<code>panic</code>ã€‚è¿™ä¸€è¿‡ç¨‹ç»§ç»­å‘ä¸Šï¼Œç›´åˆ°å‘ç”Ÿ<code>panic</code>çš„<code>goroutine</code>ä¸­æ‰€æœ‰è°ƒç”¨çš„å‡½æ•°è¿”å›ï¼Œæ­¤æ—¶ç¨‹åºé€€å‡ºã€‚<code>panic</code>å¯ä»¥ç›´æ¥è°ƒç”¨<code>panic</code>äº§ç”Ÿã€‚ä¹Ÿå¯ä»¥ç”±è¿è¡Œæ—¶é”™è¯¯äº§ç”Ÿï¼Œä¾‹å¦‚è®¿é—®è¶Šç•Œçš„æ•°ç»„ã€‚</p>
<p>Recover</p>
<p>æ˜¯ä¸€ä¸ªå†…å»ºçš„å‡½æ•°ï¼Œå¯ä»¥è®©è¿›å…¥<code>panic</code>çŠ¶æ€çš„<code>goroutine</code>æ¢å¤è¿‡æ¥ã€‚<code>recover</code>ä»…åœ¨å»¶è¿Ÿå‡½æ•°ä¸­æœ‰æ•ˆã€‚åœ¨æ­£å¸¸çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œè°ƒç”¨<code>recover</code>ä¼šè¿”å›<code>nil</code>ï¼Œå¹¶ä¸”æ²¡æœ‰å…¶å®ƒä»»ä½•æ•ˆæœã€‚å¦‚æœå½“å‰çš„<code>goroutine</code>é™·å…¥<code>panic</code>çŠ¶æ€ï¼Œè°ƒç”¨<code>recover</code>å¯ä»¥æ•è·åˆ°<code>panic</code>çš„è¾“å…¥å€¼ï¼Œå¹¶ä¸”æ¢å¤æ­£å¸¸çš„æ‰§è¡Œã€‚</p>
<p>ä¸‹é¢è¿™ä¸ªå‡½æ•°æ¼”ç¤ºäº†å¦‚ä½•åœ¨è¿‡ç¨‹ä¸­ä½¿ç”¨<code>panic</code></p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user = os.Getenv(<span class="string">"USER"</span>)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">init</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">if</span> user == <span class="string">""</span> {</span><br><span class="line">        <span class="built_in">panic</span>(<span class="string">"no value for $USER"</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢è¿™ä¸ªå‡½æ•°æ£€æŸ¥ä½œä¸ºå…¶å‚æ•°çš„å‡½æ•°åœ¨æ‰§è¡Œæ—¶æ˜¯å¦ä¼šäº§ç”Ÿ<code>panic</code>ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">throwsPanic</span><span class="params">(f <span class="keyword">func</span>()</span></span>) (b <span class="type">bool</span>) {</span><br><span class="line">    <span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> {</span><br><span class="line">        <span class="keyword">if</span> x := <span class="built_in">recover</span>(); x != <span class="literal">nil</span> {</span><br><span class="line">            b = <span class="literal">true</span></span><br><span class="line">        }</span><br><span class="line">    }()</span><br><span class="line">    f() <span class="comment">//æ‰§è¡Œå‡½æ•°fï¼Œå¦‚æœfä¸­å‡ºç°äº†panicï¼Œé‚£ä¹ˆå°±å¯ä»¥æ¢å¤å›æ¥</span></span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æ³¨æ„ï¼š</p>
<p><code>defer</code>å¿…é¡»åœ¨<code>panic</code>è¯­å¥ä¹‹å‰ã€‚</p>
<p><code>recover</code>å¿…é¡»é…åˆ<code>defer</code>ä½¿ç”¨ã€‚</p>
<h2 id="mainå‡½æ•°å’Œinitå‡½æ•°"><a href="#mainå‡½æ•°å’Œinitå‡½æ•°" class="headerlink" title="mainå‡½æ•°å’Œinitå‡½æ•°"></a><code>main</code>å‡½æ•°å’Œ<code>init</code>å‡½æ•°</h2><p>Goé‡Œé¢æœ‰ä¸¤ä¸ªä¿ç•™çš„å‡½æ•°ï¼š<code>init</code>å‡½æ•°ï¼ˆèƒ½å¤Ÿåº”ç”¨äºæ‰€æœ‰çš„<code>package</code>ï¼‰å’Œ<code>main</code>å‡½æ•°ï¼ˆåªèƒ½åº”ç”¨äº<code>package main</code>ï¼‰ã€‚è¿™ä¸¤ä¸ªå‡½æ•°åœ¨å®šä¹‰æ—¶ä¸èƒ½æœ‰ä»»ä½•çš„å‚æ•°å’Œè¿”å›å€¼ã€‚è™½ç„¶ä¸€ä¸ª<code>package</code>é‡Œé¢å¯ä»¥å†™ä»»æ„å¤šä¸ª<code>init</code>å‡½æ•°ï¼Œä½†è¿™æ— è®ºæ˜¯å¯¹äºå¯è¯»æ€§è¿˜æ˜¯ä»¥åçš„å¯ç»´æŠ¤æ€§æ¥è¯´ï¼Œå¼ºçƒˆå»ºè®®ç”¨æˆ·åœ¨ä¸€ä¸ª<code>package</code>ä¸­æ¯ä¸ªæ–‡ä»¶åªå†™ä¸€ä¸ª<code>init</code>å‡½æ•°ã€‚</p>
<p>Goç¨‹åºä¼šè‡ªåŠ¨è°ƒç”¨<code>init()</code>å’Œ<code>main()</code>ï¼Œæ‰€ä»¥ä¸éœ€è¦åœ¨ä»»ä½•åœ°æ–¹è°ƒç”¨è¿™ä¸¤ä¸ªå‡½æ•°ã€‚æ¯ä¸ª<code>package</code>ä¸­çš„<code>init</code>å‡½æ•°éƒ½æ˜¯å¯é€‰çš„ï¼Œä½†<code>package main</code>å°±å¿…é¡»åŒ…å«ä¸€ä¸ª<code>main</code>å‡½æ•°ã€‚</p>
<p>ç¨‹åºçš„åˆå§‹åŒ–å’Œæ‰§è¡Œéƒ½èµ·å§‹äº<code>main</code>åŒ…ã€‚å¦‚æœ<code>main</code>åŒ…è¿˜å¯¼å…¥äº†å…¶å®ƒçš„åŒ…ï¼Œé‚£ä¹ˆå°±ä¼šåœ¨ç¼–è¯‘æ—¶å°†å®ƒä»¬ä¾æ¬¡å¯¼å…¥ã€‚æœ‰æ—¶ä¸€ä¸ªåŒ…ä¼šè¢«å¤šä¸ªåŒ…åŒæ—¶å¯¼å…¥ï¼Œé‚£ä¹ˆå®ƒåªä¼šè¢«å¯¼å…¥ä¸€æ¬¡ï¼ˆä¾‹å¦‚å¾ˆå¤šåŒ…å¯èƒ½éƒ½ä¼šç”¨åˆ°<code>fmt</code>åŒ…ï¼Œä½†å®ƒåªä¼šè¢«å¯¼å…¥ä¸€æ¬¡ï¼Œå› ä¸ºæ²¡æœ‰å¿…è¦å¯¼å…¥å¤šæ¬¡ï¼‰ã€‚å½“ä¸€ä¸ªåŒ…è¢«å¯¼å…¥æ—¶ï¼Œå¦‚æœè¯¥åŒ…è¿˜å¯¼å…¥äº†å…¶å®ƒçš„åŒ…ï¼Œé‚£ä¹ˆä¼šå…ˆå°†å…¶å®ƒåŒ…å¯¼å…¥è¿›æ¥ï¼Œç„¶åå†å¯¹è¿™äº›åŒ…ä¸­çš„åŒ…çº§å¸¸é‡å’Œå˜é‡è¿›è¡Œåˆå§‹åŒ–ï¼Œæ¥ç€æ‰§è¡Œ<code>init</code>å‡½æ•°ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œä¾æ¬¡ç±»æ¨ã€‚ç­‰æ‰€æœ‰è¢«å¯¼å…¥çš„åŒ…éƒ½åŠ è½½å®Œæ¯•äº†ï¼Œå°±ä¼šå¼€å§‹å¯¹<code>main</code>åŒ…ä¸­çš„åŒ…çº§å¸¸é‡å’Œå˜é‡è¿›è¡Œåˆå§‹åŒ–ï¼Œç„¶åæ‰§è¡Œ<code>main</code>åŒ…ä¸­çš„<code>init</code>å‡½æ•°ï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰ï¼Œæœ€åæ‰§è¡Œ<code>main</code>å‡½æ•°ã€‚</p>
<h2 id="import"><a href="#import" class="headerlink" title="import"></a>import</h2><p>åœ¨å†™Goä»£ç çš„æ—¶å€™ç»å¸¸ç”¨åˆ°importè¿™ä¸ªå‘½ä»¤ç”¨æ¥å¯¼å…¥åŒ…æ–‡ä»¶ï¼Œç»å¸¸çœ‹åˆ°çš„æ–¹å¼å‚è€ƒå¦‚ä¸‹ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure>

<p>ç„¶åä»£ç é‡Œé¢å¯ä»¥é€šè¿‡å¦‚ä¸‹çš„æ–¹å¼è°ƒç”¨</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(<span class="string">"hello world"</span>)</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢è¿™ä¸ªfmtæ˜¯Goè¯­è¨€çš„æ ‡å‡†åº“ï¼Œå…¶å®æ˜¯å»<code>GOROOT</code>ç¯å¢ƒå˜é‡æŒ‡å®šç›®å½•ä¸‹å»åŠ è½½è¯¥æ¨¡å—ï¼Œå½“ç„¶Goçš„importè¿˜æ”¯æŒå¦‚ä¸‹ä¸¤ç§æ–¹å¼æ¥åŠ è½½è‡ªå·±å†™çš„æ¨¡å—ï¼š</p>
<h3 id="ç›¸å¯¹è·¯å¾„"><a href="#ç›¸å¯¹è·¯å¾„" class="headerlink" title="ç›¸å¯¹è·¯å¾„"></a>ç›¸å¯¹è·¯å¾„</h3><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"./model"</span> <span class="comment">//å½“å‰æ–‡ä»¶åŒä¸€ç›®å½•çš„modelç›®å½•ï¼Œä½†æ˜¯ä¸å»ºè®®è¿™ç§æ–¹å¼æ¥import</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="ç»å¯¹è·¯å¾„"><a href="#ç»å¯¹è·¯å¾„" class="headerlink" title="ç»å¯¹è·¯å¾„"></a>ç»å¯¹è·¯å¾„</h3><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"shorturl/model"</span> <span class="comment">//åŠ è½½gopath/src/shorturl/modelæ¨¡å—</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢å±•ç¤ºäº†ä¸€äº›importå¸¸ç”¨çš„å‡ ç§æ–¹å¼ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€äº›</p>
<h3 id="ç‰¹æ®Šçš„import"><a href="#ç‰¹æ®Šçš„import" class="headerlink" title="ç‰¹æ®Šçš„import"></a>ç‰¹æ®Šçš„import</h3><h4 id="ç‚¹æ“ä½œ"><a href="#ç‚¹æ“ä½œ" class="headerlink" title="ç‚¹æ“ä½œ"></a>ç‚¹æ“ä½œ</h4><p>æœ‰æ—¶å€™ä¼šçœ‹åˆ°å¦‚ä¸‹çš„æ–¹å¼å¯¼å…¥åŒ…</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>(</span><br><span class="line">    . <span class="string">"fmt"</span></span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™ä¸ªç‚¹æ“ä½œçš„å«ä¹‰å°±æ˜¯è¿™ä¸ªåŒ…å¯¼å…¥ä¹‹ååœ¨è°ƒç”¨è¿™ä¸ªåŒ…çš„å‡½æ•°æ—¶ï¼Œå¯ä»¥çœç•¥å‰ç¼€çš„åŒ…åï¼Œä¹Ÿå°±æ˜¯å‰é¢è°ƒç”¨çš„fmt.Println(â€œhello worldâ€)å¯ä»¥çœç•¥çš„å†™æˆ<code>Println("hello world")</code></p>
<h4 id="åˆ«åæ“ä½œ"><a href="#åˆ«åæ“ä½œ" class="headerlink" title="åˆ«åæ“ä½œ"></a>åˆ«åæ“ä½œ</h4><p>åˆ«åæ“ä½œé¡¾åæ€ä¹‰å¯ä»¥æŠŠåŒ…å‘½åæˆå¦ä¸€ä¸ªç”¨èµ·æ¥å®¹æ˜“è®°å¿†çš„åå­—</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>(</span><br><span class="line">        f <span class="string">"fmt"</span></span><br><span class="line">    )</span><br></pre></td></tr></tbody></table></figure>

<p>åˆ«åæ“ä½œçš„è¯è°ƒç”¨åŒ…å‡½æ•°æ—¶å‰ç¼€å˜æˆäº†å‰ç¼€ï¼Œå³<code>f.Println("hello world")</code></p>
<h4 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="_æ“ä½œ"></a>_æ“ä½œ</h4><p>è¿™ä¸ªæ“ä½œç»å¸¸æ˜¯è®©å¾ˆå¤šäººè´¹è§£çš„ä¸€ä¸ªæ“ä½œç¬¦ï¼Œè¯·çœ‹ä¸‹é¢è¿™ä¸ª<code>import</code></p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"database/sql"</span></span><br><span class="line">    _ <span class="string">"github.com/ziutek/mymysql/godrv"</span></span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure>

<p><code>_</code>æ“ä½œå…¶å®æ˜¯å¼•å…¥è¯¥åŒ…ï¼Œè€Œä¸ç›´æ¥ä½¿ç”¨åŒ…é‡Œé¢çš„å‡½æ•°ï¼Œè€Œæ˜¯è°ƒç”¨äº†è¯¥åŒ…é‡Œé¢çš„<code>initå‡½æ•°</code>ã€‚</p>
<h1 id="structç±»å‹"><a href="#structç±»å‹" class="headerlink" title="structç±»å‹"></a>structç±»å‹</h1><h2 id="structç±»å‹çš„å£°æ˜"><a href="#structç±»å‹çš„å£°æ˜" class="headerlink" title="structç±»å‹çš„å£°æ˜"></a>structç±»å‹çš„å£°æ˜</h2><p>Goè¯­è¨€ä¸­ï¼Œä¹Ÿå’ŒCæˆ–è€…å…¶ä»–è¯­è¨€ä¸€æ ·ï¼Œå¯ä»¥å£°æ˜æ–°çš„ç±»å‹ï¼Œä½œä¸ºå…¶å®ƒç±»å‹çš„å±æ€§æˆ–å­—æ®µçš„å®¹å™¨ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹<code>person</code>ä»£è¡¨ä¸€ä¸ªäººçš„å®ä½“ã€‚è¿™ä¸ªå®ä½“æ‹¥æœ‰å±æ€§ï¼šå§“åå’Œå¹´é¾„ã€‚è¿™æ ·çš„ç±»å‹ç§°ä¹‹<code>struct</code>ã€‚å¦‚ä¸‹ä»£ç æ‰€ç¤º:</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> person <span class="keyword">struct</span> {</span><br><span class="line">    name <span class="type">string</span></span><br><span class="line">    age <span class="type">int</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å£°æ˜ä¸€ä¸ª<code>struct</code>å¦‚æ­¤ç®€å•ï¼Œä¸Šé¢çš„ç±»å‹åŒ…å«æœ‰ä¸¤ä¸ªå­—æ®µ</p>
<ul>
<li>ä¸€ä¸ª<code>string</code>ç±»å‹çš„å­—æ®µnameï¼Œç”¨æ¥ä¿å­˜ç”¨æˆ·åç§°è¿™ä¸ªå±æ€§</li>
<li>ä¸€ä¸ª<code>int</code>ç±»å‹çš„å­—æ®µageï¼Œç”¨æ¥ä¿å­˜ç”¨æˆ·å¹´é¾„è¿™ä¸ªå±æ€§</li>
</ul>
<p>ä½¿ç”¨<code>struct</code>çœ‹ä¸‹é¢çš„ä»£ç </p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> person <span class="keyword">struct</span> {</span><br><span class="line">    name <span class="type">string</span></span><br><span class="line">    age <span class="type">int</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">var</span> P person  <span class="comment">// Pç°åœ¨å°±æ˜¯personç±»å‹çš„å˜é‡äº†</span></span><br><span class="line">P.name = <span class="string">"Astaxie"</span>  <span class="comment">// èµ‹å€¼"Astaxie"ç»™Pçš„nameå±æ€§.</span></span><br><span class="line">P.age = <span class="number">25</span>  <span class="comment">// èµ‹å€¼"25"ç»™å˜é‡Pçš„ageå±æ€§</span></span><br><span class="line">fmt.Printf(<span class="string">"The person's name is %s"</span>, P.name)  <span class="comment">// è®¿é—®Pçš„nameå±æ€§.</span></span><br></pre></td></tr></tbody></table></figure>

<p>é™¤äº†ä¸Šé¢è¿™ç§Pçš„å£°æ˜ä½¿ç”¨ä¹‹å¤–ï¼Œè¿˜æœ‰å¦å¤–å‡ ç§å£°æ˜ä½¿ç”¨æ–¹å¼ï¼š</p>
<ol>
<li><p>æŒ‰ç…§é¡ºåºæä¾›åˆå§‹åŒ–å€¼<br><code>P := person{"Tom", 25}</code></p>
</li>
<li><p>é€šè¿‡<code>field:value</code>çš„æ–¹å¼åˆå§‹åŒ–ï¼Œè¿™æ ·å¯ä»¥ä»»æ„é¡ºåº<br><code>P := person{age:24, name:"Tom"}</code></p>
</li>
<li><p>å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡<code>new</code>å‡½æ•°åˆ†é…ä¸€ä¸ªæŒ‡é’ˆï¼Œæ­¤å¤„Pçš„ç±»å‹ä¸º<code>*person</code><br><code>P := new(person)</code></p>
</li>
</ol>
<p>çœ‹ä¸€ä¸ªå®Œæ•´çš„ä½¿ç”¨<code>struct</code>çš„ä¾‹å­</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="comment">// å£°æ˜ä¸€ä¸ªæ–°çš„ç±»å‹</span></span><br><span class="line"><span class="keyword">type</span> person <span class="keyword">struct</span> {</span><br><span class="line">    name <span class="type">string</span></span><br><span class="line">    age <span class="type">int</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">// æ¯”è¾ƒä¸¤ä¸ªäººçš„å¹´é¾„ï¼Œè¿”å›å¹´é¾„å¤§çš„é‚£ä¸ªäººï¼Œå¹¶ä¸”è¿”å›å¹´é¾„å·®</span></span><br><span class="line"><span class="comment">// structä¹Ÿæ˜¯ä¼ å€¼çš„</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Older</span><span class="params">(p1, p2 person)</span></span> (person, <span class="type">int</span>) {</span><br><span class="line">    <span class="keyword">if</span> p1.age&gt;p2.age {  <span class="comment">// æ¯”è¾ƒp1å’Œp2è¿™ä¸¤ä¸ªäººçš„å¹´é¾„</span></span><br><span class="line">        <span class="keyword">return</span> p1, p1.age-p2.age</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> p2, p2.age-p1.age</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">var</span> tom person</span><br><span class="line">    <span class="comment">// èµ‹å€¼åˆå§‹åŒ–</span></span><br><span class="line">    tom.name, tom.age = <span class="string">"Tom"</span>, <span class="number">18</span></span><br><span class="line">    <span class="comment">// ä¸¤ä¸ªå­—æ®µéƒ½å†™æ¸…æ¥šçš„åˆå§‹åŒ–</span></span><br><span class="line">    bob := person{age:<span class="number">25</span>, name:<span class="string">"Bob"</span>}</span><br><span class="line">    <span class="comment">// æŒ‰ç…§structå®šä¹‰é¡ºåºåˆå§‹åŒ–å€¼</span></span><br><span class="line">    paul := person{<span class="string">"Paul"</span>, <span class="number">43</span>}</span><br><span class="line">    tb_Older, tb_diff := Older(tom, bob)</span><br><span class="line">    tp_Older, tp_diff := Older(tom, paul)</span><br><span class="line">    bp_Older, bp_diff := Older(bob, paul)</span><br><span class="line">    fmt.Printf(<span class="string">"Of %s and %s, %s is older by %d years\n"</span>,</span><br><span class="line">        tom.name, bob.name, tb_Older.name, tb_diff)</span><br><span class="line">    fmt.Printf(<span class="string">"Of %s and %s, %s is older by %d years\n"</span>,</span><br><span class="line">        tom.name, paul.name, tp_Older.name, tp_diff)</span><br><span class="line">    fmt.Printf(<span class="string">"Of %s and %s, %s is older by %d years\n"</span>,</span><br><span class="line">        bob.name, paul.name, bp_Older.name, bp_diff)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="structçš„åŒ¿åå­—æ®µ"><a href="#structçš„åŒ¿åå­—æ®µ" class="headerlink" title="structçš„åŒ¿åå­—æ®µ"></a><code>struct</code>çš„åŒ¿åå­—æ®µ</h2><p>å®šä¹‰çš„æ—¶å€™æ˜¯å­—æ®µåä¸å…¶ç±»å‹ä¸€ä¸€å¯¹åº”ï¼Œå®é™…ä¸ŠGoæ”¯æŒåªæä¾›ç±»å‹ï¼Œè€Œä¸å†™å­—æ®µåçš„æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯åŒ¿åå­—æ®µï¼Œä¹Ÿç§°ä¸ºåµŒå…¥å­—æ®µã€‚</p>
<p>å½“åŒ¿åå­—æ®µæ˜¯ä¸€ä¸ª<code>struct</code>çš„æ—¶å€™ï¼Œé‚£ä¹ˆè¿™ä¸ª<code>struct</code>æ‰€æ‹¥æœ‰çš„å…¨éƒ¨å­—æ®µéƒ½è¢«éšå¼åœ°å¼•å…¥äº†å½“å‰å®šä¹‰çš„è¿™ä¸ª<code>struct</code>ã€‚</p>
<p>çœ‹ä¸€ä¸ªä¾‹å­ï¼Œè®©ä¸Šé¢è¯´çš„è¿™äº›æ›´å…·ä½“åŒ–</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="keyword">type</span> Human <span class="keyword">struct</span> {</span><br><span class="line">    name <span class="type">string</span></span><br><span class="line">    age <span class="type">int</span></span><br><span class="line">    weight <span class="type">int</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> {</span><br><span class="line">    Human  <span class="comment">// åŒ¿åå­—æ®µï¼Œé‚£ä¹ˆé»˜è®¤Studentå°±åŒ…å«äº†Humançš„æ‰€æœ‰å­—æ®µ</span></span><br><span class="line">    speciality <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–ä¸€ä¸ªå­¦ç”Ÿ</span></span><br><span class="line">    mark := Student{Human{<span class="string">"Mark"</span>, <span class="number">25</span>, <span class="number">120</span>}, <span class="string">"Computer Science"</span>}</span><br><span class="line">    <span class="comment">// è®¿é—®ç›¸åº”çš„å­—æ®µ</span></span><br><span class="line">    fmt.Println(<span class="string">"His name is "</span>, mark.name)</span><br><span class="line">    fmt.Println(<span class="string">"His age is "</span>, mark.age)</span><br><span class="line">    fmt.Println(<span class="string">"His weight is "</span>, mark.weight)</span><br><span class="line">    fmt.Println(<span class="string">"His speciality is "</span>, mark.speciality)</span><br><span class="line">    <span class="comment">// ä¿®æ”¹å¯¹åº”çš„å¤‡æ³¨ä¿¡æ¯</span></span><br><span class="line">    mark.speciality = <span class="string">"AI"</span></span><br><span class="line">    fmt.Println(<span class="string">"Mark changed his speciality"</span>)</span><br><span class="line">    fmt.Println(<span class="string">"His speciality is "</span>, mark.speciality)</span><br><span class="line">    <span class="comment">// ä¿®æ”¹ä»–çš„å¹´é¾„ä¿¡æ¯</span></span><br><span class="line">    fmt.Println(<span class="string">"Mark become old"</span>)</span><br><span class="line">    mark.age = <span class="number">46</span></span><br><span class="line">    fmt.Println(<span class="string">"His age is"</span>, mark.age)</span><br><span class="line">    <span class="comment">// ä¿®æ”¹ä»–çš„ä½“é‡ä¿¡æ¯</span></span><br><span class="line">    fmt.Println(<span class="string">"Mark is not an athlet anymore"</span>)</span><br><span class="line">    mark.weight += <span class="number">60</span></span><br><span class="line">    fmt.Println(<span class="string">"His weight is"</span>, mark.weight)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>çœ‹åˆ°Studentè®¿é—®å±æ€§ageå’Œnameçš„æ—¶å€™ï¼Œå°±åƒè®¿é—®è‡ªå·±æ‰€æœ‰ç”¨çš„å­—æ®µä¸€æ ·ï¼ŒåŒ¿åå­—æ®µå°±æ˜¯è¿™æ ·ï¼Œèƒ½å¤Ÿå®ç°å­—æ®µçš„ç»§æ‰¿ã€‚studentè¿˜èƒ½è®¿é—®Humanè¿™ä¸ªå­—æ®µä½œä¸ºå­—æ®µåã€‚è¯·çœ‹ä¸‹é¢çš„ä»£ç ã€‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mark.Human = Human{<span class="string">"Marcus"</span>, <span class="number">55</span>, <span class="number">220</span>}</span><br><span class="line">mark.Human.age -= <span class="number">1</span></span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡åŒ¿åè®¿é—®å’Œä¿®æ”¹å­—æ®µç›¸å½“çš„æœ‰ç”¨ï¼Œä½†æ˜¯ä¸ä»…ä»…æ˜¯<code>struct</code>å­—æ®µï¼Œæ‰€æœ‰çš„å†…ç½®ç±»å‹å’Œè‡ªå®šä¹‰ç±»å‹éƒ½æ˜¯å¯ä»¥ä½œä¸ºåŒ¿åå­—æ®µçš„ã€‚è¯·çœ‹ä¸‹é¢çš„ä¾‹å­</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="keyword">type</span> Skills []<span class="type">string</span></span><br><span class="line"><span class="keyword">type</span> Human <span class="keyword">struct</span> {</span><br><span class="line">    name <span class="type">string</span></span><br><span class="line">    age <span class="type">int</span></span><br><span class="line">    weight <span class="type">int</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> {</span><br><span class="line">    Human  <span class="comment">// åŒ¿åå­—æ®µï¼Œstruct</span></span><br><span class="line">    Skills <span class="comment">// åŒ¿åå­—æ®µï¼Œè‡ªå®šä¹‰çš„ç±»å‹string slice</span></span><br><span class="line">    <span class="type">int</span>    <span class="comment">// å†…ç½®ç±»å‹ä½œä¸ºåŒ¿åå­—æ®µ</span></span><br><span class="line">    speciality <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–å­¦ç”ŸJane</span></span><br><span class="line">    jane := Student{Human:Human{<span class="string">"Jane"</span>, <span class="number">35</span>, <span class="number">100</span>}, speciality:<span class="string">"Biology"</span>}</span><br><span class="line">    <span class="comment">// ç°åœ¨è®¿é—®ç›¸åº”çš„å­—æ®µ</span></span><br><span class="line">    fmt.Println(<span class="string">"Her name is "</span>, jane.name)</span><br><span class="line">    fmt.Println(<span class="string">"Her age is "</span>, jane.age)</span><br><span class="line">    fmt.Println(<span class="string">"Her weight is "</span>, jane.weight)</span><br><span class="line">    fmt.Println(<span class="string">"Her speciality is "</span>, jane.speciality)</span><br><span class="line">    <span class="comment">// ä¿®æ”¹ä»–çš„skillæŠ€èƒ½å­—æ®µ</span></span><br><span class="line">    jane.Skills = []<span class="type">string</span>{<span class="string">"anatomy"</span>}</span><br><span class="line">    fmt.Println(<span class="string">"Her skills are "</span>, jane.Skills)</span><br><span class="line">    fmt.Println(<span class="string">"She acquired two new ones "</span>)</span><br><span class="line">    jane.Skills = <span class="built_in">append</span>(jane.Skills, <span class="string">"physics"</span>, <span class="string">"golang"</span>)</span><br><span class="line">    fmt.Println(<span class="string">"Her skills now are "</span>, jane.Skills)</span><br><span class="line">    <span class="comment">// ä¿®æ”¹åŒ¿åå†…ç½®ç±»å‹å­—æ®µ</span></span><br><span class="line">    jane.<span class="type">int</span> = <span class="number">3</span></span><br><span class="line">    fmt.Println(<span class="string">"Her preferred number is"</span>, jane.<span class="type">int</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä»ä¸Šé¢ä¾‹å­çœ‹å‡ºæ¥<code>struct</code>ä¸ä»…ä»…èƒ½å¤Ÿå°†<code>struct</code>ä½œä¸ºåŒ¿åå­—æ®µï¼Œè‡ªå®šä¹‰ç±»å‹ã€å†…ç½®ç±»å‹éƒ½å¯ä»¥ä½œä¸ºåŒ¿åå­—æ®µï¼Œè€Œä¸”å¯ä»¥åœ¨ç›¸åº”çš„å­—æ®µä¸Šé¢è¿›è¡Œå‡½æ•°æ“ä½œï¼ˆå¦‚ä¾‹å­ä¸­çš„appendï¼‰ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœhumané‡Œé¢æœ‰ä¸€ä¸ªå­—æ®µå«åšphoneï¼Œè€Œstudentä¹Ÿæœ‰ä¸€ä¸ªå­—æ®µå«åšphoneï¼Œé‚£ä¹ˆè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>Goé‡Œé¢å¾ˆç®€å•çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œæœ€å¤–å±‚çš„ä¼˜å…ˆè®¿é—®ï¼Œä¹Ÿå°±æ˜¯å½“é€šè¿‡<code>student.phone</code>è®¿é—®çš„æ—¶å€™ï¼Œæ˜¯è®¿é—®studenté‡Œé¢çš„å­—æ®µï¼Œè€Œä¸æ˜¯humané‡Œé¢çš„å­—æ®µã€‚</p>
<p>è¿™æ ·å°±å…è®¸å»é‡è½½é€šè¿‡åŒ¿åå­—æ®µç»§æ‰¿çš„ä¸€äº›å­—æ®µï¼Œå½“ç„¶å¦‚æœæƒ³è®¿é—®é‡è½½åå¯¹åº”åŒ¿åç±»å‹é‡Œé¢çš„å­—æ®µï¼Œå¯ä»¥é€šè¿‡åŒ¿åå­—æ®µåæ¥è®¿é—®ã€‚è¯·çœ‹ä¸‹é¢çš„ä¾‹å­</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="keyword">type</span> Human <span class="keyword">struct</span> {</span><br><span class="line">    name <span class="type">string</span></span><br><span class="line">    age <span class="type">int</span></span><br><span class="line">    phone <span class="type">string</span>  <span class="comment">// Humanç±»å‹æ‹¥æœ‰çš„å­—æ®µ</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">type</span> Employee <span class="keyword">struct</span> {</span><br><span class="line">    Human  <span class="comment">// åŒ¿åå­—æ®µHuman</span></span><br><span class="line">    speciality <span class="type">string</span></span><br><span class="line">    phone <span class="type">string</span>  <span class="comment">// é›‡å‘˜çš„phoneå­—æ®µ</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    Bob := Employee{Human{<span class="string">"Bob"</span>, <span class="number">34</span>, <span class="string">"777-444-XXXX"</span>}, <span class="string">"Designer"</span>, <span class="string">"333-222"</span>}</span><br><span class="line">    fmt.Println(<span class="string">"Bob's work phone is:"</span>, Bob.phone)</span><br><span class="line">    <span class="comment">// å¦‚æœè¦è®¿é—®Humançš„phoneå­—æ®µ</span></span><br><span class="line">    fmt.Println(<span class="string">"Bob's personal phone is:"</span>, Bob.Human.phone)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h1 id="method"><a href="#method" class="headerlink" title="method"></a>method</h1><p>å‡½æ•°çš„å¦ä¸€ç§å½¢æ€ï¼Œå¸¦æœ‰æ¥æ”¶è€…çš„å‡½æ•°ï¼Œç§°ä¸º<code>method</code></p>
<h2 id="method-1"><a href="#method-1" class="headerlink" title="method"></a>method</h2><p>ç°åœ¨å‡è®¾æœ‰è¿™ä¹ˆä¸€ä¸ªåœºæ™¯ï¼Œå®šä¹‰äº†ä¸€ä¸ªstructå«åšé•¿æ–¹å½¢ï¼Œç°åœ¨æƒ³è¦è®¡ç®—ä»–çš„é¢ç§¯ï¼Œé‚£ä¹ˆæŒ‰ç…§ä¸€èˆ¬çš„æ€è·¯åº”è¯¥ä¼šç”¨ä¸‹é¢çš„æ–¹å¼æ¥å®ç°</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="keyword">type</span> Rectangle <span class="keyword">struct</span> {</span><br><span class="line">    width, height <span class="type">float64</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">area</span><span class="params">(r Rectangle)</span></span> <span class="type">float64</span> {</span><br><span class="line">    <span class="keyword">return</span> r.width*r.height</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    r1 := Rectangle{<span class="number">12</span>, <span class="number">2</span>}</span><br><span class="line">    r2 := Rectangle{<span class="number">9</span>, <span class="number">4</span>}</span><br><span class="line">    fmt.Println(<span class="string">"Area of r1 is: "</span>, area(r1))</span><br><span class="line">    fmt.Println(<span class="string">"Area of r2 is: "</span>, area(r2))</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ®µä»£ç å¯ä»¥è®¡ç®—å‡ºæ¥é•¿æ–¹å½¢çš„é¢ç§¯ï¼Œä½†æ˜¯area()ä¸æ˜¯ä½œä¸ºRectangleçš„æ–¹æ³•å®ç°çš„ï¼ˆç±»ä¼¼é¢å‘å¯¹è±¡é‡Œé¢çš„æ–¹æ³•ï¼‰ï¼Œè€Œæ˜¯å°†Rectangleçš„å¯¹è±¡ï¼ˆå¦‚r1,r2ï¼‰ä½œä¸ºå‚æ•°ä¼ å…¥å‡½æ•°è®¡ç®—é¢ç§¯çš„ã€‚</p>
<p>è¿™æ ·å®ç°å½“ç„¶æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯å½“éœ€è¦å¢åŠ åœ†å½¢ã€æ­£æ–¹å½¢ã€äº”è¾¹å½¢ç”šè‡³å…¶å®ƒå¤šè¾¹å½¢çš„æ—¶å€™ï¼Œæƒ³è®¡ç®—ä»–ä»¬çš„é¢ç§¯çš„æ—¶å€™æ€ä¹ˆåŠï¼Ÿé‚£å°±åªèƒ½å¢åŠ æ–°çš„å‡½æ•°ï¼Œä½†æ˜¯å‡½æ•°åå°±å¿…é¡»è¦è·Ÿç€æ¢äº†ï¼Œå˜æˆ<code>area_rectangle, area_circle, area_triangle...</code></p>
<p> æ¤­åœ†ä»£è¡¨å‡½æ•°, è€Œè¿™äº›å‡½æ•°å¹¶ä¸ä»å±äºstruct(æˆ–è€…ä»¥é¢å‘å¯¹è±¡çš„æœ¯è¯­æ¥è¯´ï¼Œå¹¶ä¸å±äºclass)ï¼Œä»–ä»¬æ˜¯å•ç‹¬å­˜åœ¨äºstructå¤–å›´ï¼Œè€Œéåœ¨æ¦‚å¿µä¸Šå±äºæŸä¸ªstructçš„ã€‚</p>
<p>å¾ˆæ˜¾ç„¶ï¼Œè¿™æ ·çš„å®ç°å¹¶ä¸ä¼˜é›…ï¼Œå¹¶ä¸”ä»æ¦‚å¿µä¸Šæ¥è¯´â€é¢ç§¯â€æ˜¯â€å½¢çŠ¶â€çš„ä¸€ä¸ªå±æ€§ï¼Œå®ƒæ˜¯å±äºè¿™ä¸ªç‰¹å®šçš„å½¢çŠ¶çš„ï¼Œå°±åƒé•¿æ–¹å½¢çš„é•¿å’Œå®½ä¸€æ ·ã€‚</p>
<p>åŸºäºä¸Šé¢çš„åŸå› æ‰€ä»¥å°±æœ‰äº†<code>method</code>çš„æ¦‚å¿µï¼Œ<code>method</code>æ˜¯é™„å±åœ¨ä¸€ä¸ªç»™å®šçš„ç±»å‹ä¸Šçš„ï¼Œä»–çš„è¯­æ³•å’Œå‡½æ•°çš„å£°æ˜è¯­æ³•å‡ ä¹ä¸€æ ·ï¼Œåªæ˜¯åœ¨<code>func</code>åé¢å¢åŠ äº†ä¸€ä¸ªreceiver(ä¹Ÿå°±æ˜¯methodæ‰€ä¾ä»çš„ä¸»ä½“)ã€‚</p>
<p>ç”¨ä¸Šé¢æåˆ°çš„å½¢çŠ¶çš„ä¾‹å­æ¥è¯´ï¼Œmethod <code>area()</code> æ˜¯ä¾èµ–äºæŸä¸ªå½¢çŠ¶(æ¯”å¦‚è¯´Rectangle)æ¥å‘ç”Ÿä½œç”¨çš„ã€‚Rectangle.area()çš„å‘å‡ºè€…æ˜¯Rectangleï¼Œ area()æ˜¯å±äºRectangleçš„æ–¹æ³•ï¼Œè€Œéä¸€ä¸ªå¤–å›´å‡½æ•°ã€‚</p>
<p>æ›´å…·ä½“åœ°è¯´ï¼ŒRectangleå­˜åœ¨å­—æ®µ height å’Œ width, åŒæ—¶å­˜åœ¨æ–¹æ³•area(), è¿™äº›å­—æ®µå’Œæ–¹æ³•éƒ½å±äºRectangleã€‚</p>
<p>ç”¨Rob Pikeçš„è¯æ¥è¯´å°±æ˜¯ï¼š</p>
<p>â€œA method is a function with an implicit first argument, called a receiver.â€</p>
<p>methodçš„è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r ReceiverType)</span></span> funcName(parameters) (results)</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢ç”¨æœ€å¼€å§‹çš„ä¾‹å­ç”¨methodæ¥å®ç°ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"math"</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">type</span> Rectangle <span class="keyword">struct</span> {</span><br><span class="line">    width, height <span class="type">float64</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">type</span> Circle <span class="keyword">struct</span> {</span><br><span class="line">    radius <span class="type">float64</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r Rectangle)</span></span> area() <span class="type">float64</span> {</span><br><span class="line">    <span class="keyword">return</span> r.width*r.height</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c Circle)</span></span> area() <span class="type">float64</span> {</span><br><span class="line">    <span class="keyword">return</span> c.radius * c.radius * math.Pi</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    r1 := Rectangle{<span class="number">12</span>, <span class="number">2</span>}</span><br><span class="line">    r2 := Rectangle{<span class="number">9</span>, <span class="number">4</span>}</span><br><span class="line">    c1 := Circle{<span class="number">10</span>}</span><br><span class="line">    c2 := Circle{<span class="number">25</span>}</span><br><span class="line">    fmt.Println(<span class="string">"Area of r1 is: "</span>, r1.area())</span><br><span class="line">    fmt.Println(<span class="string">"Area of r2 is: "</span>, r2.area())</span><br><span class="line">    fmt.Println(<span class="string">"Area of c1 is: "</span>, c1.area())</span><br><span class="line">    fmt.Println(<span class="string">"Area of c2 is: "</span>, c2.area())</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä½¿ç”¨methodçš„æ—¶å€™é‡è¦æ³¨æ„å‡ ç‚¹</p>
<ul>
<li><p>è™½ç„¶methodçš„åå­—ä¸€æ¨¡ä¸€æ ·ï¼Œä½†æ˜¯å¦‚æœæ¥æ”¶è€…ä¸ä¸€æ ·ï¼Œé‚£ä¹ˆmethodå°±ä¸ä¸€æ ·</p>
</li>
<li><p>methodé‡Œé¢å¯ä»¥è®¿é—®æ¥æ”¶è€…çš„å­—æ®µ</p>
</li>
<li><p>è°ƒç”¨methodé€šè¿‡<code>.</code>è®¿é—®ï¼Œå°±åƒstructé‡Œé¢è®¿é—®å­—æ®µä¸€æ ·</p>
</li>
</ul>
<p>åœ¨ä¸Šä¾‹ï¼Œmethod area() åˆ†åˆ«å±äºRectangleå’ŒCircleï¼Œ äºæ˜¯ä»–ä»¬çš„ Receiver å°±å˜æˆäº†Rectangle å’Œ Circle, æˆ–è€…è¯´ï¼Œè¿™ä¸ªarea()æ–¹æ³• æ˜¯ç”± Rectangle/Circle å‘å‡ºçš„ã€‚</p>
<p>å€¼å¾—è¯´æ˜çš„ä¸€ç‚¹æ˜¯ï¼Œå›¾ç¤ºä¸­methodç”¨è™šçº¿æ ‡å‡ºï¼Œæ„æ€æ˜¯æ­¤å¤„æ–¹æ³•çš„Receiveræ˜¯ä»¥å€¼ä¼ é€’ï¼Œè€Œéå¼•ç”¨ä¼ é€’ï¼Œæ˜¯çš„ï¼ŒReceiverè¿˜å¯ä»¥æ˜¯æŒ‡é’ˆ, ä¸¤è€…çš„å·®åˆ«åœ¨äº, æŒ‡é’ˆä½œä¸ºReceiverä¼šå¯¹å®ä¾‹å¯¹è±¡çš„å†…å®¹å‘ç”Ÿæ“ä½œ,è€Œæ™®é€šç±»å‹ä½œä¸ºReceiverä»…ä»…æ˜¯ä»¥å‰¯æœ¬ä½œä¸ºæ“ä½œå¯¹è±¡,å¹¶ä¸å¯¹åŸå®ä¾‹å¯¹è±¡å‘ç”Ÿæ“ä½œã€‚åæ–‡å¯¹æ­¤ä¼šæœ‰è¯¦ç»†è®ºè¿°ã€‚</p>
<p>é‚£æ˜¯ä¸æ˜¯methodåªèƒ½ä½œç”¨åœ¨structä¸Šé¢å‘¢ï¼Ÿå½“ç„¶ä¸æ˜¯ï¼Œä»–å¯ä»¥å®šä¹‰åœ¨ä»»ä½•è‡ªå®šä¹‰çš„ç±»å‹ã€å†…ç½®ç±»å‹ã€structç­‰å„ç§ç±»å‹ä¸Šé¢ã€‚ä»€ä¹ˆå«è‡ªå®šä¹‰ç±»å‹ï¼Œè‡ªå®šä¹‰ç±»å‹ä¸å°±æ˜¯structï¼Œå…¶å®ä¸æ˜¯è¿™æ ·çš„ï¼Œstructåªæ˜¯è‡ªå®šä¹‰ç±»å‹é‡Œé¢ä¸€ç§æ¯”è¾ƒç‰¹æ®Šçš„ç±»å‹è€Œå·²ï¼Œè¿˜æœ‰å…¶ä»–è‡ªå®šä¹‰ç±»å‹ç”³æ˜ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹è¿™æ ·çš„ç”³æ˜æ¥å®ç°ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type typeName typeLiteral</span><br></pre></td></tr></tbody></table></figure>

<p>è¯·çœ‹ä¸‹é¢è¿™ä¸ªç”³æ˜è‡ªå®šä¹‰ç±»å‹çš„ä»£ç </p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> ages <span class="type">int</span></span><br><span class="line"><span class="keyword">type</span> money <span class="type">float32</span></span><br><span class="line"><span class="keyword">type</span> months <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span></span><br><span class="line">m := months {</span><br><span class="line">    <span class="string">"January"</span>:<span class="number">31</span>,</span><br><span class="line">    <span class="string">"February"</span>:<span class="number">28</span>,</span><br><span class="line">    ...</span><br><span class="line">    <span class="string">"December"</span>:<span class="number">31</span>,</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ ·å°±å¯ä»¥åœ¨è‡ªå·±çš„ä»£ç é‡Œé¢å®šä¹‰æœ‰æ„ä¹‰çš„ç±»å‹äº†ï¼Œå®é™…ä¸Šåªæ˜¯ä¸€ä¸ªå®šä¹‰äº†ä¸€ä¸ªåˆ«å,æœ‰ç‚¹ç±»ä¼¼äºcä¸­çš„typedefï¼Œä¾‹å¦‚ä¸Šé¢agesæ›¿ä»£äº†intï¼Œå›åˆ°<code>method</code> å¯ä»¥åœ¨ä»»ä½•çš„è‡ªå®šä¹‰ç±»å‹ä¸­å®šä¹‰ä»»æ„å¤šçš„<code>method</code>ï¼Œæ¥ä¸‹æ¥è®©çœ‹ä¸€ä¸ªå¤æ‚ä¸€ç‚¹çš„ä¾‹å­</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="keyword">const</span>(</span><br><span class="line">    WHITE = <span class="literal">iota</span></span><br><span class="line">    BLACK</span><br><span class="line">    BLUE</span><br><span class="line">    RED</span><br><span class="line">    YELLOW</span><br><span class="line">)</span><br><span class="line"><span class="keyword">type</span> Color <span class="type">byte</span></span><br><span class="line"><span class="keyword">type</span> Box <span class="keyword">struct</span> {</span><br><span class="line">    width, height, depth <span class="type">float64</span></span><br><span class="line">    color Color</span><br><span class="line">}</span><br><span class="line"><span class="keyword">type</span> BoxList []Box <span class="comment">//a slice of boxes</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b Box)</span></span> Volume() <span class="type">float64</span> {</span><br><span class="line">    <span class="keyword">return</span> b.width * b.height * b.depth</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b *Box)</span></span> SetColor(c Color) {</span><br><span class="line">    b.color = c</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(bl BoxList)</span></span> BiggestColor() Color {</span><br><span class="line">    v := <span class="number">0.00</span></span><br><span class="line">    k := Color(WHITE)</span><br><span class="line">    <span class="keyword">for</span> _, b := <span class="keyword">range</span> bl {</span><br><span class="line">        <span class="keyword">if</span> bv := b.Volume(); bv &gt; v {</span><br><span class="line">            v = bv</span><br><span class="line">            k = b.color</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> k</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(bl BoxList)</span></span> PaintItBlack() {</span><br><span class="line">    <span class="keyword">for</span> i := <span class="keyword">range</span> bl {</span><br><span class="line">        bl[i].SetColor(BLACK)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c Color)</span></span> String() <span class="type">string</span> {</span><br><span class="line">    strings := []<span class="type">string</span> {<span class="string">"WHITE"</span>, <span class="string">"BLACK"</span>, <span class="string">"BLUE"</span>, <span class="string">"RED"</span>, <span class="string">"YELLOW"</span>}</span><br><span class="line">    <span class="keyword">return</span> strings[c]</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    boxes := BoxList {</span><br><span class="line">        Box{<span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>, RED},</span><br><span class="line">        Box{<span class="number">10</span>, <span class="number">10</span>, <span class="number">1</span>, YELLOW},</span><br><span class="line">        Box{<span class="number">1</span>, <span class="number">1</span>, <span class="number">20</span>, BLACK},</span><br><span class="line">        Box{<span class="number">10</span>, <span class="number">10</span>, <span class="number">1</span>, BLUE},</span><br><span class="line">        Box{<span class="number">10</span>, <span class="number">30</span>, <span class="number">1</span>, WHITE},</span><br><span class="line">        Box{<span class="number">20</span>, <span class="number">20</span>, <span class="number">20</span>, YELLOW},</span><br><span class="line">    }</span><br><span class="line">    fmt.Printf(<span class="string">"We have %d boxes in our set\n"</span>, <span class="built_in">len</span>(boxes))</span><br><span class="line">    fmt.Println(<span class="string">"The volume of the first one is"</span>, boxes[<span class="number">0</span>].Volume(), <span class="string">"cmÂ³"</span>)</span><br><span class="line">    fmt.Println(<span class="string">"The color of the last one is"</span>,boxes[<span class="built_in">len</span>(boxes)<span class="number">-1</span>].color.String())</span><br><span class="line">    fmt.Println(<span class="string">"The biggest one is"</span>, boxes.BiggestColor().String())</span><br><span class="line">    fmt.Println(<span class="string">"Let's paint them all black"</span>)</span><br><span class="line">    boxes.PaintItBlack()</span><br><span class="line">    fmt.Println(<span class="string">"The color of the second one is"</span>, boxes[<span class="number">1</span>].color.String())</span><br><span class="line">    fmt.Println(<span class="string">"Obviously, now, the biggest one is"</span>, boxes.BiggestColor().String())</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢çš„ä»£ç é€šè¿‡constå®šä¹‰äº†ä¸€äº›å¸¸é‡ï¼Œç„¶åå®šä¹‰äº†ä¸€äº›è‡ªå®šä¹‰ç±»å‹</p>
<ul>
<li><p>Colorä½œä¸ºbyteçš„åˆ«å</p>
</li>
<li><p>å®šä¹‰äº†ä¸€ä¸ªstruct:Boxï¼Œå«æœ‰ä¸‰ä¸ªé•¿å®½é«˜å­—æ®µå’Œä¸€ä¸ªé¢œè‰²å±æ€§</p>
</li>
<li><p>å®šä¹‰äº†ä¸€ä¸ªslice:BoxListï¼Œå«æœ‰Box</p>
</li>
</ul>
<p>ç„¶åä»¥ä¸Šé¢çš„è‡ªå®šä¹‰ç±»å‹ä¸ºæ¥æ”¶è€…å®šä¹‰äº†ä¸€äº›method</p>
<ul>
<li><p>Volume()å®šä¹‰äº†æ¥æ”¶è€…ä¸ºBoxï¼Œè¿”å›Boxçš„å®¹é‡</p>
</li>
<li><p>SetColor(c Color)ï¼ŒæŠŠBoxçš„é¢œè‰²æ”¹ä¸ºc</p>
</li>
<li><p>BiggestColor()å®šåœ¨åœ¨BoxListä¸Šé¢ï¼Œè¿”å›listé‡Œé¢å®¹é‡æœ€å¤§çš„é¢œè‰²</p>
</li>
<li><p>PaintItBlack()æŠŠBoxListé‡Œé¢æ‰€æœ‰Boxçš„é¢œè‰²å…¨éƒ¨å˜æˆé»‘è‰²</p>
</li>
<li><p>String()å®šä¹‰åœ¨Colorä¸Šé¢ï¼Œè¿”å›Colorçš„å…·ä½“é¢œè‰²(å­—ç¬¦ä¸²æ ¼å¼)</p>
</li>
</ul>
<p>ä¸Šé¢çš„ä»£ç é€šè¿‡æ–‡å­—æè¿°å‡ºæ¥ä¹‹åæ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿä¸€èˆ¬è§£å†³é—®é¢˜éƒ½æ˜¯é€šè¿‡é—®é¢˜çš„æè¿°ï¼Œå»å†™ç›¸åº”çš„ä»£ç å®ç°ã€‚</p>
<h2 id="æŒ‡é’ˆä½œä¸ºreceiver"><a href="#æŒ‡é’ˆä½œä¸ºreceiver" class="headerlink" title="æŒ‡é’ˆä½œä¸ºreceiver"></a>æŒ‡é’ˆä½œä¸ºreceiver</h2><p>ç°åœ¨è®©å›è¿‡å¤´æ¥çœ‹çœ‹SetColorè¿™ä¸ªmethodï¼Œå®ƒçš„receiveræ˜¯ä¸€ä¸ªæŒ‡å‘Boxçš„æŒ‡é’ˆï¼Œå¯ä»¥ä½¿ç”¨*Boxã€‚</p>
<p>å®šä¹‰SetColorçš„çœŸæ­£ç›®çš„æ˜¯æƒ³æ”¹å˜è¿™ä¸ªBoxçš„é¢œè‰²ï¼Œå¦‚æœä¸ä¼ Boxçš„æŒ‡é’ˆï¼Œé‚£ä¹ˆSetColoræ¥å—çš„å…¶å®æ˜¯Boxçš„ä¸€ä¸ªcopyï¼Œä¹Ÿå°±æ˜¯è¯´methodå†…å¯¹äºé¢œè‰²å€¼çš„ä¿®æ”¹ï¼Œå…¶å®åªä½œç”¨äºBoxçš„copyï¼Œè€Œä¸æ˜¯çœŸæ­£çš„Boxã€‚æ‰€ä»¥éœ€è¦ä¼ å…¥æŒ‡é’ˆã€‚</p>
<p>è¿™é‡Œå¯ä»¥æŠŠreceiverå½“ä½œmethodçš„ç¬¬ä¸€ä¸ªå‚æ•°æ¥çœ‹ï¼Œç„¶åç»“åˆå‰é¢å‡½æ•°è®²è§£çš„ä¼ å€¼å’Œä¼ å¼•ç”¨å°±ä¸éš¾ç†è§£</p>
<p>è¿™é‡Œä¹Ÿè®¸ä¼šé—®SetColorå‡½æ•°é‡Œé¢åº”è¯¥è¿™æ ·å®šä¹‰<code>*b.Color=c</code>,è€Œä¸æ˜¯<code>b.Color=c</code>,éœ€è¦è¯»å–åˆ°æŒ‡é’ˆç›¸åº”çš„å€¼ã€‚</p>
<p>å…¶å®Goé‡Œé¢è¿™ä¸¤ç§æ–¹å¼éƒ½æ˜¯æ­£ç¡®çš„ï¼Œå½“ç”¨æŒ‡é’ˆå»è®¿é—®ç›¸åº”çš„å­—æ®µæ—¶(è™½ç„¶æŒ‡é’ˆæ²¡æœ‰ä»»ä½•çš„å­—æ®µ)ï¼ŒGoçŸ¥é“è¦é€šè¿‡æŒ‡é’ˆå»è·å–è¿™ä¸ªå€¼ã€‚PaintItBlacké‡Œé¢è°ƒç”¨SetColorçš„æ—¶å€™æ˜¯ä¸æ˜¯åº”è¯¥å†™æˆ<code>(&amp;bl[i]).SetColor(BLACK)</code>ï¼Œå› ä¸ºSetColorçš„receiveræ˜¯*Boxï¼Œè€Œä¸æ˜¯Boxã€‚è¿™ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥ï¼Œå› ä¸ºGoçŸ¥é“receiveræ˜¯æŒ‡é’ˆï¼Œä»–è‡ªåŠ¨è½¬äº†ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼š</p>
<p>å¦‚æœä¸€ä¸ªmethodçš„receiveræ˜¯*T,å¯ä»¥åœ¨ä¸€ä¸ªTç±»å‹çš„å®ä¾‹å˜é‡Vä¸Šé¢è°ƒç”¨è¿™ä¸ªmethodï¼Œè€Œä¸éœ€è¦&amp;Vå»è°ƒç”¨è¿™ä¸ªmethod</p>
<p>ç±»ä¼¼çš„</p>
<p>å¦‚æœä¸€ä¸ªmethodçš„receiveræ˜¯Tï¼Œå¯ä»¥åœ¨ä¸€ä¸ª*Tç±»å‹çš„å˜é‡Pä¸Šé¢è°ƒç”¨è¿™ä¸ªmethodï¼Œè€Œä¸éœ€è¦ *På»è°ƒç”¨è¿™ä¸ªmethod</p>
<p>æ‰€ä»¥ä¸ç”¨æ‹…å¿ƒæ˜¯è°ƒç”¨çš„æŒ‡é’ˆçš„methodè¿˜æ˜¯ä¸æ˜¯æŒ‡é’ˆçš„methodï¼ŒGoçŸ¥é“è¦åšçš„ä¸€åˆ‡ï¼Œè¿™å¯¹äºæœ‰å¤šå¹´C/C++ç¼–ç¨‹ç»éªŒçš„åŒå­¦æ¥è¯´ï¼ŒçœŸæ˜¯è§£å†³äº†ä¸€ä¸ªå¾ˆå¤§çš„ç—›è‹¦ã€‚</p>
<h2 id="methodç»§æ‰¿"><a href="#methodç»§æ‰¿" class="headerlink" title="methodç»§æ‰¿"></a>methodç»§æ‰¿</h2><p>é€šè¿‡å­—æ®µçš„ç»§æ‰¿çš„å­¦ä¹ ï¼Œå‘ç°Goçš„ä¸€ä¸ªç¥å¥‡ä¹‹å¤„ï¼Œmethodä¹Ÿæ˜¯å¯ä»¥ç»§æ‰¿çš„ã€‚å¦‚æœåŒ¿åå­—æ®µå®ç°äº†ä¸€ä¸ªmethodï¼Œé‚£ä¹ˆåŒ…å«è¿™ä¸ªåŒ¿åå­—æ®µçš„structä¹Ÿèƒ½è°ƒç”¨è¯¥methodã€‚æ¥çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="keyword">type</span> Human <span class="keyword">struct</span> {</span><br><span class="line">    name <span class="type">string</span></span><br><span class="line">    age <span class="type">int</span></span><br><span class="line">    phone <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> {</span><br><span class="line">    Human <span class="comment">//åŒ¿åå­—æ®µ</span></span><br><span class="line">    school <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">type</span> Employee <span class="keyword">struct</span> {</span><br><span class="line">    Human <span class="comment">//åŒ¿åå­—æ®µ</span></span><br><span class="line">    company <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">//åœ¨humanä¸Šé¢å®šä¹‰äº†ä¸€ä¸ªmethod</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h *Human)</span></span> SayHi() {</span><br><span class="line">    fmt.Printf(<span class="string">"Hi, I am %s you can call me on %s\n"</span>, h.name, h.phone)</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    mark := Student{Human{<span class="string">"Mark"</span>, <span class="number">25</span>, <span class="string">"222-222-YYYY"</span>}, <span class="string">"MIT"</span>}</span><br><span class="line">    sam := Employee{Human{<span class="string">"Sam"</span>, <span class="number">45</span>, <span class="string">"111-888-XXXX"</span>}, <span class="string">"Golang Inc"</span>}</span><br><span class="line">    mark.SayHi()</span><br><span class="line">    sam.SayHi()</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="methodé‡å†™"><a href="#methodé‡å†™" class="headerlink" title="methodé‡å†™"></a>methodé‡å†™</h2><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¦‚æœEmployeeæƒ³è¦å®ç°è‡ªå·±çš„SayHi,æ€ä¹ˆåŠï¼Ÿç®€å•ï¼Œå’ŒåŒ¿åå­—æ®µå†²çªä¸€æ ·çš„é“ç†ï¼Œå¯ä»¥åœ¨Employeeä¸Šé¢å®šä¹‰ä¸€ä¸ªmethodï¼Œé‡å†™äº†åŒ¿åå­—æ®µçš„æ–¹æ³•ã€‚è¯·çœ‹ä¸‹é¢çš„ä¾‹å­</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="keyword">type</span> Human <span class="keyword">struct</span> {</span><br><span class="line">    name <span class="type">string</span></span><br><span class="line">    age <span class="type">int</span></span><br><span class="line">    phone <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> {</span><br><span class="line">    Human <span class="comment">//åŒ¿åå­—æ®µ</span></span><br><span class="line">    school <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">type</span> Employee <span class="keyword">struct</span> {</span><br><span class="line">    Human <span class="comment">//åŒ¿åå­—æ®µ</span></span><br><span class="line">    company <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">//Humanå®šä¹‰method</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h *Human)</span></span> SayHi() {</span><br><span class="line">    fmt.Printf(<span class="string">"Hi, I am %s you can call me on %s\n"</span>, h.name, h.phone)</span><br><span class="line">}</span><br><span class="line"><span class="comment">//Employeeçš„methodé‡å†™Humançš„method</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e *Employee)</span></span> SayHi() {</span><br><span class="line">    fmt.Printf(<span class="string">"Hi, I am %s, I work at %s. Call me on %s\n"</span>, e.name,</span><br><span class="line">        e.company, e.phone) <span class="comment">//Yes you can split into 2 lines here.</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    mark := Student{Human{<span class="string">"Mark"</span>, <span class="number">25</span>, <span class="string">"222-222-YYYY"</span>}, <span class="string">"MIT"</span>}</span><br><span class="line">    sam := Employee{Human{<span class="string">"Sam"</span>, <span class="number">45</span>, <span class="string">"111-888-XXXX"</span>}, <span class="string">"Golang Inc"</span>}</span><br><span class="line">    mark.SayHi()</span><br><span class="line">    sam.SayHi()</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡è¿™äº›å†…å®¹ï¼Œå¯ä»¥è®¾è®¡å‡ºåŸºæœ¬çš„é¢å‘å¯¹è±¡çš„ç¨‹åºäº†ï¼Œä½†æ˜¯Goé‡Œé¢çš„é¢å‘å¯¹è±¡æ˜¯å¦‚æ­¤çš„ç®€å•ï¼Œæ²¡æœ‰ä»»ä½•çš„ç§æœ‰ã€å…¬æœ‰å…³é”®å­—ï¼Œé€šè¿‡å¤§å°å†™æ¥å®ç°(å¤§å†™å¼€å¤´çš„ä¸ºå…¬æœ‰ï¼Œå°å†™å¼€å¤´çš„ä¸ºç§æœ‰)ï¼Œæ–¹æ³•ä¹ŸåŒæ ·é€‚ç”¨è¿™ä¸ªåŸåˆ™ã€‚</p>
<h1 id="interface"><a href="#interface" class="headerlink" title="interface"></a>interface</h1><p>Goè¯­è¨€é‡Œé¢è®¾è®¡æœ€ç²¾å¦™çš„åº”è¯¥ç®—<code>interface</code>ï¼Œå®ƒè®©é¢å‘å¯¹è±¡ï¼Œå†…å®¹ç»„ç»‡å®ç°éå¸¸çš„æ–¹ä¾¿</p>
<h2 id="ä»€ä¹ˆæ˜¯interface"><a href="#ä»€ä¹ˆæ˜¯interface" class="headerlink" title="ä»€ä¹ˆæ˜¯interface"></a>ä»€ä¹ˆæ˜¯interface</h2><p>ç®€å•çš„è¯´ï¼Œ<code>interface</code>æ˜¯ä¸€ç»„<code>method</code>ç­¾åçš„ç»„åˆï¼Œé€šè¿‡<code>interface</code>æ¥å®šä¹‰å¯¹è±¡çš„ä¸€ç»„è¡Œä¸ºã€‚</p>
<p>å‰é¢ä¾‹å­ä¸­<code>Student</code>å’Œ<code>Employee</code>éƒ½èƒ½<code>SayHi</code>ï¼Œè™½ç„¶ä»–ä»¬çš„å†…éƒ¨å®ç°ä¸ä¸€æ ·ï¼Œä½†æ˜¯é‚£ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯ä»–ä»¬éƒ½èƒ½<code>say hi</code></p>
<p>ç»§ç»­åšæ›´å¤šçš„æ‰©å±•ï¼Œ<code>Student</code>å’Œ<code>Employee</code>å®ç°å¦ä¸€ä¸ªæ–¹æ³•<code>Sing</code>ï¼Œç„¶å<code>Student</code>å®ç°æ–¹æ³•<code>BorrowMoney</code>è€Œ<code>Employee</code>å®ç°<code>SpendSalary</code>ã€‚</p>
<p>è¿™æ ·<code>Student</code>å®ç°äº†ä¸‰ä¸ªæ–¹æ³•ï¼š<code>SayHi</code>ã€<code>Sing</code>ã€<code>BorrowMoney</code>ï¼›è€Œ<code>Employee</code>å®ç°äº†<code>SayHi</code>ã€<code>Sing</code>ã€<code>SpendSalary</code>ã€‚</p>
<p>ä¸Šé¢è¿™äº›æ–¹æ³•çš„ç»„åˆç§°ä¸º<code>interface</code>(è¢«å¯¹è±¡<code>Student</code>å’Œ<code>Employee</code>å®ç°)ã€‚ä¾‹å¦‚<code>Student</code>å’Œ<code>Employee</code>éƒ½å®ç°äº†<code>interface</code>ï¼š<code>SayHi</code>å’Œ<code>Sing</code>ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸¤ä¸ªå¯¹è±¡æ˜¯è¯¥<code>interface</code>ç±»å‹ã€‚è€Œ<code>Employee</code>æ²¡æœ‰å®ç°è¿™ä¸ª<code>interfaceï¼šSayHiã€Sing</code>å’Œ<code>BorrowMoney</code>ï¼Œå› ä¸º<code>Employee</code>æ²¡æœ‰å®ç°<code>BorrowMoney</code>è¿™ä¸ªæ–¹æ³•ã€‚</p>
<h2 id="interfaceç±»å‹"><a href="#interfaceç±»å‹" class="headerlink" title="interfaceç±»å‹"></a>interfaceç±»å‹</h2><p><code>interface</code>ç±»å‹å®šä¹‰äº†ä¸€ç»„æ–¹æ³•ï¼Œå¦‚æœæŸä¸ªå¯¹è±¡å®ç°äº†æŸä¸ªæ¥å£çš„æ‰€æœ‰æ–¹æ³•ï¼Œåˆ™æ­¤å¯¹è±¡å°±å®ç°äº†æ­¤æ¥å£ã€‚è¯¦ç»†çš„è¯­æ³•å‚è€ƒä¸‹é¢è¿™ä¸ªä¾‹å­</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Human <span class="keyword">struct</span> {</span><br><span class="line">    name <span class="type">string</span></span><br><span class="line">    age <span class="type">int</span></span><br><span class="line">    phone <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> {</span><br><span class="line">    Human <span class="comment">//åŒ¿åå­—æ®µHuman</span></span><br><span class="line">    school <span class="type">string</span></span><br><span class="line">    loan <span class="type">float32</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">type</span> Employee <span class="keyword">struct</span> {</span><br><span class="line">    Human <span class="comment">//åŒ¿åå­—æ®µHuman</span></span><br><span class="line">    company <span class="type">string</span></span><br><span class="line">    money <span class="type">float32</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">//Humanå¯¹è±¡å®ç°Sayhiæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h *Human)</span></span> SayHi() {</span><br><span class="line">    fmt.Printf(<span class="string">"Hi, I am %s you can call me on %s\n"</span>, h.name, h.phone)</span><br><span class="line">}</span><br><span class="line"><span class="comment">// Humanå¯¹è±¡å®ç°Singæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h *Human)</span></span> Sing(lyrics <span class="type">string</span>) {</span><br><span class="line">    fmt.Println(<span class="string">"La la, la la la, la la la la la..."</span>, lyrics)</span><br><span class="line">}</span><br><span class="line"><span class="comment">//Humanå¯¹è±¡å®ç°Guzzleæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h *Human)</span></span> Guzzle(beerStein <span class="type">string</span>) {</span><br><span class="line">    fmt.Println(<span class="string">"Guzzle Guzzle Guzzle..."</span>, beerStein)</span><br><span class="line">}</span><br><span class="line"><span class="comment">// Employeeé‡è½½Humançš„Sayhiæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e *Employee)</span></span> SayHi() {</span><br><span class="line">    fmt.Printf(<span class="string">"Hi, I am %s, I work at %s. Call me on %s\n"</span>, e.name,</span><br><span class="line">        e.company, e.phone) <span class="comment">//æ­¤å¥å¯ä»¥åˆ†æˆå¤šè¡Œ</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">//Studentå®ç°BorrowMoneyæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *Student)</span></span> BorrowMoney(amount <span class="type">float32</span>) {</span><br><span class="line">    s.loan += amount <span class="comment">// (again and again and...)</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">//Employeeå®ç°SpendSalaryæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e *Employee)</span></span> SpendSalary(amount <span class="type">float32</span>) {</span><br><span class="line">    e.money -= amount <span class="comment">// More vodka please!!! Get me through the day!</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">// å®šä¹‰interface</span></span><br><span class="line"><span class="keyword">type</span> Men <span class="keyword">interface</span> {</span><br><span class="line">    SayHi()</span><br><span class="line">    Sing(lyrics <span class="type">string</span>)</span><br><span class="line">    Guzzle(beerStein <span class="type">string</span>)</span><br><span class="line">}</span><br><span class="line"><span class="keyword">type</span> YoungChap <span class="keyword">interface</span> {</span><br><span class="line">    SayHi()</span><br><span class="line">    Sing(song <span class="type">string</span>)</span><br><span class="line">    BorrowMoney(amount <span class="type">float32</span>)</span><br><span class="line">}</span><br><span class="line"><span class="keyword">type</span> ElderlyGent <span class="keyword">interface</span> {</span><br><span class="line">    SayHi()</span><br><span class="line">    Sing(song <span class="type">string</span>)</span><br><span class="line">    SpendSalary(amount <span class="type">float32</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä¸Šé¢çš„ä»£ç å¯ä»¥çŸ¥é“ï¼Œinterfaceå¯ä»¥è¢«ä»»æ„çš„å¯¹è±¡å®ç°ã€‚çœ‹åˆ°ä¸Šé¢çš„Men interfaceè¢«Humanã€Studentå’ŒEmployeeå®ç°ã€‚åŒç†ï¼Œä¸€ä¸ªå¯¹è±¡å¯ä»¥å®ç°ä»»æ„å¤šä¸ªinterfaceï¼Œä¾‹å¦‚ä¸Šé¢çš„Studentå®ç°äº†Menå’ŒYoungChapä¸¤ä¸ªinterfaceã€‚</p>
<p>æœ€åï¼Œä»»æ„çš„ç±»å‹éƒ½å®ç°äº†ç©ºinterface(è¿™æ ·å®šä¹‰ï¼šinterface{})ï¼Œä¹Ÿå°±æ˜¯åŒ…å«0ä¸ªmethodçš„interfaceã€‚</p>
<h2 id="interfaceå€¼"><a href="#interfaceå€¼" class="headerlink" title="interfaceå€¼"></a>interfaceå€¼</h2><p>é‚£ä¹ˆinterfaceé‡Œé¢åˆ°åº•èƒ½å­˜ä»€ä¹ˆå€¼å‘¢ï¼Ÿå¦‚æœå®šä¹‰äº†ä¸€ä¸ªinterfaceçš„å˜é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡é‡Œé¢å¯ä»¥å­˜å®ç°è¿™ä¸ªinterfaceçš„ä»»æ„ç±»å‹çš„å¯¹è±¡ã€‚ä¾‹å¦‚ä¸Šé¢ä¾‹å­ä¸­ï¼Œå®šä¹‰äº†ä¸€ä¸ªMen interfaceç±»å‹çš„å˜é‡mï¼Œé‚£ä¹ˆmé‡Œé¢å¯ä»¥å­˜Humanã€Studentæˆ–è€…Employeeå€¼ã€‚</p>
<p>å› ä¸ºmèƒ½å¤ŸæŒæœ‰è¿™ä¸‰ç§ç±»å‹çš„å¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥å®šä¹‰ä¸€ä¸ªåŒ…å«Menç±»å‹å…ƒç´ çš„sliceï¼Œè¿™ä¸ªsliceå¯ä»¥è¢«èµ‹äºˆå®ç°äº†Menæ¥å£çš„ä»»æ„ç»“æ„çš„å¯¹è±¡ï¼Œè¿™ä¸ªå’Œä¼ ç»Ÿæ„ä¹‰ä¸Šé¢çš„sliceæœ‰æ‰€ä¸åŒã€‚</p>
<p>æ¥çœ‹ä¸€ä¸‹ä¸‹é¢è¿™ä¸ªä¾‹å­:</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="keyword">type</span> Human <span class="keyword">struct</span> {</span><br><span class="line">    name <span class="type">string</span></span><br><span class="line">    age <span class="type">int</span></span><br><span class="line">    phone <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> {</span><br><span class="line">    Human <span class="comment">//åŒ¿åå­—æ®µ</span></span><br><span class="line">    school <span class="type">string</span></span><br><span class="line">    loan <span class="type">float32</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">type</span> Employee <span class="keyword">struct</span> {</span><br><span class="line">    Human <span class="comment">//åŒ¿åå­—æ®µ</span></span><br><span class="line">    company <span class="type">string</span></span><br><span class="line">    money <span class="type">float32</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">//Humanå®ç°SayHiæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h Human)</span></span> SayHi() {</span><br><span class="line">    fmt.Printf(<span class="string">"Hi, I am %s you can call me on %s\n"</span>, h.name, h.phone)</span><br><span class="line">}</span><br><span class="line"><span class="comment">//Humanå®ç°Singæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h Human)</span></span> Sing(lyrics <span class="type">string</span>) {</span><br><span class="line">    fmt.Println(<span class="string">"La la la la..."</span>, lyrics)</span><br><span class="line">}</span><br><span class="line"><span class="comment">//Employeeé‡è½½Humançš„SayHiæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e Employee)</span></span> SayHi() {</span><br><span class="line">    fmt.Printf(<span class="string">"Hi, I am %s, I work at %s. Call me on %s\n"</span>, e.name,</span><br><span class="line">        e.company, e.phone)</span><br><span class="line">    }</span><br><span class="line"><span class="comment">// Interface Menè¢«Human,Studentå’ŒEmployeeå®ç°</span></span><br><span class="line"><span class="comment">// å› ä¸ºè¿™ä¸‰ä¸ªç±»å‹éƒ½å®ç°äº†è¿™ä¸¤ä¸ªæ–¹æ³•</span></span><br><span class="line"><span class="keyword">type</span> Men <span class="keyword">interface</span> {</span><br><span class="line">    SayHi()</span><br><span class="line">    Sing(lyrics <span class="type">string</span>)</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    mike := Student{Human{<span class="string">"Mike"</span>, <span class="number">25</span>, <span class="string">"222-222-XXX"</span>}, <span class="string">"MIT"</span>, <span class="number">0.00</span>}</span><br><span class="line">    paul := Student{Human{<span class="string">"Paul"</span>, <span class="number">26</span>, <span class="string">"111-222-XXX"</span>}, <span class="string">"Harvard"</span>, <span class="number">100</span>}</span><br><span class="line">    sam := Employee{Human{<span class="string">"Sam"</span>, <span class="number">36</span>, <span class="string">"444-222-XXX"</span>}, <span class="string">"Golang Inc."</span>, <span class="number">1000</span>}</span><br><span class="line">    tom := Employee{Human{<span class="string">"Tom"</span>, <span class="number">37</span>, <span class="string">"222-444-XXX"</span>}, <span class="string">"Things Ltd."</span>, <span class="number">5000</span>}</span><br><span class="line">    <span class="comment">//å®šä¹‰Menç±»å‹çš„å˜é‡i</span></span><br><span class="line">    <span class="keyword">var</span> i Men</span><br><span class="line">    <span class="comment">//ièƒ½å­˜å‚¨Student</span></span><br><span class="line">    i = mike</span><br><span class="line">    fmt.Println(<span class="string">"This is Mike, a Student:"</span>)</span><br><span class="line">    i.SayHi()</span><br><span class="line">    i.Sing(<span class="string">"November rain"</span>)</span><br><span class="line">    <span class="comment">//iä¹Ÿèƒ½å­˜å‚¨Employee</span></span><br><span class="line">    i = tom</span><br><span class="line">    fmt.Println(<span class="string">"This is tom, an Employee:"</span>)</span><br><span class="line">    i.SayHi()</span><br><span class="line">    i.Sing(<span class="string">"Born to be wild"</span>)</span><br><span class="line">    <span class="comment">//å®šä¹‰äº†slice Men</span></span><br><span class="line">    fmt.Println(<span class="string">"Let's use a slice of Men and see what happens"</span>)</span><br><span class="line">    x := <span class="built_in">make</span>([]Men, <span class="number">3</span>)</span><br><span class="line">    <span class="comment">//è¿™ä¸‰ä¸ªéƒ½æ˜¯ä¸åŒç±»å‹çš„å…ƒç´ ï¼Œä½†æ˜¯ä»–ä»¬å®ç°äº†interfaceåŒä¸€ä¸ªæ¥å£</span></span><br><span class="line">    x[<span class="number">0</span>], x[<span class="number">1</span>], x[<span class="number">2</span>] = paul, sam, mike</span><br><span class="line">    <span class="keyword">for</span> _, value := <span class="keyword">range</span> x{</span><br><span class="line">        value.SayHi()</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œå‘ç°<code>interface</code>å°±æ˜¯ä¸€ç»„æŠ½è±¡æ–¹æ³•çš„é›†åˆï¼Œå®ƒå¿…é¡»ç”±å…¶ä»–éinterfaceç±»å‹å®ç°ï¼Œè€Œä¸èƒ½è‡ªæˆ‘å®ç°ï¼Œ Goé€šè¿‡interfaceå®ç°äº†<code>duck-typing</code>:å³â€å½“çœ‹åˆ°ä¸€åªé¸Ÿèµ°èµ·æ¥åƒé¸­å­ã€æ¸¸æ³³èµ·æ¥åƒé¸­å­ã€å«èµ·æ¥ä¹Ÿåƒé¸­å­ï¼Œé‚£ä¹ˆè¿™åªé¸Ÿå°±å¯ä»¥è¢«ç§°ä¸ºé¸­å­â€ã€‚</p>
<h2 id="ç©ºinterface"><a href="#ç©ºinterface" class="headerlink" title="ç©ºinterface"></a>ç©ºinterface</h2><p>ç©ºinterface(interface{})ä¸åŒ…å«ä»»ä½•çš„methodï¼Œæ­£å› ä¸ºå¦‚æ­¤ï¼Œæ‰€æœ‰çš„ç±»å‹éƒ½å®ç°äº†ç©ºinterfaceã€‚ç©ºinterfaceå¯¹äºæè¿°èµ·ä¸åˆ°ä»»ä½•çš„ä½œç”¨(å› ä¸ºå®ƒä¸åŒ…å«ä»»ä½•çš„methodï¼‰ï¼Œä½†æ˜¯ç©ºinterfaceéœ€è¦å­˜å‚¨ä»»æ„ç±»å‹çš„æ•°å€¼çš„æ—¶å€™ç›¸å½“æœ‰ç”¨ï¼Œå› ä¸ºå®ƒå¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„æ•°å€¼ã€‚å®ƒæœ‰ç‚¹ç±»ä¼¼äºCè¯­è¨€çš„void*ç±»å‹ã€‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰aä¸ºç©ºæ¥å£</span></span><br><span class="line"><span class="keyword">var</span> a <span class="keyword">interface</span>{}</span><br><span class="line"><span class="keyword">var</span> i <span class="type">int</span> = <span class="number">5</span></span><br><span class="line">s := <span class="string">"Hello world"</span></span><br><span class="line"><span class="comment">// aå¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„æ•°å€¼</span></span><br><span class="line">a = i</span><br><span class="line">a = s</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸€ä¸ªå‡½æ•°æŠŠinterface{}ä½œä¸ºå‚æ•°ï¼Œé‚£ä¹ˆä»–å¯ä»¥æ¥å—ä»»æ„ç±»å‹çš„å€¼ä½œä¸ºå‚æ•°ï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°è¿”å›<code>interface{}</code>,é‚£ä¹ˆä¹Ÿå°±å¯ä»¥è¿”å›ä»»æ„ç±»å‹çš„å€¼ã€‚æ˜¯ä¸æ˜¯å¾ˆæœ‰ç”¨å•Šï¼</p>
<h2 id="interfaceå‡½æ•°å‚æ•°"><a href="#interfaceå‡½æ•°å‚æ•°" class="headerlink" title="interfaceå‡½æ•°å‚æ•°"></a>interfaceå‡½æ•°å‚æ•°</h2><p>interfaceçš„å˜é‡å¯ä»¥æŒæœ‰ä»»æ„å®ç°è¯¥interfaceç±»å‹çš„å¯¹è±¡ï¼Œè¿™ç»™ç¼–å†™å‡½æ•°(åŒ…æ‹¬method)æä¾›äº†ä¸€äº›é¢å¤–çš„æ€è€ƒï¼Œæ˜¯ä¸æ˜¯å¯ä»¥é€šè¿‡å®šä¹‰interfaceå‚æ•°ï¼Œè®©å‡½æ•°æ¥å—å„ç§ç±»å‹çš„å‚æ•°ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼šfmt.Printlnæ˜¯å¸¸ç”¨çš„ä¸€ä¸ªå‡½æ•°ï¼Œæ˜¯å¦æ³¨æ„åˆ°å®ƒå¯ä»¥æ¥å—ä»»æ„ç±»å‹çš„æ•°æ®ã€‚æ‰“å¼€fmtçš„æºç æ–‡ä»¶ï¼Œä¼šçœ‹åˆ°è¿™æ ·ä¸€ä¸ªå®šä¹‰:</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Stringer <span class="keyword">interface</span> {</span><br><span class="line">     String() <span class="type">string</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä»»ä½•å®ç°äº†Stringæ–¹æ³•çš„ç±»å‹éƒ½èƒ½ä½œä¸ºå‚æ•°è¢«<code>fmt.Println</code>è°ƒç”¨,æ¥è¯•ä¸€è¯•</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"strconv"</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">type</span> Human <span class="keyword">struct</span> {</span><br><span class="line">    name <span class="type">string</span></span><br><span class="line">    age <span class="type">int</span></span><br><span class="line">    phone <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">// é€šè¿‡è¿™ä¸ªæ–¹æ³• Human å®ç°äº† fmt.Stringer</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h Human)</span></span> String() <span class="type">string</span> {</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"â°"</span>+h.name+<span class="string">" - "</span>+strconv.Itoa(h.age)+<span class="string">" years -  âœ† "</span> +h.phone+<span class="string">"â±"</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    Bob := Human{<span class="string">"Bob"</span>, <span class="number">39</span>, <span class="string">"000-7777-XXX"</span>}</span><br><span class="line">    fmt.Println(<span class="string">"This Human is : "</span>, Bob)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<p>ç°åœ¨å†å›é¡¾ä¸€ä¸‹å‰é¢çš„Boxç¤ºä¾‹ï¼Œå‘ç°Colorç»“æ„ä¹Ÿå®šä¹‰äº†ä¸€ä¸ª<code>methodï¼šString</code>ã€‚å…¶å®è¿™ä¹Ÿæ˜¯å®ç°äº†<code>fmt.Stringer</code>è¿™ä¸ª<code>interface</code>ï¼Œå³å¦‚æœéœ€è¦æŸä¸ªç±»å‹èƒ½è¢«fmtåŒ…ä»¥ç‰¹æ®Šçš„æ ¼å¼è¾“å‡ºï¼Œå°±å¿…é¡»å®ç°<code>Stringer</code>è¿™ä¸ªæ¥å£ã€‚å¦‚æœæ²¡æœ‰å®ç°è¿™ä¸ªæ¥å£ï¼Œfmtå°†ä»¥é»˜è®¤çš„æ–¹å¼è¾“å‡ºã€‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®ç°åŒæ ·çš„åŠŸèƒ½</span></span><br><span class="line">fmt.Println(<span class="string">"The biggest one is"</span>, boxes.BiggestsColor().String())</span><br><span class="line">fmt.Println(<span class="string">"The biggest one is"</span>, boxes.BiggestsColor())</span><br></pre></td></tr></tbody></table></figure>

<p>æ³¨ï¼šå®ç°äº†<code>error</code>æ¥å£çš„å¯¹è±¡ï¼ˆå³å®ç°äº†Error() stringçš„å¯¹è±¡ï¼‰ï¼Œä½¿ç”¨fmtè¾“å‡ºæ—¶ï¼Œä¼šè°ƒç”¨Error()æ–¹æ³•ï¼Œå› æ­¤ä¸å¿…å†å®šä¹‰String()æ–¹æ³•äº†ã€‚</p>
<h2 id="interfaceå˜é‡å­˜å‚¨çš„ç±»å‹"><a href="#interfaceå˜é‡å­˜å‚¨çš„ç±»å‹" class="headerlink" title="interfaceå˜é‡å­˜å‚¨çš„ç±»å‹"></a>interfaceå˜é‡å­˜å‚¨çš„ç±»å‹</h2><p>interfaceçš„å˜é‡é‡Œé¢å¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„æ•°å€¼(è¯¥ç±»å‹å®ç°äº†interface)ã€‚é‚£ä¹ˆæ€ä¹ˆåå‘çŸ¥é“è¿™ä¸ªå˜é‡é‡Œé¢å®é™…ä¿å­˜äº†çš„æ˜¯å“ªä¸ªç±»å‹çš„å¯¹è±¡å‘¢ï¼Ÿç›®å‰å¸¸ç”¨çš„æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p>
<ul>
<li>Comma-okæ–­è¨€</li>
</ul>
<p>Goè¯­è¨€é‡Œé¢æœ‰ä¸€ä¸ªè¯­æ³•ï¼Œå¯ä»¥ç›´æ¥åˆ¤æ–­æ˜¯å¦æ˜¯è¯¥ç±»å‹çš„å˜é‡ï¼š value, ok = element.(T)ï¼Œè¿™é‡Œvalueå°±æ˜¯å˜é‡çš„å€¼ï¼Œokæ˜¯ä¸€ä¸ªboolç±»å‹ï¼Œelementæ˜¯interfaceå˜é‡ï¼ŒTæ˜¯æ–­è¨€çš„ç±»å‹ã€‚</p>
<p>å¦‚æœelementé‡Œé¢ç¡®å®å­˜å‚¨äº†Tç±»å‹çš„æ•°å€¼ï¼Œé‚£ä¹ˆokè¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚</p>
<p>é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥æ›´åŠ æ·±å…¥çš„ç†è§£ã€‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"strconv"</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">type</span> Element <span class="keyword">interface</span>{}</span><br><span class="line"><span class="keyword">type</span> List [] Element</span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> {</span><br><span class="line">    name <span class="type">string</span></span><br><span class="line">    age <span class="type">int</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">//å®šä¹‰äº†Stringæ–¹æ³•ï¼Œå®ç°äº†fmt.Stringer</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Person)</span></span> String() <span class="type">string</span> {</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"(name: "</span> + p.name + <span class="string">" - age: "</span>+strconv.Itoa(p.age)+ <span class="string">" years)"</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    list := <span class="built_in">make</span>(List, <span class="number">3</span>)</span><br><span class="line">    list[<span class="number">0</span>] = <span class="number">1</span> <span class="comment">// an int</span></span><br><span class="line">    list[<span class="number">1</span>] = <span class="string">"Hello"</span> <span class="comment">// a string</span></span><br><span class="line">    list[<span class="number">2</span>] = Person{<span class="string">"Dennis"</span>, <span class="number">70</span>}</span><br><span class="line">    <span class="keyword">for</span> index, element := <span class="keyword">range</span> list {</span><br><span class="line">        <span class="keyword">if</span> value, ok := element.(<span class="type">int</span>); ok {</span><br><span class="line">            fmt.Printf(<span class="string">"list[%d] is an int and its value is %d\n"</span>, index, value)</span><br><span class="line">        } <span class="keyword">else</span> <span class="keyword">if</span> value, ok := element.(<span class="type">string</span>); ok {</span><br><span class="line">            fmt.Printf(<span class="string">"list[%d] is a string and its value is %s\n"</span>, index, value)</span><br><span class="line">        } <span class="keyword">else</span> <span class="keyword">if</span> value, ok := element.(Person); ok {</span><br><span class="line">            fmt.Printf(<span class="string">"list[%d] is a Person and its value is %s\n"</span>, index, value)</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            fmt.Printf(<span class="string">"list[%d] is of a different type\n"</span>, index)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æ˜¯å¦æ³¨æ„åˆ°äº†å¤šä¸ªifé‡Œé¢ï¼Œifé‡Œé¢å…è®¸åˆå§‹åŒ–å˜é‡ã€‚æ–­è¨€çš„ç±»å‹è¶Šå¤šï¼Œé‚£ä¹ˆif elseä¹Ÿå°±è¶Šå¤šï¼Œæ‰€ä»¥æ‰å¼•å‡ºäº†ä¸‹é¢è¦ä»‹ç»çš„switchã€‚</p>
<ul>
<li>switchæµ‹è¯•</li>
</ul>
<p>é‡å†™ä¸Šé¢çš„è¿™ä¸ªå®ç°</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"strconv"</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">type</span> Element <span class="keyword">interface</span>{}</span><br><span class="line"><span class="keyword">type</span> List [] Element</span><br><span class="line"><span class="keyword">type</span> Person <span class="keyword">struct</span> {</span><br><span class="line">    name <span class="type">string</span></span><br><span class="line">    age <span class="type">int</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">//æ‰“å°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p Person)</span></span> String() <span class="type">string</span> {</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"(name: "</span> + p.name + <span class="string">" - age: "</span>+strconv.Itoa(p.age)+ <span class="string">" years)"</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    list := <span class="built_in">make</span>(List, <span class="number">3</span>)</span><br><span class="line">    list[<span class="number">0</span>] = <span class="number">1</span> <span class="comment">//an int</span></span><br><span class="line">    list[<span class="number">1</span>] = <span class="string">"Hello"</span> <span class="comment">//a string</span></span><br><span class="line">    list[<span class="number">2</span>] = Person{<span class="string">"Dennis"</span>, <span class="number">70</span>}</span><br><span class="line">    <span class="keyword">for</span> index, element := <span class="keyword">range</span> list{</span><br><span class="line">        <span class="keyword">switch</span> value := element.(<span class="keyword">type</span>) {</span><br><span class="line">            <span class="keyword">case</span> <span class="type">int</span>:</span><br><span class="line">            fmt.Printf(<span class="string">"list[%d] is an int and its value is %d\n"</span>, index, value)</span><br><span class="line">            <span class="keyword">case</span> <span class="type">string</span>:</span><br><span class="line">            fmt.Printf(<span class="string">"list[%d] is a string and its value is %s\n"</span>, index, value)</span><br><span class="line">            <span class="keyword">case</span> Person:</span><br><span class="line">            fmt.Printf(<span class="string">"list[%d] is a Person and its value is %s\n"</span>, index, value)</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">            fmt.Println(<span class="string">"list[%d] is of a different type"</span>, index)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™é‡Œæœ‰ä¸€ç‚¹éœ€è¦å¼ºè°ƒçš„æ˜¯ï¼š<code>element.(type)</code>è¯­æ³•ä¸èƒ½åœ¨switchå¤–çš„ä»»ä½•é€»è¾‘é‡Œé¢ä½¿ç”¨ï¼Œå¦‚æœè¦åœ¨switchå¤–é¢åˆ¤æ–­ä¸€ä¸ªç±»å‹å°±ä½¿ç”¨<code>comma-ok</code>ã€‚</p>
<h2 id="åµŒå…¥interface"><a href="#åµŒå…¥interface" class="headerlink" title="åµŒå…¥interface"></a>åµŒå…¥interface</h2><p>Goé‡Œé¢çœŸæ­£å¸å¼•äººçš„æ˜¯å®ƒå†…ç½®çš„é€»è¾‘è¯­æ³•ï¼Œå°±åƒåœ¨å­¦ä¹ Structæ—¶å­¦ä¹ çš„åŒ¿åå­—æ®µï¼Œé‚£ä¹ˆç›¸åŒçš„é€»è¾‘å¼•å…¥åˆ°interfaceé‡Œé¢ï¼Œæ›´åŠ å®Œç¾äº†ã€‚å¦‚æœä¸€ä¸ªinterface1ä½œä¸ºinterface2çš„ä¸€ä¸ªåµŒå…¥å­—æ®µï¼Œé‚£ä¹ˆinterface2éšå¼çš„åŒ…å«äº†interface1é‡Œé¢çš„methodã€‚</p>
<p>å¯ä»¥çœ‹åˆ°æºç åŒ…<code>container/heap</code>é‡Œé¢æœ‰è¿™æ ·çš„ä¸€ä¸ªå®šä¹‰</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Interface <span class="keyword">interface</span> {</span><br><span class="line">    sort.Interface <span class="comment">//åµŒå…¥å­—æ®µsort.Interface</span></span><br><span class="line">    Push(x <span class="keyword">interface</span>{}) <span class="comment">//a Push method to push elements into the heap</span></span><br><span class="line">    Pop() <span class="keyword">interface</span>{} <span class="comment">//a Pop elements that pops elements from the heap</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>çœ‹åˆ°<code>sort.Interface</code>å…¶å®å°±æ˜¯åµŒå…¥å­—æ®µï¼ŒæŠŠ<code>sort.Interface</code>çš„æ‰€æœ‰<code>method</code>ç»™éšå¼çš„åŒ…å«è¿›æ¥äº†ã€‚ä¹Ÿå°±æ˜¯ä¸‹é¢ä¸‰ä¸ªæ–¹æ³•ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Interface <span class="keyword">interface</span> {</span><br><span class="line">    <span class="comment">// Len is the number of elements in the collection.</span></span><br><span class="line">    Len() <span class="type">int</span></span><br><span class="line">    <span class="comment">// Less returns whether the element with index i should sort</span></span><br><span class="line">    <span class="comment">// before the element with index j.</span></span><br><span class="line">    Less(i, j <span class="type">int</span>) <span class="type">bool</span></span><br><span class="line">    <span class="comment">// Swap swaps the elements with indexes i and j.</span></span><br><span class="line">    Swap(i, j <span class="type">int</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å¦ä¸€ä¸ªä¾‹å­å°±æ˜¯ioåŒ…ä¸‹é¢çš„ <code>io.ReadWriter</code> ï¼Œå®ƒåŒ…å«äº†ioåŒ…ä¸‹é¢çš„<code>Reader</code>å’Œ<code>Writer</code>ä¸¤ä¸ª<code>interface</code>ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// io.ReadWriter</span></span><br><span class="line"><span class="keyword">type</span> ReadWriter <span class="keyword">interface</span> {</span><br><span class="line">    Reader</span><br><span class="line">    Writer</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h1 id="åå°„"><a href="#åå°„" class="headerlink" title="åå°„"></a>åå°„</h1><p>Goè¯­è¨€å®ç°äº†åå°„ï¼Œæ‰€è°“åå°„å°±æ˜¯èƒ½æ£€æŸ¥ç¨‹åºåœ¨è¿è¡Œæ—¶çš„çŠ¶æ€ã€‚ä¸€èˆ¬ç”¨åˆ°çš„åŒ…æ˜¯<code>reflect</code>åŒ…ã€‚å¦‚ä½•è¿ç”¨<code>reflect</code>åŒ…ï¼Œå®˜æ–¹çš„è¿™ç¯‡æ–‡ç« è¯¦ç»†çš„è®²è§£äº†<code>reflect</code>åŒ…çš„å®ç°åŸç†ï¼Œ<code>laws of reflection</code> é“¾æ¥åœ°å€ä¸º <a target="_blank" rel="external nofollow noopener noreferrer" href="/go.html?url=aHR0cDovL2dvbGFuZy5vcmcvZG9jL2FydGljbGVzL2xhd3Nfb2ZfcmVmbGVjdGlvbi5odG1s">http://golang.org/doc/articles/laws_of_reflection.html</a></p>
<p>ä½¿ç”¨reflectä¸€èˆ¬åˆ†æˆä¸‰æ­¥ï¼Œä¸‹é¢ç®€è¦çš„è®²è§£ä¸€ä¸‹ï¼šè¦å»åå°„æ˜¯ä¸€ä¸ªç±»å‹çš„å€¼(è¿™äº›å€¼éƒ½å®ç°äº†<code>ç©ºinterface</code>)ï¼Œé¦–å…ˆéœ€è¦æŠŠå®ƒè½¬åŒ–æˆ<code>reflect</code>å¯¹è±¡(<code>reflect.Type</code>æˆ–è€…<code>reflect.Value</code>ï¼Œæ ¹æ®ä¸åŒçš„æƒ…å†µè°ƒç”¨ä¸åŒçš„å‡½æ•°)ã€‚è¿™ä¸¤ç§è·å–æ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t := reflect.TypeOf(i)    <span class="comment">//å¾—åˆ°ç±»å‹çš„å…ƒæ•°æ®,é€šè¿‡tèƒ½è·å–ç±»å‹å®šä¹‰é‡Œé¢çš„æ‰€æœ‰å…ƒç´ </span></span><br><span class="line">v := reflect.ValueOf(i)   <span class="comment">//å¾—åˆ°å®é™…çš„å€¼ï¼Œé€šè¿‡vè·å–å­˜å‚¨åœ¨é‡Œé¢çš„å€¼ï¼Œè¿˜å¯ä»¥å»æ”¹å˜å€¼</span></span><br></pre></td></tr></tbody></table></figure>

<p>è½¬åŒ–ä¸ºreflectå¯¹è±¡ä¹‹åå°±å¯ä»¥è¿›è¡Œä¸€äº›æ“ä½œäº†ï¼Œä¹Ÿå°±æ˜¯å°†reflectå¯¹è±¡è½¬åŒ–æˆç›¸åº”çš„å€¼ï¼Œä¾‹å¦‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tag := t.Elem().Field(<span class="number">0</span>).Tag  <span class="comment">//è·å–å®šä¹‰åœ¨structé‡Œé¢çš„æ ‡ç­¾</span></span><br><span class="line">name := v.Elem().Field(<span class="number">0</span>).String()  <span class="comment">//è·å–å­˜å‚¨åœ¨ç¬¬ä¸€ä¸ªå­—æ®µé‡Œé¢çš„å€¼</span></span><br></pre></td></tr></tbody></table></figure>

<p>è·å–åå°„å€¼èƒ½è¿”å›ç›¸åº”çš„ç±»å‹å’Œæ•°å€¼</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x <span class="type">float64</span> = <span class="number">3.4</span></span><br><span class="line">v := reflect.ValueOf(x)</span><br><span class="line">fmt.Println(<span class="string">"type:"</span>, v.Type())</span><br><span class="line">fmt.Println(<span class="string">"kind is float64:"</span>, v.Kind() == reflect.Float64)</span><br><span class="line">fmt.Println(<span class="string">"value:"</span>, v.Float())</span><br></pre></td></tr></tbody></table></figure>

<p>æœ€åï¼Œåå°„çš„è¯ï¼Œé‚£ä¹ˆåå°„çš„å­—æ®µå¿…é¡»æ˜¯å¯ä¿®æ”¹çš„ï¼Œå‰é¢å­¦ä¹ è¿‡ä¼ å€¼å’Œä¼ å¼•ç”¨ï¼Œè¿™ä¸ªé‡Œé¢ä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†ã€‚åå°„çš„å­—æ®µå¿…é¡»æ˜¯å¯è¯»å†™çš„æ„æ€æ˜¯ï¼Œå¦‚æœä¸‹é¢è¿™æ ·å†™ï¼Œé‚£ä¹ˆä¼šå‘ç”Ÿé”™è¯¯</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x <span class="type">float64</span> = <span class="number">3.4</span></span><br><span class="line">v := reflect.ValueOf(x)</span><br><span class="line">v.SetFloat(<span class="number">7.1</span>)</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœè¦ä¿®æ”¹ç›¸åº”çš„å€¼ï¼Œå¿…é¡»è¿™æ ·å†™</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x <span class="type">float64</span> = <span class="number">3.4</span></span><br><span class="line">p := reflect.ValueOf(&amp;x)</span><br><span class="line">v := p.Elem()</span><br><span class="line">v.SetFloat(<span class="number">7.1</span>)</span><br></pre></td></tr></tbody></table></figure>


<h1 id="å¹¶å‘"><a href="#å¹¶å‘" class="headerlink" title="å¹¶å‘"></a>å¹¶å‘</h1><p>Goä»è¯­è¨€å±‚é¢æ”¯æŒäº†å¹¶è¡Œã€‚</p>
<h2 id="goroutine"><a href="#goroutine" class="headerlink" title="goroutine"></a>goroutine</h2><p><code>goroutine</code>æ˜¯<code>Go</code>å¹¶è¡Œè®¾è®¡çš„æ ¸å¿ƒã€‚<code>goroutine</code>è¯´åˆ°åº•å…¶å®å°±æ˜¯åç¨‹ï¼Œä½†æ˜¯å®ƒæ¯”çº¿ç¨‹æ›´å°ï¼Œåå‡ ä¸ª<code>goroutine</code>å¯èƒ½ä½“ç°åœ¨åº•å±‚å°±æ˜¯äº”å…­ä¸ªçº¿ç¨‹ï¼ŒGoè¯­è¨€å†…éƒ¨å®ç°äº†è¿™äº›<code>goroutine</code>ä¹‹é—´çš„å†…å­˜å…±äº«ã€‚æ‰§è¡Œ<code>goroutine</code>åªéœ€æå°‘çš„æ ˆå†…å­˜(å¤§æ¦‚æ˜¯4~5KB)ï¼Œå½“ç„¶ä¼šæ ¹æ®ç›¸åº”çš„æ•°æ®ä¼¸ç¼©ã€‚ä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼Œå¯åŒæ—¶è¿è¡Œæˆåƒä¸Šä¸‡ä¸ªå¹¶å‘ä»»åŠ¡ã€‚<code>goroutine</code>æ¯”<code>thread</code>æ›´æ˜“ç”¨ã€æ›´é«˜æ•ˆã€æ›´è½»ä¾¿ã€‚</p>
<p><code>goroutine</code>æ˜¯é€šè¿‡Goçš„<code>runtime</code>ç®¡ç†çš„ä¸€ä¸ªçº¿ç¨‹ç®¡ç†å™¨ã€‚<code>goroutine</code>é€šè¿‡<code>go</code>å…³é”®å­—å®ç°äº†ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ã€‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">go</span> hello(a, b, c)</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡å…³é”®å­—goå°±å¯åŠ¨äº†ä¸€ä¸ª<code>goroutine</code>ã€‚æ¥çœ‹ä¸€ä¸ªä¾‹å­</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"runtime"</span></span><br><span class="line">)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">say</span><span class="params">(s <span class="type">string</span>)</span></span> {</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ {</span><br><span class="line">        runtime.Gosched()</span><br><span class="line">        fmt.Println(s)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">go</span> say(<span class="string">"world"</span>) <span class="comment">//å¼€ä¸€ä¸ªæ–°çš„Goroutinesæ‰§è¡Œ</span></span><br><span class="line">    say(<span class="string">"hello"</span>) <span class="comment">//å½“å‰Goroutinesæ‰§è¡Œ</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">// ä»¥ä¸Šç¨‹åºæ‰§è¡Œåå°†è¾“å‡ºï¼š</span></span><br><span class="line"><span class="comment">// hello</span></span><br><span class="line"><span class="comment">// world</span></span><br><span class="line"><span class="comment">// hello</span></span><br><span class="line"><span class="comment">// world</span></span><br><span class="line"><span class="comment">// hello</span></span><br><span class="line"><span class="comment">// world</span></span><br><span class="line"><span class="comment">// hello</span></span><br><span class="line"><span class="comment">// world</span></span><br><span class="line"><span class="comment">// hello</span></span><br></pre></td></tr></tbody></table></figure>

<p>å¯ä»¥çœ‹åˆ°goå…³é”®å­—å¾ˆæ–¹ä¾¿çš„å°±å®ç°äº†å¹¶å‘ç¼–ç¨‹ã€‚</p>
<p>ä¸Šé¢çš„å¤šä¸ª<code>goroutine</code>è¿è¡Œåœ¨åŒä¸€ä¸ªè¿›ç¨‹é‡Œé¢ï¼Œå…±äº«å†…å­˜æ•°æ®ï¼Œä¸è¿‡è®¾è®¡ä¸Šè¦éµå¾ªï¼šä¸è¦é€šè¿‡å…±äº«æ¥é€šä¿¡ï¼Œè€Œè¦é€šè¿‡é€šä¿¡æ¥å…±äº«ã€‚</p>
<p><code>runtime.Gosched()</code>è¡¨ç¤ºè®©CPUæŠŠæ—¶é—´ç‰‡è®©ç»™åˆ«äºº,ä¸‹æ¬¡æŸä¸ªæ—¶å€™ç»§ç»­æ¢å¤æ‰§è¡Œè¯¥<code>goroutine</code>ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨Go 1.5å°†æ ‡è¯†å¹¶å‘ç³»ç»Ÿçº¿ç¨‹ä¸ªæ•°çš„<code>runtime.GOMAXPROCS</code>çš„åˆå§‹å€¼ç”±1æ”¹ä¸ºäº†<code>è¿è¡Œç¯å¢ƒçš„CPUæ ¸æ•°</code>ã€‚</p>
<p>ä½†åœ¨Go 1.5ä»¥å‰è°ƒåº¦å™¨ä»…ä½¿ç”¨å•çº¿ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´åªå®ç°äº†å¹¶å‘ã€‚æƒ³è¦å‘æŒ¥å¤šæ ¸å¤„ç†å™¨çš„å¹¶è¡Œï¼Œéœ€è¦ç¨‹åºä¸­æ˜¾å¼è°ƒç”¨ <code>runtime.GOMAXPROCS(n)</code> å‘Šè¯‰è°ƒåº¦å™¨åŒæ—¶ä½¿ç”¨å¤šä¸ªçº¿ç¨‹ã€‚<code>GOMAXPROCS</code> è®¾ç½®äº†åŒæ—¶è¿è¡Œé€»è¾‘ä»£ç çš„ç³»ç»Ÿçº¿ç¨‹çš„æœ€å¤§æ•°é‡ï¼Œå¹¶è¿”å›ä¹‹å‰çš„è®¾ç½®ã€‚å¦‚æœ<code>n &lt; 1</code>ï¼Œä¸ä¼šæ”¹å˜å½“å‰è®¾ç½®ã€‚</p>
<h2 id="sync-WaitGroup"><a href="#sync-WaitGroup" class="headerlink" title="sync.WaitGroup"></a>sync.WaitGroup</h2><p>Goè¯­è¨€ä¸­å¯ä»¥ä½¿ç”¨sync.WaitGroupæ¥å®ç°å¹¶å‘ä»»åŠ¡çš„åŒæ­¥ã€‚ sync.WaitGroupæœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•ï¼š</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•å</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody><tr>
<td>(wg * WaitGroup) Add(delta int)</td>
<td>è®¡æ•°å™¨+delta</td>
</tr>
<tr>
<td>(wg *WaitGroup) Done()</td>
<td>è®¡æ•°å™¨-1</td>
</tr>
<tr>
<td>(wg *WaitGroup) Wait()</td>
<td>é˜»å¡ç›´åˆ°è®¡æ•°å™¨å˜ä¸º0</td>
</tr>
</tbody></table>
<p><code>sync.WaitGroup</code>å†…éƒ¨ç»´æŠ¤ç€ä¸€ä¸ªè®¡æ•°å™¨ï¼Œè®¡æ•°å™¨çš„å€¼å¯ä»¥å¢åŠ å’Œå‡å°‘ã€‚ä¾‹å¦‚å½“æˆ‘ä»¬å¯åŠ¨äº†N ä¸ªå¹¶å‘ä»»åŠ¡æ—¶ï¼Œå°±å°†è®¡æ•°å™¨å€¼å¢åŠ Nã€‚æ¯ä¸ªä»»åŠ¡å®Œæˆæ—¶é€šè¿‡è°ƒç”¨Done()æ–¹æ³•å°†è®¡æ•°å™¨å‡1ã€‚é€šè¿‡è°ƒç”¨Wait()æ¥ç­‰å¾…å¹¶å‘ä»»åŠ¡æ‰§è¡Œå®Œï¼Œå½“è®¡æ•°å™¨å€¼ä¸º0æ—¶ï¼Œè¡¨ç¤ºæ‰€æœ‰å¹¶å‘ä»»åŠ¡å·²ç»å®Œæˆã€‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"sync"</span></span><br><span class="line">    <span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> wg sync.WaitGroup</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">foo</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">defer</span> wg.Done()</span><br><span class="line">    fmt.Println(<span class="string">"foo"</span>)</span><br><span class="line">    time.Sleep(time.Second)</span><br><span class="line">    fmt.Println(<span class="string">"foo end"</span>)</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">bar</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">defer</span> wg.Done()</span><br><span class="line">    fmt.Println(<span class="string">"bar"</span>)</span><br><span class="line">    time.Sleep(time.Second*<span class="number">2</span>)</span><br><span class="line">    fmt.Println(<span class="string">"bar end"</span>)</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line"></span><br><span class="line">    start:=time.Now()</span><br><span class="line">    wg.Add(<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">go</span> foo()</span><br><span class="line">    <span class="keyword">go</span> bar()</span><br><span class="line">    wg.Wait()</span><br><span class="line">    fmt.Println(<span class="string">"ç¨‹åºç»“æŸï¼Œè¿è¡Œæ—¶é—´ä¸º"</span>,time.Now().Sub(start))</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="channels"><a href="#channels" class="headerlink" title="channels"></a>channels</h2><p><code>goroutine</code>è¿è¡Œåœ¨ç›¸åŒçš„åœ°å€ç©ºé—´ï¼Œå› æ­¤è®¿é—®å…±äº«å†…å­˜å¿…é¡»åšå¥½åŒæ­¥ã€‚é‚£ä¹ˆ<code>goroutine</code>ä¹‹é—´å¦‚ä½•è¿›è¡Œæ•°æ®çš„é€šä¿¡å‘¢ï¼ŒGoæä¾›äº†ä¸€ä¸ªå¾ˆå¥½çš„é€šä¿¡æœºåˆ¶<code>channel</code>ã€‚<code>channel</code>å¯ä»¥ä¸<code>Unix shell</code> ä¸­çš„åŒå‘ç®¡é“åšç±»æ¯”ï¼šå¯ä»¥é€šè¿‡å®ƒå‘é€æˆ–è€…æ¥æ”¶å€¼ã€‚è¿™äº›å€¼åªèƒ½æ˜¯ç‰¹å®šçš„ç±»å‹ï¼š<code>channelç±»å‹</code>ã€‚å®šä¹‰ä¸€ä¸ª<code>channel</code>æ—¶ï¼Œä¹Ÿéœ€è¦å®šä¹‰å‘é€åˆ°<code>channel</code>çš„å€¼çš„ç±»å‹ã€‚æ³¨æ„ï¼Œå¿…é¡»ä½¿ç”¨<code>make</code> åˆ›å»º<code>channel</code>ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ci := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line">cs := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>)</span><br><span class="line">cf := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">interface</span>{})</span><br></pre></td></tr></tbody></table></figure>

<p><code>channel</code>é€šè¿‡æ“ä½œç¬¦<code>&lt;-</code>æ¥æ¥æ”¶å’Œå‘é€æ•°æ®</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ch &lt;- v    <span class="comment">// å‘é€våˆ°channel ch.</span></span><br><span class="line">v := &lt;-ch  <span class="comment">// ä»chä¸­æ¥æ”¶æ•°æ®ï¼Œå¹¶èµ‹å€¼ç»™v</span></span><br></pre></td></tr></tbody></table></figure>

<p>æŠŠè¿™äº›åº”ç”¨åˆ°ä¾‹å­ä¸­æ¥ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(a []<span class="type">int</span>, c <span class="keyword">chan</span> <span class="type">int</span>)</span></span> {</span><br><span class="line">    total := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> a {</span><br><span class="line">        total += v</span><br><span class="line">    }</span><br><span class="line">    c &lt;- total  <span class="comment">// send total to c</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    a := []<span class="type">int</span>{<span class="number">7</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">-9</span>, <span class="number">4</span>, <span class="number">0</span>}</span><br><span class="line">    c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line">    <span class="keyword">go</span> sum(a[:<span class="built_in">len</span>(a)/<span class="number">2</span>], c)</span><br><span class="line">    <span class="keyword">go</span> sum(a[<span class="built_in">len</span>(a)/<span class="number">2</span>:], c)</span><br><span class="line">    x, y := &lt;-c, &lt;-c  <span class="comment">// receive from c</span></span><br><span class="line">    fmt.Println(x, y, x + y)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>channel</code>æ¥æ”¶å’Œå‘é€æ•°æ®éƒ½æ˜¯é˜»å¡çš„ï¼Œé™¤éå¦ä¸€ç«¯å·²ç»å‡†å¤‡å¥½ï¼Œè¿™æ ·å°±ä½¿å¾—<code>Goroutines</code>åŒæ­¥å˜çš„æ›´åŠ çš„ç®€å•ï¼Œè€Œä¸éœ€è¦æ˜¾å¼çš„<code>lock</code>ã€‚æ‰€è°“é˜»å¡ï¼Œä¹Ÿå°±æ˜¯å¦‚æœè¯»å–ï¼ˆ<code>value := &lt;-ch</code>ï¼‰å®ƒå°†ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°æœ‰æ•°æ®æ¥æ”¶ã€‚å…¶æ¬¡ï¼Œä»»ä½•å‘é€ï¼ˆ<code>ch&lt;-5</code>ï¼‰å°†ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°æ•°æ®è¢«è¯»å‡ºã€‚æ— ç¼“å†²<code>channel</code>æ˜¯åœ¨å¤šä¸ª<code>goroutine</code>ä¹‹é—´åŒæ­¥å¾ˆæ£’çš„å·¥å…·ã€‚</p>
<h2 id="Buffered-Channels"><a href="#Buffered-Channels" class="headerlink" title="Buffered Channels"></a>Buffered Channels</h2><p>ä¸Šé¢ä»‹ç»äº†é»˜è®¤çš„éç¼“å­˜ç±»å‹çš„channelï¼Œä¸è¿‡Goä¹Ÿå…è®¸æŒ‡å®šchannelçš„ç¼“å†²å¤§å°ï¼Œå¾ˆç®€å•ï¼Œå°±æ˜¯channelå¯ä»¥å­˜å‚¨å¤šå°‘å…ƒç´ ã€‚<code>ch:= make(chan bool</code>, 4)ï¼Œåˆ›å»ºäº†å¯ä»¥å­˜å‚¨4ä¸ªå…ƒç´ çš„bool å‹channelã€‚åœ¨è¿™ä¸ªchannel ä¸­ï¼Œå‰4ä¸ªå…ƒç´ å¯ä»¥æ— é˜»å¡çš„å†™å…¥ã€‚å½“å†™å…¥ç¬¬5ä¸ªå…ƒç´ æ—¶ï¼Œä»£ç å°†ä¼šé˜»å¡ï¼Œç›´åˆ°å…¶ä»–goroutineä»channel ä¸­è¯»å–ä¸€äº›å…ƒç´ ï¼Œè…¾å‡ºç©ºé—´ã€‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ch := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">type</span>, value)</span><br></pre></td></tr></tbody></table></figure>

<p>å½“ <code>value = 0</code> æ—¶ï¼Œchannel æ˜¯æ— ç¼“å†²é˜»å¡è¯»å†™çš„ï¼Œå½“<code>value &gt; 0</code> æ—¶ï¼Œchannel æœ‰ç¼“å†²ã€æ˜¯éé˜»å¡çš„ï¼Œç›´åˆ°å†™æ»¡ value ä¸ªå…ƒç´ æ‰é˜»å¡å†™å…¥ã€‚</p>
<p>çœ‹ä¸€ä¸‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œå¯ä»¥åœ¨è‡ªå·±æœ¬æœºæµ‹è¯•ä¸€ä¸‹ï¼Œä¿®æ”¹ç›¸åº”çš„valueå€¼</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>, <span class="number">2</span>)<span class="comment">//ä¿®æ”¹2ä¸º1å°±æŠ¥é”™ï¼Œä¿®æ”¹2ä¸º3å¯ä»¥æ­£å¸¸è¿è¡Œ</span></span><br><span class="line">    c &lt;- <span class="number">1</span></span><br><span class="line">    c &lt;- <span class="number">2</span></span><br><span class="line">    fmt.Println(&lt;-c)</span><br><span class="line">    fmt.Println(&lt;-c)</span><br><span class="line">}</span><br><span class="line"><span class="comment">//ä¿®æ”¹ä¸º1æŠ¥å¦‚ä¸‹çš„é”™è¯¯:</span></span><br><span class="line"><span class="comment">//fatal error: all goroutines are asleep - deadlock!</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="Rangeå’ŒClose"><a href="#Rangeå’ŒClose" class="headerlink" title="Rangeå’ŒClose"></a>Rangeå’ŒClose</h2><p>ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œéœ€è¦è¯»å–ä¸¤æ¬¡cï¼Œè¿™æ ·ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼ŒGoè€ƒè™‘åˆ°äº†è¿™ä¸€ç‚¹ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥é€šè¿‡rangeï¼Œåƒæ“ä½œsliceæˆ–è€…mapä¸€æ ·æ“ä½œç¼“å­˜ç±»å‹çš„channelï¼Œè¯·çœ‹ä¸‹é¢çš„ä¾‹å­</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fibonacci</span><span class="params">(n <span class="type">int</span>, c <span class="keyword">chan</span> <span class="type">int</span>)</span></span> {</span><br><span class="line">    x, y := <span class="number">1</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ {</span><br><span class="line">        c &lt;- x</span><br><span class="line">        x, y = y, x + y</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">close</span>(c)</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>, <span class="number">10</span>)</span><br><span class="line">    <span class="keyword">go</span> fibonacci(<span class="built_in">cap</span>(c), c)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="keyword">range</span> c {</span><br><span class="line">        fmt.Println(i)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><code>for i := range c</code>èƒ½å¤Ÿä¸æ–­çš„è¯»å–<code>channel</code>é‡Œé¢çš„æ•°æ®ï¼Œç›´åˆ°è¯¥<code>channel</code>è¢«æ˜¾å¼çš„å…³é—­ã€‚ä¸Šé¢ä»£ç çœ‹åˆ°å¯ä»¥æ˜¾å¼çš„å…³é—­<code>channel</code>ï¼Œç”Ÿäº§è€…é€šè¿‡å†…ç½®å‡½æ•°<code>close</code>å…³é—­<code>channel</code>ã€‚å…³é—­<code>channel</code>ä¹‹åå°±æ— æ³•å†å‘é€ä»»ä½•æ•°æ®äº†ï¼Œåœ¨æ¶ˆè´¹æ–¹å¯ä»¥é€šè¿‡è¯­æ³•<code>v, ok := &lt;-ch</code>æµ‹è¯•<code>channel</code>æ˜¯å¦è¢«å…³é—­ã€‚å¦‚æœokè¿”å›falseï¼Œé‚£ä¹ˆè¯´æ˜<code>channel</code>å·²ç»æ²¡æœ‰ä»»ä½•æ•°æ®å¹¶ä¸”å·²ç»è¢«å…³é—­ã€‚</p>
<p>è®°ä½åº”è¯¥åœ¨ç”Ÿäº§è€…çš„åœ°æ–¹å…³é—­<code>channel</code>ï¼Œè€Œä¸æ˜¯æ¶ˆè´¹çš„åœ°æ–¹å»å…³é—­å®ƒï¼Œè¿™æ ·å®¹æ˜“å¼•èµ·<code>panic</code></p>
<p>å¦å¤–è®°ä½ä¸€ç‚¹çš„å°±æ˜¯<code>channel</code>ä¸åƒæ–‡ä»¶ä¹‹ç±»çš„ï¼Œä¸éœ€è¦ç»å¸¸å»å…³é—­ï¼Œåªæœ‰ç¡®å®æ²¡æœ‰ä»»ä½•å‘é€æ•°æ®äº†ï¼Œæˆ–è€…æƒ³æ˜¾å¼çš„ç»“æŸ<code>range</code>å¾ªç¯ä¹‹ç±»çš„</p>
<h2 id="Select"><a href="#Select" class="headerlink" title="Select"></a>Select</h2><p>ä¸Šé¢ä»‹ç»çš„éƒ½æ˜¯åªæœ‰ä¸€ä¸ª<code>channel</code>çš„æƒ…å†µï¼Œé‚£ä¹ˆå¦‚æœå­˜åœ¨å¤šä¸ª<code>channel</code>çš„æ—¶å€™ï¼Œè¯¥å¦‚ä½•æ“ä½œå‘¢ï¼ŒGoé‡Œé¢æä¾›äº†ä¸€ä¸ªå…³é”®å­—<code>select</code>ï¼Œé€šè¿‡<code>select</code>å¯ä»¥ç›‘å¬<code>channel</code>ä¸Šçš„æ•°æ®æµåŠ¨ã€‚</p>
<p><code>select</code>é»˜è®¤æ˜¯é˜»å¡çš„ï¼Œåªæœ‰å½“ç›‘å¬çš„<code>channel</code>ä¸­æœ‰å‘é€æˆ–æ¥æ”¶å¯ä»¥è¿›è¡Œæ—¶æ‰ä¼šè¿è¡Œï¼Œå½“å¤šä¸ª<code>channel</code>éƒ½å‡†å¤‡å¥½çš„æ—¶å€™ï¼Œ<code>select</code>æ˜¯éšæœºçš„é€‰æ‹©ä¸€ä¸ªæ‰§è¡Œçš„ã€‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fibonacci</span><span class="params">(c, quit <span class="keyword">chan</span> <span class="type">int</span>)</span></span> {</span><br><span class="line">    x, y := <span class="number">1</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> {</span><br><span class="line">        <span class="keyword">select</span> {</span><br><span class="line">        <span class="keyword">case</span> c &lt;- x:</span><br><span class="line">            x, y = y, x + y</span><br><span class="line">        <span class="keyword">case</span> &lt;-quit:</span><br><span class="line">            fmt.Println(<span class="string">"quit"</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line">    quit := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> {</span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ {</span><br><span class="line">            fmt.Println(&lt;-c)</span><br><span class="line">        }</span><br><span class="line">        quit &lt;- <span class="number">0</span></span><br><span class="line">    }()</span><br><span class="line">    fibonacci(c, quit)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨<code>select</code>é‡Œé¢è¿˜æœ‰<code>default</code>è¯­æ³•ï¼Œ<code>select</code>å…¶å®å°±æ˜¯ç±»ä¼¼<code>switch</code>çš„åŠŸèƒ½ï¼Œ<code>default</code>å°±æ˜¯å½“ç›‘å¬çš„<code>channel</code>éƒ½æ²¡æœ‰å‡†å¤‡å¥½çš„æ—¶å€™ï¼Œé»˜è®¤æ‰§è¡Œçš„ï¼ˆ<code>select</code>ä¸å†é˜»å¡ç­‰å¾…<code>channel</code>ï¼‰ã€‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> {</span><br><span class="line"><span class="keyword">case</span> i := &lt;-c:</span><br><span class="line">    <span class="comment">// use i</span></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="comment">// å½“cé˜»å¡çš„æ—¶å€™æ‰§è¡Œè¿™é‡Œ</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="è¶…æ—¶"><a href="#è¶…æ—¶" class="headerlink" title="è¶…æ—¶"></a>è¶…æ—¶</h2><p>æœ‰æ—¶å€™ä¼šå‡ºç°<code>goroutine</code>é˜»å¡çš„æƒ…å†µï¼Œé‚£ä¹ˆå¦‚ä½•é¿å…æ•´ä¸ªç¨‹åºè¿›å…¥é˜»å¡çš„æƒ…å†µå‘¢ï¼Ÿå¯ä»¥åˆ©ç”¨<code>select</code>æ¥è®¾ç½®è¶…æ—¶ï¼Œé€šè¿‡å¦‚ä¸‹çš„æ–¹å¼å®ç°ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line">    o := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">bool</span>)</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> {</span><br><span class="line">        <span class="keyword">for</span> {</span><br><span class="line">            <span class="keyword">select</span> {</span><br><span class="line">                <span class="keyword">case</span> v := &lt;- c:</span><br><span class="line">                    <span class="built_in">println</span>(v)</span><br><span class="line">                <span class="keyword">case</span> &lt;- time.After(<span class="number">5</span> * time.Second):</span><br><span class="line">                    <span class="built_in">println</span>(<span class="string">"timeout"</span>)</span><br><span class="line">                    o &lt;- <span class="literal">true</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }()</span><br><span class="line">    &lt;- o</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="runtime-goroutine"><a href="#runtime-goroutine" class="headerlink" title="runtime goroutine"></a>runtime goroutine</h2><p><code>runtime</code>åŒ…ä¸­æœ‰å‡ ä¸ªå¤„ç†<code>goroutine</code>çš„å‡½æ•°ï¼š</p>
<ul>
<li><p><code>Goexit</code> : é€€å‡ºå½“å‰æ‰§è¡Œçš„goroutineï¼Œä½†æ˜¯deferå‡½æ•°è¿˜ä¼šç»§ç»­è°ƒç”¨</p>
</li>
<li><p><code>Gosched</code>: è®©å‡ºå½“å‰goroutineçš„æ‰§è¡Œæƒé™ï¼Œè°ƒåº¦å™¨å®‰æ’å…¶ä»–ç­‰å¾…çš„ä»»åŠ¡è¿è¡Œï¼Œå¹¶åœ¨ä¸‹æ¬¡æŸä¸ªæ—¶å€™ä»è¯¥ä½ç½®æ¢å¤æ‰§è¡Œã€‚</p>
</li>
<li><p><code>NumCPU</code> : è¿”å› CPU æ ¸æ•°é‡</p>
</li>
<li><p><code>NumGoroutine</code>: è¿”å›æ­£åœ¨æ‰§è¡Œå’Œæ’é˜Ÿçš„ä»»åŠ¡æ€»æ•°</p>
</li>
<li><p><code>GOMAXPROCS</code> : ç”¨æ¥è®¾ç½®å¯ä»¥å¹¶è¡Œè®¡ç®—çš„CPUæ ¸æ•°çš„æœ€å¤§å€¼ï¼Œå¹¶è¿”å›ä¹‹å‰çš„å€¼ã€‚</p>
</li>
</ul>
<h1 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h1><p>Goè¯­è¨€ä¸»è¦çš„è®¾è®¡å‡†åˆ™æ˜¯ï¼šç®€æ´ã€æ˜ç™½ï¼Œç®€æ´æ˜¯æŒ‡è¯­æ³•å’ŒCç±»ä¼¼ï¼Œç›¸å½“çš„ç®€å•ï¼Œæ˜ç™½æ˜¯æŒ‡ä»»ä½•è¯­å¥éƒ½æ˜¯å¾ˆæ˜æ˜¾çš„ï¼Œä¸å«æœ‰ä»»ä½•éšå«çš„ä¸œè¥¿ï¼Œåœ¨é”™è¯¯å¤„ç†æ–¹æ¡ˆçš„è®¾è®¡ä¸­ä¹Ÿè´¯å½»äº†è¿™ä¸€æ€æƒ³ã€‚</p>
<p>åœ¨Cè¯­è¨€é‡Œé¢æ˜¯é€šè¿‡è¿”å›<code>-1</code>æˆ–è€…<code>NULL</code>ä¹‹ç±»çš„ä¿¡æ¯æ¥è¡¨ç¤ºé”™è¯¯ï¼Œä½†æ˜¯å¯¹äºä½¿ç”¨è€…æ¥è¯´ï¼Œä¸æŸ¥çœ‹ç›¸åº”çš„APIè¯´æ˜æ–‡æ¡£ï¼Œæ ¹æœ¬æä¸æ¸…æ¥šè¿™ä¸ªè¿”å›å€¼ç©¶ç«Ÿä»£è¡¨ä»€ä¹ˆæ„æ€ï¼Œæ¯”å¦‚:è¿”å›0æ˜¯æˆåŠŸï¼Œè¿˜æ˜¯å¤±è´¥,è€Œ<code>Go</code>å®šä¹‰äº†ä¸€ä¸ªå«åš<code>error</code>çš„ç±»å‹ï¼Œæ¥æ˜¾å¼è¡¨è¾¾é”™è¯¯ã€‚åœ¨ä½¿ç”¨æ—¶ï¼Œé€šè¿‡æŠŠè¿”å›çš„<code>error</code>å˜é‡ä¸<code>nil</code>çš„æ¯”è¾ƒï¼Œæ¥åˆ¤å®šæ“ä½œæ˜¯å¦æˆåŠŸã€‚ä¾‹å¦‚<code>os.Open</code>å‡½æ•°åœ¨æ‰“å¼€æ–‡ä»¶å¤±è´¥æ—¶å°†è¿”å›ä¸€ä¸ªä¸ä¸º<code>nil</code>çš„<code>error</code>å˜é‡</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Open</span><span class="params">(name <span class="type">string</span>)</span></span> (file *File, err <span class="type">error</span>)</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢è¿™ä¸ªä¾‹å­é€šè¿‡è°ƒç”¨<code>os.Open</code>æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œå¦‚æœå‡ºç°é”™è¯¯ï¼Œé‚£ä¹ˆå°±ä¼šè°ƒç”¨<code>log.Fatal</code>æ¥è¾“å‡ºé”™è¯¯ä¿¡æ¯ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f, err := os.Open(<span class="string">"filename.ext"</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">    log.Fatal(err)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ç±»ä¼¼äº<code>os.Open</code>å‡½æ•°ï¼Œæ ‡å‡†åŒ…ä¸­æ‰€æœ‰å¯èƒ½å‡ºé”™çš„APIéƒ½ä¼šè¿”å›ä¸€ä¸ª<code>error</code>å˜é‡ï¼Œä»¥æ–¹ä¾¿é”™è¯¯å¤„ç†ï¼Œè¿™ä¸ªå°èŠ‚å°†è¯¦ç»†åœ°ä»‹ç»<code>error</code>ç±»å‹çš„è®¾è®¡ï¼Œå’Œè®¨è®ºå¼€å‘Webåº”ç”¨ä¸­å¦‚ä½•æ›´å¥½åœ°å¤„ç†<code>error</code>ã€‚</p>
<h2 id="Errorç±»å‹"><a href="#Errorç±»å‹" class="headerlink" title="Errorç±»å‹"></a>Errorç±»å‹</h2><p>errorç±»å‹æ˜¯ä¸€ä¸ªæ¥å£ç±»å‹ï¼Œè¿™æ˜¯å®ƒçš„å®šä¹‰ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">error</span> <span class="keyword">interface</span> {</span><br><span class="line">    Error() <span class="type">string</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>erroræ˜¯ä¸€ä¸ªå†…ç½®çš„æ¥å£ç±»å‹ï¼Œå¯ä»¥åœ¨<code>/builtin/</code>åŒ…ä¸‹é¢æ‰¾åˆ°ç›¸åº”çš„å®šä¹‰ã€‚è€Œåœ¨å¾ˆå¤šå†…éƒ¨åŒ…é‡Œé¢ç”¨åˆ°çš„ <code>error</code>æ˜¯<code>errors</code>åŒ…ä¸‹é¢çš„å®ç°çš„ç§æœ‰ç»“æ„<code>errorString</code></p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// errorString is a trivial implementation of error.</span></span><br><span class="line"><span class="keyword">type</span> errorString <span class="keyword">struct</span> {</span><br><span class="line">    s <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e *errorString)</span></span> Error() <span class="type">string</span> {</span><br><span class="line">    <span class="keyword">return</span> e.s</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å¯ä»¥é€šè¿‡<code>errors.New</code>æŠŠä¸€ä¸ªå­—ç¬¦ä¸²è½¬åŒ–ä¸º<code>errorString</code>ï¼Œä»¥å¾—åˆ°ä¸€ä¸ªæ»¡è¶³æ¥å£<code>error</code>çš„å¯¹è±¡ï¼Œå…¶å†…éƒ¨å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// New returns an error that formats as the given text.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">New</span><span class="params">(text <span class="type">string</span>)</span></span> <span class="type">error</span> {</span><br><span class="line">    <span class="keyword">return</span> &amp;errorString{text}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢è¿™ä¸ªä¾‹å­æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨<code>errors.New</code>:</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Sqrt</span><span class="params">(f <span class="type">float64</span>)</span></span> (<span class="type">float64</span>, <span class="type">error</span>) {</span><br><span class="line">    <span class="keyword">if</span> f &lt; <span class="number">0</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>, errors.New(<span class="string">"math: square root of negative number"</span>)</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// implementation</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œåœ¨è°ƒç”¨Sqrtçš„æ—¶å€™ä¼ é€’çš„ä¸€ä¸ªè´Ÿæ•°ï¼Œç„¶åå°±å¾—åˆ°äº†<code>non-nil</code>çš„<code>error</code>å¯¹è±¡ï¼Œå°†æ­¤å¯¹è±¡ä¸<code>nil</code>æ¯”è¾ƒï¼Œç»“æœä¸º<code>true</code>ï¼Œæ‰€ä»¥<code>fmt.Println</code>(fmtåŒ…åœ¨å¤„ç†erroræ—¶ä¼šè°ƒç”¨Erroræ–¹æ³•)è¢«è°ƒç”¨ï¼Œä»¥è¾“å‡ºé”™è¯¯ï¼Œè¯·çœ‹ä¸‹é¢è°ƒç”¨çš„ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f, err := Sqrt(<span class="number">-1</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">    fmt.Println(err)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="è‡ªå®šä¹‰Error"><a href="#è‡ªå®šä¹‰Error" class="headerlink" title="è‡ªå®šä¹‰Error"></a>è‡ªå®šä¹‰Error</h2><p><code>error</code>æ˜¯ä¸€ä¸ª<code>interface</code>ï¼Œæ‰€ä»¥åœ¨å®ç°è‡ªå·±çš„åŒ…çš„æ—¶å€™ï¼Œé€šè¿‡å®šä¹‰å®ç°æ­¤æ¥å£çš„ç»“æ„ï¼Œå°±å¯ä»¥å®ç°è‡ªå·±çš„é”™è¯¯å®šä¹‰ï¼Œè¯·çœ‹æ¥è‡ªJsonåŒ…çš„ç¤ºä¾‹ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> SyntaxError <span class="keyword">struct</span> {</span><br><span class="line">    msg    <span class="type">string</span> <span class="comment">// é”™è¯¯æè¿°</span></span><br><span class="line">    Offset <span class="type">int64</span>  <span class="comment">// é”™è¯¯å‘ç”Ÿçš„ä½ç½®</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e *SyntaxError)</span></span> Error() <span class="type">string</span> { <span class="keyword">return</span> e.msg }</span><br></pre></td></tr></tbody></table></figure>

<p><code>Offset</code>å­—æ®µåœ¨è°ƒç”¨<code>Error</code>çš„æ—¶å€™ä¸ä¼šè¢«æ‰“å°ï¼Œä½†å¯ä»¥é€šè¿‡ç±»å‹æ–­è¨€è·å–é”™è¯¯ç±»å‹ï¼Œç„¶åå¯ä»¥æ‰“å°ç›¸åº”çš„é”™è¯¯ä¿¡æ¯ï¼Œè¯·çœ‹ä¸‹é¢çš„ä¾‹å­:</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> err := dec.Decode(&amp;val); err != <span class="literal">nil</span> {</span><br><span class="line">    <span class="keyword">if</span> serr, ok := err.(*json.SyntaxError); ok {</span><br><span class="line">        line, col := findLine(f, serr.Offset)</span><br><span class="line">        <span class="keyword">return</span> fmt.Errorf(<span class="string">"%s:%d:%d: %v"</span>, f.Name(), line, col, err)</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> err</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå‡½æ•°è¿”å›è‡ªå®šä¹‰é”™è¯¯æ—¶ï¼Œè¿”å›å€¼æ¨èè®¾ç½®ä¸º<code>error</code>ç±»å‹ï¼Œè€Œéè‡ªå®šä¹‰é”™è¯¯ç±»å‹ï¼Œç‰¹åˆ«éœ€è¦æ³¨æ„çš„æ˜¯ä¸åº”é¢„å£°æ˜è‡ªå®šä¹‰é”™è¯¯ç±»å‹çš„å˜é‡ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Decode</span><span class="params">()</span></span> *SyntaxError { <span class="comment">// é”™è¯¯ï¼Œå°†å¯èƒ½å¯¼è‡´ä¸Šå±‚è°ƒç”¨è€…err!=nilçš„åˆ¤æ–­æ°¸è¿œä¸ºtrueã€‚</span></span><br><span class="line">    <span class="keyword">var</span> err *SyntaxError     <span class="comment">// é¢„å£°æ˜é”™è¯¯å˜é‡</span></span><br><span class="line">    <span class="keyword">if</span> å‡ºé”™æ¡ä»¶ {</span><br><span class="line">        err = &amp;SyntaxError{}</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> err               <span class="comment">// é”™è¯¯ï¼Œerræ°¸è¿œç­‰äºénilï¼Œå¯¼è‡´ä¸Šå±‚è°ƒç”¨è€…err!=nilçš„åˆ¤æ–­å§‹ç»ˆä¸ºtrue</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>åŸå› è§ <code>http://golang.org/doc/faq#nil_error</code> (éœ€ç§‘å­¦ä¸Šç½‘)</p>
<p>ä¸Šé¢ä¾‹å­ç®€å•çš„æ¼”ç¤ºäº†å¦‚ä½•è‡ªå®šä¹‰Errorç±»å‹ã€‚ä½†æ˜¯å¦‚æœè¿˜éœ€è¦æ›´å¤æ‚çš„é”™è¯¯å¤„ç†å‘¢ï¼Ÿæ­¤æ—¶ï¼Œæ¥å‚è€ƒä¸€ä¸‹netåŒ…é‡‡ç”¨çš„æ–¹æ³•ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> net</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Error <span class="keyword">interface</span> {</span><br><span class="line">    <span class="type">error</span></span><br><span class="line">    Timeout() <span class="type">bool</span>   <span class="comment">// Is the error a timeout?</span></span><br><span class="line">    Temporary() <span class="type">bool</span> <span class="comment">// Is the error temporary?</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨è°ƒç”¨çš„åœ°æ–¹ï¼Œé€šè¿‡ç±»å‹æ–­è¨€<code>err</code>æ˜¯ä¸æ˜¯<code>net.Error</code>,æ¥ç»†åŒ–é”™è¯¯çš„å¤„ç†ï¼Œä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­ï¼Œå¦‚æœä¸€ä¸ªç½‘ç»œå‘ç”Ÿä¸´æ—¶æ€§é”™è¯¯ï¼Œé‚£ä¹ˆå°†ä¼šsleep 1ç§’ä¹‹åé‡è¯•ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> nerr, ok := err.(net.Error); ok &amp;&amp; nerr.Temporary() {</span><br><span class="line">    time.Sleep(<span class="number">1e9</span>)</span><br><span class="line">    <span class="keyword">continue</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">    log.Fatal(err)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="é”™è¯¯å¤„ç†-1"><a href="#é”™è¯¯å¤„ç†-1" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h2><p>Goåœ¨é”™è¯¯å¤„ç†ä¸Šé‡‡ç”¨äº†ä¸Cç±»ä¼¼çš„æ£€æŸ¥è¿”å›å€¼çš„æ–¹å¼ï¼Œè€Œä¸æ˜¯å…¶ä»–å¤šæ•°ä¸»æµè¯­è¨€é‡‡ç”¨çš„å¼‚å¸¸æ–¹å¼ï¼Œè¿™é€ æˆäº†ä»£ç ç¼–å†™ä¸Šçš„ä¸€ä¸ªå¾ˆå¤§çš„ç¼ºç‚¹:é”™è¯¯å¤„ç†ä»£ç çš„å†—ä½™ï¼Œå¯¹äºè¿™ç§æƒ…å†µæ˜¯é€šè¿‡å¤ç”¨æ£€æµ‹å‡½æ•°æ¥å‡å°‘ç±»ä¼¼çš„ä»£ç ã€‚</p>
<p>è¯·çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ä»£ç ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">init</span><span class="params">()</span></span> {</span><br><span class="line">    http.HandleFunc(<span class="string">"/view"</span>, viewRecord)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">viewRecord</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> {</span><br><span class="line">    c := appengine.NewContext(r)</span><br><span class="line">    key := datastore.NewKey(c, <span class="string">"Record"</span>, r.FormValue(<span class="string">"id"</span>), <span class="number">0</span>, <span class="literal">nil</span>)</span><br><span class="line">    record := <span class="built_in">new</span>(Record)</span><br><span class="line">    <span class="keyword">if</span> err := datastore.Get(c, key, record); err != <span class="literal">nil</span> {</span><br><span class="line">        http.Error(w, err.Error(), <span class="number">500</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> err := viewTemplate.Execute(w, record); err != <span class="literal">nil</span> {</span><br><span class="line">        http.Error(w, err.Error(), <span class="number">500</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢çš„ä¾‹å­ä¸­è·å–æ•°æ®å’Œæ¨¡æ¿å±•ç¤ºè°ƒç”¨æ—¶éƒ½æœ‰æ£€æµ‹é”™è¯¯ï¼Œå½“æœ‰é”™è¯¯å‘ç”Ÿæ—¶ï¼Œè°ƒç”¨äº†ç»Ÿä¸€çš„å¤„ç†å‡½æ•°<code>http.Error</code>ï¼Œè¿”å›ç»™å®¢æˆ·ç«¯500é”™è¯¯ç ï¼Œå¹¶æ˜¾ç¤ºç›¸åº”çš„é”™è¯¯æ•°æ®ã€‚ä½†æ˜¯å½“è¶Šæ¥è¶Šå¤šçš„<code>HandleFunc</code>åŠ å…¥ä¹‹åï¼Œè¿™æ ·çš„é”™è¯¯å¤„ç†é€»è¾‘ä»£ç å°±ä¼šè¶Šæ¥è¶Šå¤šï¼Œå…¶å®å¯ä»¥é€šè¿‡è‡ªå®šä¹‰è·¯ç”±å™¨æ¥ç¼©å‡ä»£ç </p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> appHandler <span class="function"><span class="keyword">func</span><span class="params">(http.ResponseWriter, *http.Request)</span></span> <span class="type">error</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(fn appHandler)</span></span> ServeHTTP(w http.ResponseWriter, r *http.Request) {</span><br><span class="line">    <span class="keyword">if</span> err := fn(w, r); err != <span class="literal">nil</span> {</span><br><span class="line">        http.Error(w, err.Error(), <span class="number">500</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢å®šä¹‰äº†è‡ªå®šä¹‰çš„è·¯ç”±å™¨ï¼Œç„¶åå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼æ¥æ³¨å†Œå‡½æ•°ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">init</span><span class="params">()</span></span> {</span><br><span class="line">    http.Handle(<span class="string">"/view"</span>, appHandler(viewRecord))</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å½“è¯·æ±‚<code>/view</code>çš„æ—¶å€™é€»è¾‘å¤„ç†å¯ä»¥å˜æˆå¦‚ä¸‹ä»£ç ï¼Œå’Œç¬¬ä¸€ç§å®ç°æ–¹å¼ç›¸æ¯”è¾ƒå·²ç»ç®€å•äº†å¾ˆå¤šã€‚</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">viewRecord</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> <span class="type">error</span> {</span><br><span class="line">    c := appengine.NewContext(r)</span><br><span class="line">    key := datastore.NewKey(c, <span class="string">"Record"</span>, r.FormValue(<span class="string">"id"</span>), <span class="number">0</span>, <span class="literal">nil</span>)</span><br><span class="line">    record := <span class="built_in">new</span>(Record)</span><br><span class="line">    <span class="keyword">if</span> err := datastore.Get(c, key, record); err != <span class="literal">nil</span> {</span><br><span class="line">        <span class="keyword">return</span> err</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> viewTemplate.Execute(w, record)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢çš„ä¾‹å­é”™è¯¯å¤„ç†çš„æ—¶å€™æ‰€æœ‰çš„é”™è¯¯è¿”å›ç»™ç”¨æˆ·çš„éƒ½æ˜¯500é”™è¯¯ç ï¼Œç„¶åæ‰“å°å‡ºæ¥ç›¸åº”çš„é”™è¯¯ä»£ç ï¼Œå…¶å®å¯ä»¥æŠŠè¿™ä¸ªé”™è¯¯ä¿¡æ¯å®šä¹‰çš„æ›´åŠ å‹å¥½ï¼Œè°ƒè¯•çš„æ—¶å€™ä¹Ÿæ–¹ä¾¿å®šä½é—®é¢˜ï¼Œå¯ä»¥è‡ªå®šä¹‰è¿”å›çš„é”™è¯¯ç±»å‹ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> appError <span class="keyword">struct</span> {</span><br><span class="line">    Error   <span class="type">error</span></span><br><span class="line">    Message <span class="type">string</span></span><br><span class="line">    Code    <span class="type">int</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ ·è‡ªå®šä¹‰è·¯ç”±å™¨å¯ä»¥æ”¹æˆå¦‚ä¸‹æ–¹å¼ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> appHandler <span class="function"><span class="keyword">func</span><span class="params">(http.ResponseWriter, *http.Request)</span></span> *appError</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(fn appHandler)</span></span> ServeHTTP(w http.ResponseWriter, r *http.Request) {</span><br><span class="line">    <span class="keyword">if</span> e := fn(w, r); e != <span class="literal">nil</span> { <span class="comment">// e is *appError, not os.Error.</span></span><br><span class="line">        c := appengine.NewContext(r)</span><br><span class="line">        c.Errorf(<span class="string">"%v"</span>, e.Error)</span><br><span class="line">        http.Error(w, e.Message, e.Code)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ ·ä¿®æ”¹å®Œè‡ªå®šä¹‰é”™è¯¯ä¹‹åï¼Œé€»è¾‘å¤„ç†å¯ä»¥æ”¹æˆå¦‚ä¸‹æ–¹å¼ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">viewRecord</span><span class="params">(w http.ResponseWriter, r *http.Request)</span></span> *appError {</span><br><span class="line">    c := appengine.NewContext(r)</span><br><span class="line">    key := datastore.NewKey(c, <span class="string">"Record"</span>, r.FormValue(<span class="string">"id"</span>), <span class="number">0</span>, <span class="literal">nil</span>)</span><br><span class="line">    record := <span class="built_in">new</span>(Record)</span><br><span class="line">    <span class="keyword">if</span> err := datastore.Get(c, key, record); err != <span class="literal">nil</span> {</span><br><span class="line">        <span class="keyword">return</span> &amp;appError{err, <span class="string">"Record not found"</span>, <span class="number">404</span>}</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> err := viewTemplate.Execute(w, record); err != <span class="literal">nil</span> {</span><br><span class="line">        <span class="keyword">return</span> &amp;appError{err, <span class="string">"Can't display record"</span>, <span class="number">500</span>}</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚ä¸Šæ‰€ç¤ºï¼Œåœ¨è®¿é—®viewçš„æ—¶å€™å¯ä»¥æ ¹æ®ä¸åŒçš„æƒ…å†µè·å–ä¸åŒçš„é”™è¯¯ç å’Œé”™è¯¯ä¿¡æ¯ï¼Œè™½ç„¶è¿™ä¸ªå’Œç¬¬ä¸€ä¸ªç‰ˆæœ¬çš„ä»£ç é‡å·®ä¸å¤šï¼Œä½†æ˜¯è¿™ä¸ªæ˜¾ç¤ºçš„é”™è¯¯æ›´åŠ æ˜æ˜¾ï¼Œæç¤ºçš„é”™è¯¯ä¿¡æ¯æ›´åŠ å‹å¥½ï¼Œæ‰©å±•æ€§ä¹Ÿæ¯”ç¬¬ä¸€ä¸ªæ›´å¥½ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åœ¨ç¨‹åºè®¾è®¡ä¸­ï¼Œå®¹é”™æ˜¯ç›¸å½“é‡è¦çš„ä¸€éƒ¨åˆ†å·¥ä½œï¼Œåœ¨Goä¸­å®ƒæ˜¯é€šè¿‡é”™è¯¯å¤„ç†æ¥å®ç°çš„ï¼Œerrorè™½ç„¶åªæ˜¯ä¸€ä¸ªæ¥å£ï¼Œä½†æ˜¯å…¶å˜åŒ–å´å¯ä»¥æœ‰å¾ˆå¤šï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥å®ç°ä¸åŒçš„å¤„ç†ã€‚</p>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info">Golang-åŸºç¡€è¯­æ³•</span></div><div class="post-copyright__url"><span class="post-copyright-info"><a id="post-url" href="https://cakepanit.com/forward/e9795f03.html">https://cakepanit.com/forward/e9795f03.html</a><a id="post-url-copy" title="å¤åˆ¶æ–‡ç« é“¾æ¥" onclick="btf.copyFn(&quot;https://cakepanit.com/forward/e9795f03.html&quot;)"><i class="fas fa-paste copy-button"></i></a></span></div><div class="post-copyright__cc"><span class="post-copyright-info">è½¬è½½å‰è¯·é˜…è¯»æœ¬ç«™ <a href="/protocol/copyright/" title="æœ¬ç«™æ‰€æœ‰åŸåˆ›æ–‡ç« é‡‡ç”¨çŸ¥è¯†å…±äº«(Creative Commons)ç½²åâ€”éå•†ä¸šæ€§ä½¿ç”¨â€”ç›¸åŒæ–¹å¼å…±äº«4.0å›½é™…å…¬å…±è®¸å¯åè®®">ç‰ˆæƒåè®®</a>ï¼Œæ–‡ç« è‘—ä½œæƒå½’ <a href="https://cakepanit.com">é¥¼é“›</a> æ‰€æœ‰ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Golang/">ğŸ“Golang</a></div><div class="post_share"><div class="social-share" data-image="/images/pasted-2.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="/css/fei/share.min.css" media="print" onload="this.media='all'"><script src="/css/fei/share.min.js" defer=""></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> æ‰“èµ</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/DC9cYFtFic5G6JZgktjajza5fVfRJLaXLS.png" target="_blank"><img class="post-qr-code-img" src= "/img/loading.gif" data-lazy-src="/img/DC9cYFtFic5G6JZgktjajza5fVfRJLaXLS.png" alt="ç‹—ç‹—å¸(DogeCoin)"></a><div class="post-qr-code-desc">ç‹—ç‹—å¸(DogeCoin)</div></li><li class="reward-item"><a href="/img/bc1q63xj5a3xgfulv8guate5qxmh6qh8ws7c3casqm.png" target="_blank"><img class="post-qr-code-img" src= "/img/loading.gif" data-lazy-src="/img/bc1q63xj5a3xgfulv8guate5qxmh6qh8ws7c3casqm.png" alt="æ¯”ç‰¹å¸(BitCoin)"></a><div class="post-qr-code-desc">æ¯”ç‰¹å¸(BitCoin)</div></li></ul></div></div><div class="ads-wrap"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1372389585456420" data-ad-slot="6522729366" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({});</script></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/forward/8269a7fd.html" title="k8sä¼ä¸šçº§DevOpså®è·µ-å®¹å™¨é›†ç¾¤ç½‘ç»œ"><img class="cover" src= "/img/loading.gif" data-lazy-src="/images/pasted-6.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">k8sä¼ä¸šçº§DevOpså®è·µ-å®¹å™¨é›†ç¾¤ç½‘ç»œ</div><div class="content">
æœ¬æ–‡ä¼šå†è°ˆDockerç½‘ç»œã€Podç½‘ç»œã€CNIæ¨¡å¼ã€CNIé€‰å‹ã€‚

Dockerç½‘ç»œä¸€è§ˆè¡¨ï¼š


å®¹å™¨ç½‘ç»œæ¨¡å¼
ç®€ä»‹



bridge
å®¹å™¨å…·æœ‰ç‹¬ç«‹çš„network namespaceï¼Œä¼šå°†å®¹å™¨è¿æ¥åˆ°docker0è™šæ‹Ÿç½‘æ¡¥ï¼Œå¹¶é…ç½®IPåœ°å€ï¼Œdockerçš„é»˜è®¤ç½‘ç»œæ¨¡å¼ã€‚


host
å®¹å™¨æ²¡æœ‰ç‹¬ç«‹çš„network namespaceï¼Œå’Œå®¿ä¸»æœºå…±ç”¨ç½‘ç»œã€‚


none
å®¹å™¨å…·æœ‰ç‹¬ç«‹çš„network namespaceï¼Œä¸å®¿ä¸»æœºç½‘ç»œéš”ç¦»ï¼Œä½†å¹¶æ²¡æœ‰å¯¹å…¶è¿›è¡Œä»»ä½•ç½‘ç»œè®¾ç½®ã€‚


container
å®¹å™¨å’ŒæŸä¸€ä¸ªå·²å­˜åœ¨çš„å®¹å™¨å…±äº«network namespaceã€‚


bridgebridgeæ¨¡å¼æ˜¯ docker çš„é»˜è®¤ç½‘ç»œæ¨¡å¼ï¼Œä¸å†™â€“netå‚æ•°ï¼Œå°±æ˜¯bridgeæ¨¡å¼ã€‚ä½¿ç”¨docker run -pæ—¶ï¼Œdocker å®é™…æ˜¯åœ¨iptablesåšäº†DNATè§„åˆ™ï¼Œå®ç°ç«¯å£è½¬å‘åŠŸèƒ½ã€‚å¯ä»¥ä½¿ç”¨iptables -t nat -vnLæŸ¥çœ‹ã€‚
12345# åˆ›å»ºä¸€ä¸ªæ–°çš„ Docker ç½‘ç»œã€‚-då‚æ•°æŒ‡å®š Docker ç½‘ç»œç±»å‹$ docker network create -d bridge my-net # ...</div></div></a></div><div class="next-post pull-right"><a href="/forward/c675163c.html" title="Golang-åç¨‹&amp;å¹¶å‘å®‰å…¨"><img class="cover" src= "/img/loading.gif" data-lazy-src="/images/pasted-2.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">Golang-åç¨‹&amp;å¹¶å‘å®‰å…¨</div><div class="content">demo:

GOåç¨‹ä¸å¹¶å‘å®‰å…¨
å¹¶å‘çˆ¬è™«å®ç°



å¼€æˆ¿è®°å½•åˆ†æ


</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/forward/4e89d84.html" title="Golang-23ç§è®¾è®¡æ¨¡å¼"><img class="cover" src= "/img/loading.gif" data-lazy-src="/images/pasted-2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-02-06</div><div class="title">Golang-23ç§è®¾è®¡æ¨¡å¼</div><div class="info">ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼?è®¾è®¡æ¨¡å¼æ˜¯ä¸€å¥—ç†è®º, ç”±è½¯ä»¶ç•Œå…ˆè¾ˆä»¬æ€»ç»“å‡ºçš„ä¸€å¥—å¯ä»¥åå¤ä½¿ç”¨çš„ç»éªŒ, å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜é™ä½ä»£ç è€¦åˆåº¦ã€æé«˜ä»£ç çš„é‡ç”¨æ€§ã€æ‰©å±•æ€§å’Œç³»ç»Ÿå¯ç»´æŠ¤æ€§ï¼Œä»¥åŠå·§å¦™è§£å†³ä¸€ç³»åˆ—é€»è¾‘å¤æ‚çš„é—®é¢˜(è¿ç”¨å¥—è·¯)ã€‚ç„¶è€Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿‡åº¦ä½¿ç”¨è®¾è®¡æ¨¡å¼ä¹Ÿå¯èƒ½ä¼šå¯¼è‡´ä»£ç è¿‡äºå¤æ‚å’Œæ™¦æ¶©ï¼Œå› æ­¤åœ¨å®é™…å¼€å‘ä¸­éœ€è¦æ ¹æ®å…·ä½“æƒ…å†µè¿›è¡Œé€‰æ‹©å’Œåº”ç”¨ã€‚


å·¦åˆ°å³ä¾æ¬¡æ˜¯ï¼šRalph Johnsonï¼ŒErich Gammaï¼ŒRichard Helmï¼ŒJohn Vlissidesã€‚

1995å¹´ï¼Œè‰¾ç‘å…‹Â·ä¼½é©¬ï¼ˆErich Gammaï¼‰ã€æ‹‰å°”å¤«Â·çº¦ç¿°æ£®ï¼ˆRalph Johnsonï¼‰ã€ç†æŸ»å¾·Â·æµ·å°”å§†ï¼ˆRichard Helmï¼‰ã€çº¦ç¿°Â·å¨åˆ©æ–¯è¿ªæ–¯ï¼ˆJohn Vlissidesï¼‰ç­‰4ä½ä½œè€…åˆä½œå‡ºç‰ˆäº†ã€Šè®¾è®¡æ¨¡å¼ï¼šå¯å¤ç”¨é¢å‘å¯¹è±¡è½¯ä»¶çš„åŸºç¡€ã€‹ï¼ˆDesign Patterns: Elements of Reusable Object-Oriented Softwareï¼‰ä¸€ä¹¦ï¼Œåœ¨æœ¬æ•™ç¨‹ä¸­æ”¶å½•äº† 23 ä¸ªè®¾è®¡æ¨¡å¼ï¼Œè¿™æ˜¯è®¾è®¡æ¨¡å¼é¢†åŸŸé‡Œç¨‹ç¢‘çš„äº‹ä»¶ï¼Œå¯¼è‡´äº†è½¯ä»¶è®¾è®¡æ¨¡å¼çš„çªç ´ã€‚è¿™ 4 ä½ä½œè€…åœ¨è½¯ä»¶å¼€å‘é¢†åŸŸé‡Œä¹Ÿä»¥ä»–ä»¬çš„â€œå››äººç»„â€ï¼ˆGang of Four ...</div></div></a></div><div><a href="/forward/d12df344.html" title="Golang-å‡½æ•°"><img class="cover" src= "/img/loading.gif" data-lazy-src="/images/pasted-2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-08-23</div><div class="title">Golang-å‡½æ•°</div><div class="info">åœ¨ç¼–ç¨‹ä¸­ç»å¸¸ä¼šè°ƒç”¨ç›¸åŒæˆ–è€…ç±»ä¼¼çš„æ“ä½œï¼Œè¿™äº›ç›¸åŒæˆ–è€…ç±»ä¼¼çš„æ“ä½œç”±åŒä¸€æ®µä»£ç å®Œæˆï¼Œå‡½æ•°çš„å‡ºç°ï¼Œå¯ä»¥é¿å…é‡å¤ç¼–å†™è¿™äº›ä»£ç ã€‚å‡½æ•°çš„ä½œç”¨å°±æ˜¯æŠŠç›¸å¯¹ç‹¬ç«‹çš„æŸä¸ªåŠŸèƒ½æŠ½è±¡å‡ºæ¥ï¼Œä½¿ä¹‹æˆä¸ºä¸€ä¸ªç‹¬ç«‹çš„å®ä½“ã€‚
ä¾‹å¦‚ï¼Œå¼€å‘ä¸€ä¸ªæ”¯æŒäººä¸äººä¹‹é—´è¿›è¡Œå¯¹è¯çš„ç¤¾äº¤ç½‘ç«™ï¼Œå¯¹è¯è¿™ä¸ªåŠŸèƒ½æ¯”è¾ƒå¤æ‚ï¼Œå¯ä»¥å°†å®ƒå°è£…ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨è¯¥å‡½æ•°å°±å¯ä»¥å‘èµ·å¯¹è¯ï¼›å¤§å‹ç½‘ç«™éƒ½æœ‰æ—¥å¿—åŠŸèƒ½ï¼Œå¯¹æ‰€æœ‰é‡è¦æ“ä½œéƒ½ä¼šè®°å½•æ—¥å¿—ï¼Œè€Œæ—¥å¿—å¤„ç†éœ€è¦ç”±å¤šè¡ŒGoæ–‡ä»¶æ“ä½œç›¸å…³ä»£ç ç»„æˆï¼Œå°†è¿™äº›ä»£ç ç»„è£…ä¸ºå‡½æ•°ï¼Œåˆ™æ¯æ¬¡å†™æ—¥å¿—æ—¶è°ƒç”¨æ­¤å‡½æ•°å³å¯ã€‚
Goè¯­è¨€å‡½æ•°æ”¯æŒçš„ç‰¹æ€§åŒ…æ‹¬ï¼š

å‚æ•°æ•°é‡ä¸å›ºå®šï¼ˆå¯å˜å‚æ•°ï¼‰ã€‚
åŒ¿åå‡½æ•°åŠå…¶é—­åŒ…ã€‚
å‡½æ•°æœ¬èº«ä½œä¸ºå€¼ä¼ é€’ã€‚
å‡½æ•°çš„å»¶è¿Ÿæ‰§è¡Œã€‚
æŠŠå‡½æ•°ä½œä¸ºæ¥å£è°ƒç”¨ã€‚

å£°æ˜å‡½æ•°ä½¿ç”¨å‡½æ•°å‡½æ•°å˜é‡å¯å˜å‚æ•°åŒ¿åå‡½æ•°å’Œé—­åŒ…å»¶è¿Ÿæ‰§è¡Œè¯­å¥å‡½æ•°çš„å£°æ˜ä»¥å…³é”®å­—funcä¸ºæ ‡è¯†ï¼Œå…·ä½“æ ¼å¼å¦‚ä¸‹ï¼š
123func å‡½æ•°å(å‚æ•°åˆ—è¡¨) (è¿”å›å‚æ•°åˆ—è¡¨){    å‡½æ•°ä½“}

å‡½æ•°åï¼šå‡½æ•°åç”±å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿æ„æˆï¼Œä½†æ˜¯å‡½æ•°åä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼›åœ¨åŒä¸€ä¸ªåŒ…å†…ï¼Œå‡½æ•°åä¸å¯é‡å¤ã€‚æ³¨æ„ï¼šå¯æš‚æ—¶ç®€å•åœ°å°†ä¸€ä¸ªåŒ…ç†è§£ä¸ºä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚
å‚æ•°åˆ—è¡¨ï¼šå‚æ•°åˆ—è¡¨ä¸­çš„æ¯ä¸ªå‚æ•°éƒ½ç”±å‚æ•°åç§°å’Œå‚æ•°ç±» ...</div></div></a></div><div><a href="/forward/f61b8e50.html" title="Golang-åå°„&amp;åº”ç”¨"><img class="cover" src= "/img/loading.gif" data-lazy-src="/images/pasted-2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-18</div><div class="title">Golang-åå°„&amp;åº”ç”¨</div><div class="info">
demo:åå°„æ–¹å¼å®ç°iniæ–‡ä»¶ååºåˆ—åŒ–
</div></div></a></div><div><a href="/forward/8f91bfec.html" title="Golang-å˜é‡ä¸åŸºç¡€æ•°æ®ç±»å‹ã€æŒ‡é’ˆ"><img class="cover" src= "/img/loading.gif" data-lazy-src="/images/pasted-2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-21</div><div class="title">Golang-å˜é‡ä¸åŸºç¡€æ•°æ®ç±»å‹ã€æŒ‡é’ˆ</div><div class="info">Golangä¸­çš„å˜é‡
å£°æ˜å˜é‡æ ‡å‡†æ ¼å¼æ‰¹é‡å£°æ˜1var å˜é‡å å˜é‡ç±»å‹
ä¾‹:å£°æ˜å˜é‡numçš„ç±»å‹ä¸ºint
1var num int ä½¿ç”¨å…³é”®å­—varå’Œå°æ‹¬å·ï¼Œå¯ä»¥åŒæ—¶å£°æ˜å¤šä¸ªå˜é‡ã€‚
12345var( a int b string c bool)
åˆå§‹åŒ–å˜é‡æ¯ç§ç±»å‹çš„å˜é‡åˆå§‹åŒ–åéƒ½ä¼šæœ‰å¯¹åº”çš„é»˜è®¤å€¼ï¼š

æ•´å‹å’Œæµ®ç‚¹å‹å˜é‡çš„é»˜è®¤å€¼ä¸º0ã€‚
å­—ç¬¦ä¸²å˜é‡çš„é»˜è®¤å€¼ä¸ºç©ºå­—ç¬¦ä¸²ã€‚
å¸ƒå°”å‹å˜é‡é»˜è®¤ä¸ºfalseã€‚
åˆ‡ç‰‡ã€æ˜ å°„ã€å‡½æ•°å’ŒæŒ‡é’ˆå˜é‡é»˜è®¤ä¸ºnilã€‚

æ³¨æ„ï¼šnilç›¸å½“äºå…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­çš„nullã€Noneå’ŒNULLç­‰ï¼ŒæŒ‡ä»£é›¶å€¼ï¼Œåœ¨Goè¯­è¨€ä¸­åªèƒ½èµ‹å€¼ç»™åˆ‡ç‰‡ã€æ˜ å°„ã€å‡½æ•°ã€æ¥å£ã€æŒ‡é’ˆæˆ–é€šé“ç±»å‹ã€‚
æ ‡å‡†æ ¼å¼ç±»å‹æ¨å¯¼çŸ­å˜é‡å£°æ˜å¹¶åˆå§‹åŒ–1var å˜é‡å å˜é‡ç±»å‹ = è¡¨è¾¾å¼
ä¾‹:å£°æ˜å˜é‡numç±»å‹ä¸ºintå¹¶èµ‹å€¼ä¸º1
1var num int = 1 åœ¨æ ‡å‡†æ ¼å¼åŸºç¡€ä¸Šï¼ŒæŠŠå˜é‡ç±»å‹çœç•¥åï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®ç­‰å·å³è¾¹çš„è¡¨è¾¾å¼æ¨å¯¼å˜é‡çš„ç±»å‹ã€‚ä¾‹:åˆå§‹åŒ–å˜é‡ageå€¼ä¸º20
1var age = 20åŒæ ·ä¼šæ ¹æ®ç­‰å·å³è¾¹çš„è¡¨è¾¾å¼æ¨å¯¼å˜é‡çš„ç±»å‹ã€‚
1age := 30

å¤šé‡èµ‹å€¼
1name, age := "Tom&amp;qu ...</div></div></a></div><div><a href="/forward/d5b63f7f.html" title="Golang-å¸¸é‡ä¸è¿ç®—ç¬¦"><img class="cover" src= "/img/loading.gif" data-lazy-src="/images/pasted-2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-22</div><div class="title">Golang-å¸¸é‡ä¸è¿ç®—ç¬¦</div><div class="info">å¸¸é‡æ¦‚è¿°: å¸¸é‡ä¸è¿ç®—ç¬¦æ˜¯åŸºæœ¬æ¦‚å¿µï¼Œå¯¹äºGoè¯­è¨€ï¼Œå¯ä»¥ä½¿ç”¨å®ƒä»¬è¿›è¡Œèµ‹å€¼ã€è®¡ç®—å’Œæ¯”è¾ƒã€‚Goè¯­è¨€æ”¯æŒçš„è¿ç®—åŒ…æ‹¬ç®—æœ¯è¿ç®—ã€æ¯”è¾ƒè¿ç®—å’Œé€»è¾‘è¿ç®—ç­‰ã€‚
æ‰€è°“å¸¸é‡ï¼Œå°±æ˜¯å€¼ä¸èƒ½å˜çš„é‡ï¼Œæ¯”å¦‚å¸¸ç”¨çš„æ•°å­¦å¸¸æ•°â€œÏ€â€å°±æ˜¯ä¸€ä¸ªå¸¸é‡ã€‚å¤§å¤šæ•°çš„ç¼–ç¨‹è¯­è¨€ä¼šä½¿ç”¨å…¨å¤§å†™çš„å˜é‡åè¡¨ç¤ºå¸¸é‡ï¼Œæ‰€ä»¥çº¦å®šä¿—æˆï¼Œå¦‚æœå¸¸é‡çš„åå­—æ˜¯å…¨å¤§å†™çš„å˜é‡ï¼Œä¸€èˆ¬ä¸åšä¿®æ”¹ã€‚
å¸¸é‡çš„å®šä¹‰æ˜¾å¼å®šä¹‰éšå¼å®šä¹‰å¸¸é‡ç»„å®šä¹‰å¸¸é‡æšä¸¾iotaå¸¸é‡çš„å£°æ˜ä»¥å…³é”®å­—constå¼€å¤´ï¼Œåæ¥å˜é‡ç±»å‹å¹¶è¿›è¡Œèµ‹å€¼ï¼Œè¡Œå°¾æ²¡æœ‰å…¶ä»–æ ‡ç‚¹ç¬¦å·ã€‚å¸¸é‡çš„æ˜¾å¼å£°æ˜æ ¼å¼å¦‚ä¸‹ï¼š
1const å¸¸é‡å å¸¸é‡ç±»å‹ = value
æ³¨æ„âš ï¸ï¼šä¸€ä¸ªå¸¸é‡è¢«å£°æ˜åå¯ä»¥ä¸ä½¿ç”¨ï¼Œä½†æ˜¯å˜é‡ä¸€æ—¦å£°æ˜åˆ™å¿…é¡»ä½¿ç”¨ã€‚
1234567891011package mainimport "fmt"func main() {	const a float64 = 3.1415	const b string = "Hello World"	fmt.Println(a)}// 3.1415ç”±äºGoæ˜¯ç¼–è¯‘å‹è¯­è¨€ï¼Œå®šä¹‰å¸¸é‡æ—¶å¯ä»¥çœç•¥å¸¸é‡ç±»å‹ï¼Œå› ä¸ºç¼–è¯‘å™¨å¯ä»¥æ ¹æ®å˜é‡çš„å€¼æ¥æ¨æ–­å…¶ç±»å‹ã€‚å¸¸ ...</div></div></a></div><div><a href="/forward/f9d199b7.html" title="Golang-æ¥å£"><img class="cover" src= "/img/loading.gif" data-lazy-src="/images/pasted-2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-02-15</div><div class="title">Golang-æ¥å£</div><div class="info">æ¥å£æ¥å£ï¼ˆinterfaceï¼‰å®šä¹‰äº†ä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºè§„èŒƒï¼Œåªå®šä¹‰è§„èŒƒä¸å®ç°ï¼Œç”±å…·ä½“çš„å¯¹è±¡æ¥å®ç°è§„èŒƒçš„ç»†èŠ‚ã€‚
æ¥å£ç±»å‹åœ¨Goè¯­è¨€ä¸­æ¥å£ï¼ˆinterfaceï¼‰æ˜¯ä¸€ç§ç±»å‹ï¼Œä¸€ç§æŠ½è±¡çš„ç±»å‹ã€‚
interfaceæ˜¯ä¸€ç»„method(æ–¹æ³•)çš„é›†åˆï¼Œæ˜¯duck-type programmingçš„ä¸€ç§ä½“ç°ã€‚æ¥å£åšçš„äº‹æƒ…å°±åƒæ˜¯å®šä¹‰ä¸€ä¸ªåè®®ï¼ˆè§„åˆ™ï¼‰ï¼Œåªè¦ä¸€å°æœºå™¨æœ‰æ´—è¡£æœå’Œç”©å¹²çš„åŠŸèƒ½ï¼Œæˆ‘å°±ç§°å®ƒä¸ºæ´—è¡£æœºã€‚ä¸å…³å¿ƒå±æ€§ï¼ˆæ•°æ®ï¼‰ï¼Œåªå…³å¿ƒè¡Œä¸ºï¼ˆæ–¹æ³•ï¼‰ã€‚
ä¸ºäº†ä¿æŠ¤ä½ çš„Goè¯­è¨€èŒä¸šç”Ÿæ¶¯ï¼Œè¯·ç‰¢è®°æ¥å£ï¼ˆinterfaceï¼‰æ˜¯ä¸€ç§ç±»å‹ã€‚
ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ¥å£ï¼Ÿ
1234567891011121314151617181920212223242526272829303132333435363738394041type Cat struct{}type Dog struct{}type Pig struct{}func (c Cat) Say() string { return "å–µå–µå–µ" }func (d Dog) Say() strin ...</div></div></a></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><a href="/about/"><img src= "/img/loading.gif" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"></a></div><div class="author-info__name">é¥¼é“›</div><div class="author-info__description">Think like a coder</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">104</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">89</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">3</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="/go.html?url=aHR0cHM6Ly90Lm1lL2pvaW5jaGF0L2NfUGFybW9ITW1VNU1ETTk=" target="_blank" title="Telegram" rel="external nofollow noopener noreferrer"><i class="fab fa-telegram-plane"></i></a><a class="social-icon" href="/go.html?url=aHR0cHM6Ly9xbS5xcS5jb20vY2dpLWJpbi9xbS9xcj9rPVExTjlsM2lzazhPX2k1YXdGd08tYmxBb1BIN1BVZWI0Jm5vdmVyaWZ5PTA=" target="_blank" title="QQ" rel="external nofollow noopener noreferrer"><i class="fab fa-qq"></i></a><a class="social-icon" href="mailto:admin@cakepanit.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/go.html?url=aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTMxMzc3NTI4Mg==" target="_blank" title="Netease" rel="external nofollow noopener noreferrer"><i class="fas fa-record-vinyl"></i></a></div></div><div class="card-widget"><div class="item-headline"><i class="fas fa-heartbeat"></i><span>Wishing for world peace</span></div><div class="item-content"><a target="_blank" rel="external nofollow noopener noreferrer" href="/go.html?url=aHR0cHM6Ly93d3cudW4ub3JnL3poL29ic2VydmFuY2VzL0ludGVybmF0aW9uYWwtZGF5LW9mLXNvbGlkYXJpdHktd2l0aC10aGUtcGFsZXN0aW5pYW4tcGVvcGxl"><div class="container"><div class="black"></div><div class="white"></div><div class="green"></div><div class="red"></div></div><style>body{margin:0}.container{width:100%;height:15.1vh;position:relative}.black{width:100%;top:0;position:absolute;background-color:black;height:33.3333%}.white{width:100%;top:33.3333%;position:absolute;background-color:white;height:33.3333%}.green{width:100%;bottom:0;position:absolute;background-color:green;height:33.3333%}.red{position:absolute;border-style:solid;border-color:transparent transparent transparent red;border-width:7.6vh;z-index:1}</style></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>æ–‡ç« ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">1.</span> <span class="toc-text">å…³é”®å­—</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#go%E7%9A%84%E4%BA%8C%E5%8D%81%E4%BA%94%E4%B8%AA%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">1.0.1.</span> <span class="toc-text">goçš„äºŒåäº”ä¸ªå…³é”®å­—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">1.0.2.</span> <span class="toc-text">ç®€ä»‹</span></a></li></ol></li></ol><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">2.</span> <span class="toc-text">æ•°æ®ç±»å‹çš„å®šä¹‰</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">2.1.</span> <span class="toc-text">å®šä¹‰å˜é‡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F"><span class="toc-number">2.2.</span> <span class="toc-text">å¸¸é‡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.3.</span> <span class="toc-text">å†…ç½®åŸºç¡€ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Boolean"><span class="toc-number">2.3.1.</span> <span class="toc-text">Boolean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.3.2.</span> <span class="toc-text">æ•°å€¼ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">2.3.3.</span> <span class="toc-text">å­—ç¬¦ä¸²</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.4.</span> <span class="toc-text">é”™è¯¯ç±»å‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E5%A3%B0%E6%98%8E"><span class="toc-number">2.5.</span> <span class="toc-text">åˆ†ç»„å£°æ˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#iota%E6%9E%9A%E4%B8%BE"><span class="toc-number">2.6.</span> <span class="toc-text">iotaæšä¸¾</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Go%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%9A%84%E4%B8%80%E4%BA%9B%E8%A7%84%E5%88%99"><span class="toc-number">2.7.</span> <span class="toc-text">Goç¨‹åºè®¾è®¡çš„ä¸€äº›è§„åˆ™</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#array%E3%80%81slice%E3%80%81map"><span class="toc-number">2.8.</span> <span class="toc-text">arrayã€sliceã€map</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#array"><span class="toc-number">2.8.1.</span> <span class="toc-text">array</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#slice"><span class="toc-number">2.8.2.</span> <span class="toc-text">slice</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#slice%E6%9C%89%E4%B8%80%E4%BA%9B%E7%AE%80%E4%BE%BF%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">2.8.2.1.</span> <span class="toc-text">sliceæœ‰ä¸€äº›ç®€ä¾¿çš„æ“ä½œ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#slice%E6%9C%89%E5%87%A0%E4%B8%AA%E6%9C%89%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><span class="toc-number">2.8.2.2.</span> <span class="toc-text">sliceæœ‰å‡ ä¸ªæœ‰ç”¨çš„å†…ç½®å‡½æ•°</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#map"><span class="toc-number">2.8.3.</span> <span class="toc-text">map</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#make%E3%80%81new%E6%93%8D%E4%BD%9C"><span class="toc-number">2.9.</span> <span class="toc-text">makeã€newæ“ä½œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%B6%E5%80%BC"><span class="toc-number">2.10.</span> <span class="toc-text">é›¶å€¼</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-number">3.</span> <span class="toc-text">æµç¨‹æ§åˆ¶</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#if"><span class="toc-number">3.1.</span> <span class="toc-text">if</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#goto"><span class="toc-number">3.2.</span> <span class="toc-text">goto</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#for"><span class="toc-number">3.3.</span> <span class="toc-text">for</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#switch"><span class="toc-number">3.4.</span> <span class="toc-text">switch</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">4.</span> <span class="toc-text">å‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">4.1.</span> <span class="toc-text">å‡½æ•°çš„å®šä¹‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E4%B8%AA%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">4.2.</span> <span class="toc-text">å¤šä¸ªè¿”å›å€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E5%8F%82"><span class="toc-number">4.3.</span> <span class="toc-text">å˜å‚</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%A0%E5%80%BC%E4%B8%8E%E4%BC%A0%E6%8C%87%E9%92%88"><span class="toc-number">4.4.</span> <span class="toc-text">ä¼ å€¼ä¸ä¼ æŒ‡é’ˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#defer"><span class="toc-number">4.5.</span> <span class="toc-text">defer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E5%80%BC%E3%80%81%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.6.</span> <span class="toc-text">å‡½æ•°ä½œä¸ºå€¼ã€ç±»å‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Panic%E5%92%8CRecover"><span class="toc-number">4.7.</span> <span class="toc-text">Panicå’ŒRecover</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#main%E5%87%BD%E6%95%B0%E5%92%8Cinit%E5%87%BD%E6%95%B0"><span class="toc-number">4.8.</span> <span class="toc-text">mainå‡½æ•°å’Œinitå‡½æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#import"><span class="toc-number">4.9.</span> <span class="toc-text">import</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E5%AF%B9%E8%B7%AF%E5%BE%84"><span class="toc-number">4.9.1.</span> <span class="toc-text">ç›¸å¯¹è·¯å¾„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%9D%E5%AF%B9%E8%B7%AF%E5%BE%84"><span class="toc-number">4.9.2.</span> <span class="toc-text">ç»å¯¹è·¯å¾„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E7%9A%84import"><span class="toc-number">4.9.3.</span> <span class="toc-text">ç‰¹æ®Šçš„import</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%82%B9%E6%93%8D%E4%BD%9C"><span class="toc-number">4.9.3.1.</span> <span class="toc-text">ç‚¹æ“ä½œ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%AB%E5%90%8D%E6%93%8D%E4%BD%9C"><span class="toc-number">4.9.3.2.</span> <span class="toc-text">åˆ«åæ“ä½œ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C"><span class="toc-number">4.9.3.3.</span> <span class="toc-text">_æ“ä½œ</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#struct%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.</span> <span class="toc-text">structç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#struct%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%A3%B0%E6%98%8E"><span class="toc-number">5.1.</span> <span class="toc-text">structç±»å‹çš„å£°æ˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#struct%E7%9A%84%E5%8C%BF%E5%90%8D%E5%AD%97%E6%AE%B5"><span class="toc-number">5.2.</span> <span class="toc-text">structçš„åŒ¿åå­—æ®µ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#method"><span class="toc-number">6.</span> <span class="toc-text">method</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#method-1"><span class="toc-number">6.1.</span> <span class="toc-text">method</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E4%BD%9C%E4%B8%BAreceiver"><span class="toc-number">6.2.</span> <span class="toc-text">æŒ‡é’ˆä½œä¸ºreceiver</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#method%E7%BB%A7%E6%89%BF"><span class="toc-number">6.3.</span> <span class="toc-text">methodç»§æ‰¿</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#method%E9%87%8D%E5%86%99"><span class="toc-number">6.4.</span> <span class="toc-text">methodé‡å†™</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#interface"><span class="toc-number">7.</span> <span class="toc-text">interface</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFinterface"><span class="toc-number">7.1.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯interface</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#interface%E7%B1%BB%E5%9E%8B"><span class="toc-number">7.2.</span> <span class="toc-text">interfaceç±»å‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#interface%E5%80%BC"><span class="toc-number">7.3.</span> <span class="toc-text">interfaceå€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A9%BAinterface"><span class="toc-number">7.4.</span> <span class="toc-text">ç©ºinterface</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#interface%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-number">7.5.</span> <span class="toc-text">interfaceå‡½æ•°å‚æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#interface%E5%8F%98%E9%87%8F%E5%AD%98%E5%82%A8%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">7.6.</span> <span class="toc-text">interfaceå˜é‡å­˜å‚¨çš„ç±»å‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B5%8C%E5%85%A5interface"><span class="toc-number">7.7.</span> <span class="toc-text">åµŒå…¥interface</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84"><span class="toc-number">8.</span> <span class="toc-text">åå°„</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91"><span class="toc-number">9.</span> <span class="toc-text">å¹¶å‘</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#goroutine"><span class="toc-number">9.1.</span> <span class="toc-text">goroutine</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sync-WaitGroup"><span class="toc-number">9.2.</span> <span class="toc-text">sync.WaitGroup</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#channels"><span class="toc-number">9.3.</span> <span class="toc-text">channels</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Buffered-Channels"><span class="toc-number">9.4.</span> <span class="toc-text">Buffered Channels</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Range%E5%92%8CClose"><span class="toc-number">9.5.</span> <span class="toc-text">Rangeå’ŒClose</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Select"><span class="toc-number">9.6.</span> <span class="toc-text">Select</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B6%85%E6%97%B6"><span class="toc-number">9.7.</span> <span class="toc-text">è¶…æ—¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#runtime-goroutine"><span class="toc-number">9.8.</span> <span class="toc-text">runtime goroutine</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="toc-number">10.</span> <span class="toc-text">é”™è¯¯å¤„ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Error%E7%B1%BB%E5%9E%8B"><span class="toc-number">10.1.</span> <span class="toc-text">Errorç±»å‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89Error"><span class="toc-number">10.2.</span> <span class="toc-text">è‡ªå®šä¹‰Error</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86-1"><span class="toc-number">10.3.</span> <span class="toc-text">é”™è¯¯å¤„ç†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">10.4.</span> <span class="toc-text">æ€»ç»“</span></a></li></ol></li></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/forward/a5d41a5c.html" title="Golang-Gin+GORM-Demo"><img src= "/img/loading.gif" data-lazy-src="/images/pasted-335.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Golang-Gin+GORM-Demo"></a><div class="content"><a class="title" href="/forward/a5d41a5c.html" title="Golang-Gin+GORM-Demo">Golang-Gin+GORM-Demo</a><time datetime="2024-10-06T10:57:00.000Z" title="å‘è¡¨äº 2024-10-06 18:57:00">2024-10-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/forward/4e89d84.html" title="Golang-23ç§è®¾è®¡æ¨¡å¼"><img src= "/img/loading.gif" data-lazy-src="/images/pasted-2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Golang-23ç§è®¾è®¡æ¨¡å¼"></a><div class="content"><a class="title" href="/forward/4e89d84.html" title="Golang-23ç§è®¾è®¡æ¨¡å¼">Golang-23ç§è®¾è®¡æ¨¡å¼</a><time datetime="2024-02-06T09:33:00.000Z" title="å‘è¡¨äº 2024-02-06 17:33:00">2024-02-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/forward/d17c8c9b.html" title="Containerdä¸Docker"><img src= "/img/loading.gif" data-lazy-src="/images/pasted-334.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Containerdä¸Docker"></a><div class="content"><a class="title" href="/forward/d17c8c9b.html" title="Containerdä¸Docker">Containerdä¸Docker</a><time datetime="2024-01-11T06:40:00.000Z" title="å‘è¡¨äº 2024-01-11 14:40:00">2024-01-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/forward/82cd681d.html" title="Golang-ç½‘ç»œç¼–ç¨‹"><img src= "/img/loading.gif" data-lazy-src="/images/pasted-2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Golang-ç½‘ç»œç¼–ç¨‹"></a><div class="content"><a class="title" href="/forward/82cd681d.html" title="Golang-ç½‘ç»œç¼–ç¨‹">Golang-ç½‘ç»œç¼–ç¨‹</a><time datetime="2024-01-05T03:30:00.000Z" title="å‘è¡¨äº 2024-01-05 11:30:00">2024-01-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/forward/e94e48aa.html" title="Golang-é¢å‘â€œå¯¹è±¡â€ï¼šé¢å‘æ¥å£"><img src= "/img/loading.gif" data-lazy-src="/images/pasted-2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Golang-é¢å‘â€œå¯¹è±¡â€ï¼šé¢å‘æ¥å£"></a><div class="content"><a class="title" href="/forward/e94e48aa.html" title="Golang-é¢å‘â€œå¯¹è±¡â€ï¼šé¢å‘æ¥å£">Golang-é¢å‘â€œå¯¹è±¡â€ï¼šé¢å‘æ¥å£</a><time datetime="2023-11-10T16:45:00.000Z" title="å‘è¡¨äº 2023-11-11 00:45:00">2023-11-11</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="footer-group-container"><div class="footer-group"><span class="footer-group-title">å¤–é“¾</span><a class="footer-group-item" target="_blank" rel="external nofollow noopener noreferrer" href="/go.html?url=aHR0cHM6Ly93d3cuYWxpeXVuLmNvbS8=">alibabaCloud</a><a class="footer-group-item" target="_blank" rel="external nofollow noopener noreferrer" href="/go.html?url=aHR0cHM6Ly93d3cudGlvYmUuY29tL3Rpb2JlLWluZGV4Lw==">ç¼–ç¨‹è¯­è¨€æ’å</a><a class="footer-group-item" target="_blank" rel="external nofollow noopener noreferrer" href="/go.html?url=aHR0cHM6Ly9zdG9yZS5zaW1wbGVoYWMuY24v">é»‘è‹¹æœèµ„æºç«™</a><a class="footer-group-item" target="_blank" rel="external nofollow noopener noreferrer" href="/go.html?url=aHR0cHM6Ly9mb3JldmVyYmxvZy5jbi9nby5odG1s">è™«æ´åå¹´ä¹‹çº¦</a></div><div class="footer-group"><span class="footer-group-title">å¯¼èˆª</span><a class="footer-group-item" href="/link/">å‹æƒ…é“¾æ¥</a><a class="footer-group-item" href="https://pan.cakepanit.com/" target="_blank" title="æˆ‘çš„äº‘ç›˜">æˆ‘çš„äº‘ç›˜</a><a class="footer-group-item" href="/music/" target="_blank">å¤©å¤©åŠ¨å¬</a><a class="footer-group-item" href="/bookshelf/">æ”¶è—ä¹¦å•</a></div><div class="footer-group"><span class="footer-group-title">åˆ†ç±»</span><a class="footer-group-item" href="/categories/OPS/">è¿ç»´æ•™ç¨‹</a><a class="footer-group-item" href="/categories/DBA/">DBAæ•™ç¨‹</a><a class="footer-group-item" href="/categories/DEV/">ç¼–ç æ•™ç¨‹</a><a class="footer-group-item" target="_blank" rel="noopener" href="https://cmd.cakepanit.com/">å‘½ä»¤æŸ¥è¯¢</a></div><div class="footer-group"><span class="footer-group-title">å…³äº</span><a class="footer-group-item" href="/notice/">ç½‘ç«™å…¬å‘Š</a><a class="footer-group-item" href="/about/">å…³äºæœ¬ç«™</a><a class="footer-group-item" href="/status/">ç«™ç‚¹ç›‘æ§</a><a class="footer-group-item" target="_blank" rel="noopener" href="https://docs.cakepanit.com/">å¸®åŠ©æ–‡æ¡£</a></div><div class="footer-group" id="footer-group-flink"><span class="footer-group-title">å‹é“¾<i class="fas fa-arrow-rotate-right" title="éšæœºå‹é“¾" onclick="eurkon.footerRandomFlink(flinks, 3);"></i></span><a class="footer-group-item" href="" target="_blank" rel="noopener external nofollow noreferrer">åŠ è½½ä¸­...</a><a class="footer-group-item" href="" target="_blank" rel="noopener external nofollow noreferrer">åŠ è½½ä¸­...</a><a class="footer-group-item" href="" target="_blank" rel="noopener external nofollow noreferrer">åŠ è½½ä¸­...</a><a class="footer-group-item" href="/link/">æ›´å¤šå‹é“¾</a></div><div class="footer-group"><span class="footer-group-title">åè®®</span><a class="footer-group-item" href="/protocol/comment/" title="ç”¨æˆ·å‘è¨€å‰ï¼Œè¯·è®¤çœŸé˜…è¯»æœ¬æ¡ä¾‹ã€‚ä¸€ç»å‘è¨€ï¼Œå³è§†ä¸ºåŒæ„æ¥å—æœ¬æ¡ä¾‹ï¼›å¦‚ä¸åŒæ„ï¼Œè¯·å‹¿å‘è¨€ã€‚">è¯„è®ºåè®®</a><a class="footer-group-item" href="/protocol/copyright/" title="æœ¬ç«™æ‰€æœ‰åŸåˆ›æ–‡ç« é‡‡ç”¨çŸ¥è¯†å…±äº«(Creative Commons)ç½²åâ€”éå•†ä¸šæ€§ä½¿ç”¨â€”ç›¸åŒæ–¹å¼å…±äº«4.0å›½é™…å…¬å…±è®¸å¯åè®®">ç‰ˆæƒåè®®</a></div></div><div id="footer-banner"><div id="footer-banner-container"><div class="footer-banner"><div class="copyright">Copyright Â© 2019 - 2026  Maxbit  All Rights Reserved.</div></div><div class="footer-banner"><a target="_blank" rel="external nofollow noopener noreferrer" href="/go.html?url=aHR0cHM6Ly9iZWlhbi5taWl0Lmdvdi5jbg==" title="ICPå¤‡æ¡ˆ" style="display: flex; justify-content: center;"><img class="no-lightbox no-lazy" src="/img/beian.svg" alt="ICPå¤‡æ¡ˆ" style="margin-right: 4px;">çš–ICPå¤‡2021005605å·-1</a><a target="_blank" rel="external nofollow noopener noreferrer" href="/go.html?url=aHR0cHM6Ly93d3cudXB5dW4uY29tLz91dG1fc291cmNlPWxpYW5tZW5nJnV0bV9tZWRpdW09cmVmZXJyYWw=" title="UPYUN" style="display: flex; justify-content: center;"><img class="no-lightbox no-lazy" src="/img/upyun.svg" alt="CDNåŠ é€Ÿ" style="margin-right: 4px;">åˆæ‹äº‘æä¾›CDNåŠ é€Ÿ</a></div></div></div></div></footer></div><div class="hidden" id="rightside-mask" onclick="eurkon.switchRightSide();"></div><div class="hidden" id="rightside"><div id="rightside-header"><div id="rightside-back"><i class="fas fa-chevron-left" onclick="eurkon.backRightSide();"></i></div><div id="rightside-title">è®¾ç½®</div><div id="rightside-close" onclick="eurkon.switchRightSide();"><i class="fas fa-xmark"></i></div></div><div id="rightside-content"><div id="card-post-content"><div class="rightside-left-col"><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>åˆ†ç±»</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/DBA/"><span class="card-category-list-name">DBA</span><span class="card-category-list-count">34</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/DEV/"><span class="card-category-list-name">DEV</span><span class="card-category-list-count">15</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/OPS/"><span class="card-category-list-name">OPS</span><span class="card-category-list-count">53</span></a></li>
            </ul></div></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>æ ‡ç­¾</span></div><div class="card-tag-cloud"><a id="tags/Git/" href="/tags/Git/" style="font-size: 1.23em; color: rgb(52, 121, 7)">Git<sup>4</sup></a><a id="tags/GitLab/" href="/tags/GitLab/" style="font-size: 1.23em; color: rgb(0, 18, 176)">GitLab<sup>4</sup></a><a id="tags/OPS/" href="/tags/OPS/" style="font-size: 1.45em; color: rgb(90, 125, 137)">ğŸŒOPS<sup>49</sup></a><a id="tags/Docker/" href="/tags/Docker/" style="font-size: 1.29em; color: rgb(105, 55, 46)">Docker<sup>7</sup></a><a id="tags/Containerd/" href="/tags/Containerd/" style="font-size: 1.15em; color: rgb(104, 125, 95)">Containerd<sup>1</sup></a><a id="tags/Skywalking/" href="/tags/Skywalking/" style="font-size: 1.15em; color: rgb(147, 66, 29)">Skywalking<sup>1</sup></a><a id="tags/é“¾è·¯è¿½è¸ª/" href="/tags/%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA/" style="font-size: 1.15em; color: rgb(198, 123, 44)">é“¾è·¯è¿½è¸ª<sup>1</sup></a><a id="tags/Download/" href="/tags/Download/" style="font-size: 1.15em; color: rgb(28, 62, 105)">â¬Download<sup>1</sup></a><a id="tags/ELK/" href="/tags/ELK/" style="font-size: 1.26em; color: rgb(7, 67, 76)">ELK<sup>5</sup></a><a id="tags/Logstash/" href="/tags/Logstash/" style="font-size: 1.18em; color: rgb(60, 118, 169)">Logstash<sup>2</sup></a><a id="tags/Nginx/" href="/tags/Nginx/" style="font-size: 1.18em; color: rgb(12, 78, 158)">Nginx<sup>2</sup></a><a id="tags/Golang/" href="/tags/Golang/" style="font-size: 1.37em; color: rgb(91, 125, 169)">ğŸ“Golang<sup>13</sup></a><a id="tags/è®¾è®¡æ¨¡å¼/" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 1.15em; color: rgb(182, 172, 50)">è®¾è®¡æ¨¡å¼<sup>1</sup></a><a id="tags/Gin/" href="/tags/Gin/" style="font-size: 1.15em; color: rgb(199, 144, 120)">Gin<sup>1</sup></a><a id="tags/GORM/" href="/tags/GORM/" style="font-size: 1.15em; color: rgb(36, 108, 109)">GORM<sup>1</sup></a><a id="tags/åç¨‹/" href="/tags/%E5%8D%8F%E7%A8%8B/" style="font-size: 1.15em; color: rgb(127, 40, 48)">åç¨‹<sup>1</sup></a><a id="tags/goroutine/" href="/tags/goroutine/" style="font-size: 1.15em; color: rgb(193, 144, 76)">goroutine<sup>1</sup></a><a id="tags/æ•°æ®å¤„ç†/" href="/tags/%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/" style="font-size: 1.15em; color: rgb(142, 69, 75)">æ•°æ®å¤„ç†<sup>1</sup></a><a id="tags/çˆ¬è™«/" href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 1.15em; color: rgb(75, 129, 23)">çˆ¬è™«<sup>1</sup></a><a id="tags/åå°„/" href="/tags/%E5%8F%8D%E5%B0%84/" style="font-size: 1.15em; color: rgb(31, 156, 188)">åå°„<sup>1</sup></a><a id="tags/reflect/" href="/tags/reflect/" style="font-size: 1.15em; color: rgb(153, 182, 153)">reflect<sup>1</sup></a><a id="tags/JumpServer/" href="/tags/JumpServer/" style="font-size: 1.15em; color: rgb(69, 150, 106)">JumpServer<sup>1</sup></a><a id="tags/å ¡å’æœº/" href="/tags/%E5%A0%A1%E5%9E%92%E6%9C%BA/" style="font-size: 1.15em; color: rgb(186, 100, 0)">å ¡å’æœº<sup>1</sup></a><a id="tags/Kong/" href="/tags/Kong/" style="font-size: 1.2em; color: rgb(146, 23, 85)">Kong<sup>3</sup></a><a id="tags/OAuth2-0/" href="/tags/OAuth2-0/" style="font-size: 1.15em; color: rgb(88, 80, 100)">OAuth2.0<sup>1</sup></a><a id="tags/iptables/" href="/tags/iptables/" style="font-size: 1.15em; color: rgb(84, 43, 112)">iptables<sup>1</sup></a><a id="tags/MongoDB/" href="/tags/MongoDB/" style="font-size: 1.2em; color: rgb(96, 103, 152)">MongoDB<sup>3</sup></a><a id="tags/NoSQL/" href="/tags/NoSQL/" style="font-size: 1.29em; color: rgb(0, 35, 136)">NoSQL<sup>7</sup></a><a id="tags/ä¸»ä»å¤åˆ¶/" href="/tags/%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/" style="font-size: 1.34em; color: rgb(76, 65, 192)">ä¸»ä»å¤åˆ¶<sup>12</sup></a><a id="tags/MySQL/" href="/tags/MySQL/" style="font-size: 1.42em; color: rgb(99, 23, 40)">ğŸŒ²MySQL<sup>26</sup></a><a id="tags/è¯»å†™åˆ†ç¦»/" href="/tags/%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB/" style="font-size: 1.23em; color: rgb(149, 103, 166)">è¯»å†™åˆ†ç¦»<sup>4</sup></a><a id="tags/é«˜å¯ç”¨/" href="/tags/%E9%AB%98%E5%8F%AF%E7%94%A8/" style="font-size: 1.31em; color: rgb(100, 68, 105)">é«˜å¯ç”¨<sup>8</sup></a><a id="tags/MHA/" href="/tags/MHA/" style="font-size: 1.18em; color: rgb(74, 118, 28)">MHA<sup>2</sup></a><a id="tags/åˆ†å¸ƒå¼/" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 1.26em; color: rgb(36, 13, 141)">åˆ†å¸ƒå¼<sup>5</sup></a><a id="tags/MyCAT/" href="/tags/MyCAT/" style="font-size: 1.2em; color: rgb(158, 178, 31)">MyCAT<sup>3</sup></a><a id="tags/å‚ç›´æ‹†åˆ†/" href="/tags/%E5%9E%82%E7%9B%B4%E6%8B%86%E5%88%86/" style="font-size: 1.15em; color: rgb(134, 59, 45)">å‚ç›´æ‹†åˆ†<sup>1</sup></a><a id="tags/é”/" href="/tags/%E9%94%81/" style="font-size: 1.15em; color: rgb(82, 157, 98)">é”<sup>1</sup></a><a id="tags/ACID/" href="/tags/ACID/" style="font-size: 1.15em; color: rgb(0, 59, 101)">ACID<sup>1</sup></a><a id="tags/äº‹åŠ¡/" href="/tags/%E4%BA%8B%E5%8A%A1/" style="font-size: 1.15em; color: rgb(88, 96, 53)">äº‹åŠ¡<sup>1</sup></a><a id="tags/æ—¥å¿—ç®¡ç†/" href="/tags/%E6%97%A5%E5%BF%97%E7%AE%A1%E7%90%86/" style="font-size: 1.23em; color: rgb(112, 170, 94)">æ—¥å¿—ç®¡ç†<sup>4</sup></a><a id="tags/SQL/" href="/tags/SQL/" style="font-size: 1.2em; color: rgb(99, 131, 19)">SQL<sup>3</sup></a><a id="tags/ä¸€è‡´æ€§hashç®—æ³•/" href="/tags/%E4%B8%80%E8%87%B4%E6%80%A7hash%E7%AE%97%E6%B3%95/" style="font-size: 1.15em; color: rgb(45, 36, 164)">ä¸€è‡´æ€§hashç®—æ³•<sup>1</sup></a><a id="tags/GPU/" href="/tags/GPU/" style="font-size: 1.15em; color: rgb(127, 197, 55)">GPU<sup>1</sup></a><a id="tags/nvidia/" href="/tags/nvidia/" style="font-size: 1.15em; color: rgb(150, 118, 29)">nvidia<sup>1</sup></a><a id="tags/PAM/" href="/tags/PAM/" style="font-size: 1.15em; color: rgb(190, 126, 166)">PAM<sup>1</sup></a><a id="tags/Ansible/" href="/tags/Ansible/" style="font-size: 1.15em; color: rgb(133, 172, 57)">Ansible<sup>1</sup></a><a id="tags/Playbook/" href="/tags/Playbook/" style="font-size: 1.15em; color: rgb(29, 74, 188)">Playbook<sup>1</sup></a><a id="tags/Redis/" href="/tags/Redis/" style="font-size: 1.26em; color: rgb(109, 175, 164)">Redis<sup>5</sup></a><a id="tags/tools/" href="/tags/tools/" style="font-size: 1.15em; color: rgb(91, 199, 176)">tools<sup>1</sup></a><a id="tags/SVN/" href="/tags/SVN/" style="font-size: 1.15em; color: rgb(178, 83, 97)">SVN<sup>1</sup></a><a id="tags/Zabbix/" href="/tags/Zabbix/" style="font-size: 1.23em; color: rgb(200, 120, 168)">Zabbix<sup>4</sup></a><a id="tags/Zookeeper/" href="/tags/Zookeeper/" style="font-size: 1.2em; color: rgb(79, 123, 92)">Zookeeper<sup>3</sup></a><a id="tags/gRPC/" href="/tags/gRPC/" style="font-size: 1.15em; color: rgb(160, 166, 105)">gRPC<sup>1</sup></a><a id="tags/Kubernetes/" href="/tags/Kubernetes/" style="font-size: 1.4em; color: rgb(172, 86, 80)">â›µKubernetes<sup>21</sup></a><a id="tags/place/" href="/tags/place/" style="font-size: 1.15em; color: rgb(41, 39, 129)">place<sup>1</sup></a><a id="tags/mysqlå¤‡ä»½/" href="/tags/mysql%E5%A4%87%E4%BB%BD/" style="font-size: 1.15em; color: rgb(61, 153, 67)">mysqlå¤‡ä»½<sup>1</sup></a><a id="tags/å¼¹æ€§ä¼¸ç¼©/" href="/tags/%E5%BC%B9%E6%80%A7%E4%BC%B8%E7%BC%A9/" style="font-size: 1.15em; color: rgb(39, 115, 30)">å¼¹æ€§ä¼¸ç¼©<sup>1</sup></a><a id="tags/è°ƒåº¦ç­–ç•¥/" href="/tags/%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5/" style="font-size: 1.15em; color: rgb(175, 103, 135)">è°ƒåº¦ç­–ç•¥<sup>1</sup></a><a id="tags/æ•°æ®å¤‡ä»½/" href="/tags/%E6%95%B0%E6%8D%AE%E5%A4%87%E4%BB%BD/" style="font-size: 1.18em; color: rgb(64, 61, 44)">æ•°æ®å¤‡ä»½<sup>2</sup></a><a id="tags/OPENVPN/" href="/tags/OPENVPN/" style="font-size: 1.15em; color: rgb(127, 152, 45)">OPENVPN<sup>1</sup></a><a id="tags/DNS/" href="/tags/DNS/" style="font-size: 1.15em; color: rgb(120, 93, 138)">DNS<sup>1</sup></a><a id="tags/æ ‘è“æ´¾/" href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" style="font-size: 1.15em; color: rgb(12, 31, 57)">æ ‘è“æ´¾<sup>1</sup></a><a id="tags/Minecraft/" href="/tags/Minecraft/" style="font-size: 1.15em; color: rgb(92, 181, 34)">Minecraft<sup>1</sup></a><a id="tags/ä¼˜åŒ–/" href="/tags/%E4%BC%98%E5%8C%96/" style="font-size: 1.15em; color: rgb(93, 61, 168)">ä¼˜åŒ–<sup>1</sup></a><a id="tags/Apollo/" href="/tags/Apollo/" style="font-size: 1.15em; color: rgb(46, 67, 37)">Apollo<sup>1</sup></a><a id="tags/Canal/" href="/tags/Canal/" style="font-size: 1.15em; color: rgb(151, 97, 7)">Canal<sup>1</sup></a><a id="tags/å¤šè¡¨è”æŸ¥/" href="/tags/%E5%A4%9A%E8%A1%A8%E8%81%94%E6%9F%A5/" style="font-size: 1.15em; color: rgb(148, 200, 30)">å¤šè¡¨è”æŸ¥<sup>1</sup></a><a id="tags/CI-CD/" href="/tags/CI-CD/" style="font-size: 1.18em; color: rgb(85, 46, 198)">CI/CD<sup>2</sup></a><a id="tags/ç½‘ç»œç¼–ç¨‹/" href="/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" style="font-size: 1.15em; color: rgb(127, 79, 52)">ç½‘ç»œç¼–ç¨‹<sup>1</sup></a><a id="tags/é¢å‘å¯¹è±¡/" href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" style="font-size: 1.15em; color: rgb(103, 172, 46)">é¢å‘å¯¹è±¡<sup>1</sup></a><a id="tags/æ°´å¹³æ‹†åˆ†/" href="/tags/%E6%B0%B4%E5%B9%B3%E6%8B%86%E5%88%86/" style="font-size: 1.15em; color: rgb(10, 4, 3)">æ°´å¹³æ‹†åˆ†<sup>1</sup></a><a id="tags/ç´¢å¼•/" href="/tags/%E7%B4%A2%E5%BC%95/" style="font-size: 1.15em; color: rgb(89, 110, 53)">ç´¢å¼•<sup>1</sup></a><a id="tags/Rediså“¨å…µ/" href="/tags/Redis%E5%93%A8%E5%85%B5/" style="font-size: 1.15em; color: rgb(181, 146, 113)">Rediså“¨å…µ<sup>1</sup></a><a id="tags/Terraform/" href="/tags/Terraform/" style="font-size: 1.15em; color: rgb(131, 136, 102)">Terraform<sup>1</sup></a><a id="tags/åŸºç¡€è®¾æ–½å³ä»£ç /" href="/tags/%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD%E5%8D%B3%E4%BB%A3%E7%A0%81/" style="font-size: 1.15em; color: rgb(62, 167, 121)">åŸºç¡€è®¾æ–½å³ä»£ç <sup>1</sup></a><a id="tags/å…¬æœ‰äº‘ç¼–æ’/" href="/tags/%E5%85%AC%E6%9C%89%E4%BA%91%E7%BC%96%E6%8E%92/" style="font-size: 1.15em; color: rgb(51, 148, 61)">å…¬æœ‰äº‘ç¼–æ’<sup>1</sup></a><a id="tags/æ•°æ®æŒä¹…åŒ–/" href="/tags/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/" style="font-size: 1.15em; color: rgb(74, 76, 99)">æ•°æ®æŒä¹…åŒ–<sup>1</sup></a><a id="tags/Workload/" href="/tags/Workload/" style="font-size: 1.15em; color: rgb(131, 2, 200)">Workload<sup>1</sup></a><a id="tags/CNI/" href="/tags/CNI/" style="font-size: 1.15em; color: rgb(18, 89, 152)">CNI<sup>1</sup></a><a id="tags/æœåŠ¡å‘ç°/" href="/tags/%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0/" style="font-size: 1.15em; color: rgb(107, 91, 67)">æœåŠ¡å‘ç°<sup>1</sup></a><a id="tags/æ— äººåº”ç­”/" href="/tags/%E6%97%A0%E4%BA%BA%E5%BA%94%E7%AD%94/" style="font-size: 1.15em; color: rgb(97, 98, 26)">æ— äººåº”ç­”<sup>1</sup></a><a id="tags/preseed/" href="/tags/preseed/" style="font-size: 1.15em; color: rgb(43, 107, 135)">preseed<sup>1</sup></a><a id="tags/æ•°æ®åº“ä¼˜åŒ–/" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96/" style="font-size: 1.15em; color: rgb(183, 199, 31)">æ•°æ®åº“ä¼˜åŒ–<sup>1</sup></a><a id="tags/å®¹å™¨ç¼–æ’/" href="/tags/%E5%AE%B9%E5%99%A8%E7%BC%96%E6%8E%92/" style="font-size: 1.15em; color: rgb(105, 131, 4)">å®¹å™¨ç¼–æ’<sup>1</sup></a><a id="tags/Prometheus/" href="/tags/Prometheus/" style="font-size: 1.15em; color: rgb(146, 119, 134)">Prometheus<sup>1</sup></a><a id="tags/StatefuSet/" href="/tags/StatefuSet/" style="font-size: 1.15em; color: rgb(176, 75, 197)">StatefuSet<sup>1</sup></a><a id="tags/Helm-v3/" href="/tags/Helm-v3/" style="font-size: 1.15em; color: rgb(18, 5, 30)">Helm v3<sup>1</sup></a><a id="tags/SHELL/" href="/tags/SHELL/" style="font-size: 1.15em; color: rgb(52, 173, 79)">SHELL<sup>1</sup></a><a id="tags/RAID/" href="/tags/RAID/" style="font-size: 1.15em; color: rgb(118, 76, 47)">RAID<sup>1</sup></a></div></div></div></div><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-sun"></i><i class="fas fa-moon"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightmenu"><div class="rightmenu-group rightmenu-small"><div class="rightmenu-item" id="menu-backward" onclick="window.history.back()"><i class="fas fa-arrow-left"></i></div><div class="rightmenu-item" id="menu-forward" onclick="window.history.forward()"><i class="fas fa-arrow-right"></i></div><div class="rightmenu-item" id="menu-refresh" onclick="window.history.reload()"><i class="fas fa-arrow-rotate-right"></i></div><div class="rightmenu-item" id="menu-top" onclick="btf.scrollToDest(0, 500)"><i class="fas fa-arrow-up"></i></div></div><div class="rightmenu-group rightmenu-line" id="rightmenu-text"><div class="rightmenu-item" id="menu-copy"><i class="fas fa-copy"></i><span>å¤åˆ¶å†…å®¹</span></div><div class="rightmenu-item" id="menu-comment"><i class="fas fa-comment"></i><span>å¼•ç”¨è¯„è®º</span></div><div class="rightmenu-item" id="menu-paste"><i class="fas fa-paste"></i><span>ç²˜è´´æ–‡æœ¬</span></div><div class="rightmenu-item" id="menu-search"><i class="fas fa-search"></i><span>åœ¨æœ¬ç«™æœç´¢</span></div><div class="rightmenu-item" id="menu-baidu"><i class="fas fa-search-plus"></i><span>å»ç™¾åº¦æœç´¢</span></div></div><div class="rightmenu-group rightmenu-line" id="rightmenu-href"><div class="rightmenu-item" id="menu-copy-image"><i class="fas fa-copy"></i><span>å¤åˆ¶å›¾ç‰‡</span></div><div class="rightmenu-item" id="menu-download-image"><i class="fas fa-download"></i><span>ä¸‹è½½å›¾ç‰‡</span></div><div class="rightmenu-item" id="menu-link"><i class="fas fa-link"></i><span>åˆ†äº«é“¾æ¥</span></div><div class="rightmenu-item" id="menu-window"><i class="fas fa-window-restore"></i><span>æ–°çª—å£æ‰“å¼€</span></div></div><div class="rightmenu-group rightmenu-line" id="rightmenu-post"><a class="rightmenu-item" id="menu-random" href="/random/"><i class="fas fa-random"></i><span>éšæœºæ–‡ç« </span></a><a class="rightmenu-item" id="menu-categories" href="/categories/"><i class="fas fa-shapes"></i><span>å…¨éƒ¨åˆ†ç±»</span></a><a class="rightmenu-item" id="menu-tags" href="/tags/"><i class="fas fa-tags"></i><span>æ‰€æœ‰æ ‡ç­¾</span></a><div class="rightmenu-item" id="menu-share"><i class="fas fa-share-square"></i><span>åˆ†äº«æœ¬é¡µ</span></div></div><div class="rightmenu-group rightmenu-line" id="rightmenu-site"><a class="rightmenu-item" id="menu-message" href="/message/"><i class="fas fa-envelope"></i><span>ç•™è¨€ä¿¡ç®±</span></a><a class="rightmenu-item" id="menu-about" href="/about/"><i class="fas fa-address-card"></i><span>å…³äºæœ¬ç«™</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/eurkon/color-thief.min.js"></script><script defer="" src="/js/eurkon/eurkon.js"></script><script defer="" data-pjax="" src="/js/eurkon/refresh.js"></script><script src="/js/tw_cn.js"></script><script src="/css/fei/fancybox.umd.min.js"></script><script src="/css/fei/instantpage.min.js" type="module"></script><script src="/css/fei/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script defer="" data-pjax="" async="" src="//at.alicdn.com/t/font_2358265_expoyqe85d4.js"></script><script defer="" data-pjax="" src="/css/fei/danmaku-tags.js"></script><script defer="" data-pjax="" src="/css/fei/tags-fold.js"></script><script defer="" data-pjax="" src="/js/fei/skill-color.js"></script><div class="aplayer no-destroy" data-id="9114857987" data-server="netease" data-type="playlist" data-order="random" data-fixed="true" data-autoplay="false"> </div><link rel="stylesheet" href="/css/fei/APlayer.min.css" media="print" onload="this.media='all'"><script src="/css/fei/APlayer.min.js"></script><script src="/css/fei/Meting.min.js"></script><script src="/css/fei/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: true,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', 'G-0MFDY8HY5K', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-0MFDY8HY5K');

})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async="" data-pjax="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/haru01.model.json"},"bottom":-40,"display":{"position":"right","width":190,"height":380,"hOffset":5},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html><script>var posts=["forward/60c1bc2d.html","forward/882d9505.html","forward/408a4bb8.html","forward/d17c8c9b.html","forward/d063782.html","forward/download.html","forward/17b35260.html","forward/131c756.html","forward/47eea66c.html","forward/eb065b59.html","forward/873540ab.html","forward/4e89d84.html","forward/a5d41a5c.html","forward/d12df344.html","forward/c675163c.html","forward/f61b8e50.html","forward/8f91bfec.html","forward/d5b63f7f.html","forward/f9d199b7.html","forward/420acb0d.html","forward/bac240f7.html","forward/1e56645c.html","forward/d7240237.html","forward/c4bb5371.html","forward/6c0d75ae.html","forward/3053135c.html","forward/74c8159a.html","forward/bbb9c58b.html","forward/c919a25c.html","forward/557ea64b.html","forward/49de8711.html","forward/f34e607d.html","forward/c3e1b71a.html","forward/bc8a646.html","forward/93ea067.html","forward/62bf20bb.html","forward/cb26d424.html","forward/3c4a0863.html","forward/ddc093b3.html","forward/4f3d60c1.html","forward/a7fae6f0.html","forward/ae362167.html","forward/c6f90662.html","forward/36cbf320.html","forward/67af6371.html","forward/fb94f251.html","forward/212d60e3.html","forward/b571ca78.html","forward/fabc6ce1.html","forward/ae26d423.html","forward/f353577b.html","forward/2f09977b.html","forward/3837938a.html","forward/7be7c575.html","forward/48a90e5c.html","forward/4a17b156.html","forward/5234d9e2.html","forward/3ea5fff1.html","forward/2aa52898.html","forward/55d102bd.html","forward/ad8d3f77.html","forward/1758bdeb.html","forward/6cfd7a23.html","forward/8cd3cd17.html","forward/8e9bbd7d.html","forward/2cfbf2d2.html","forward/d4ac701.html","forward/8bd2a16a.html","forward/d6f16b84.html","forward/91db5a91.html","forward/29b0e6a9.html","forward/d36764c1.html","forward/852a3e1.html","forward/13c392b.html","forward/82cd681d.html","forward/e94e48aa.html","forward/40c70ce.html","forward/c3e55136.html","forward/84c0fcc7.html","forward/69e1266e.html","forward/663d93c2.html","forward/68023dec.html","forward/da64184b.html","forward/ae6c7518.html","forward/3df8560c.html","forward/b36ee5af.html","forward/1051b489.html","forward/dc57d8c4.html","forward/8269a7fd.html","forward/61316209.html","forward/503970b4.html","forward/8ed285a0.html","forward/ff7280bd.html","forward/b17eefd4.html","forward/5c41384a.html","forward/14a32ee2.html","forward/58eea07e.html","forward/6b4e4d76.html","forward/dc57d8c5.html","forward/7139bb18.html","forward/649a95fd.html","forward/57e2aa11.html","forward/e9795f03.html","forward/312ec9e0.html"];function toRandomPost(){ window.pjax ? pjax.loadUrl('/'+posts[Math.floor(Math.random()*posts.length)]) : window.open('/'+posts[Math.floor(Math.random()*posts.length)], "_self"); };</script><script>var flinks=[{"name":"Eurkon","link":"https://blog.eurkon.com","avatar":"https://blog.eurkon.com/images/user/avatar.jpg","descr":"ä¸åªæ˜¯ä»£ç çš„æ¬è¿å·¥"},{"name":"è±Œè±†å¤šå¤š","link":"https://wandouduoduo.github.io/","avatar":"/img/link/index.png","descr":"èµ„æ·±æ²ªæ¼‚è¿ç»´å·¥ç¨‹å¸ˆ"},{"name":"ç¼ºç¼º","link":"https://www.quewaner.com/","avatar":"https://q2.qlogo.cn/headimg_dl?dst_uin=3393597524&spec=100","descr":"èµ„æ·±å‰ç«¯å·¥ç¨‹å¸ˆ"},{"name":"yiyun","link":"https://moeci.com/","avatar":"https://q2.qlogo.cn/headimg_dl?dst_uin=2284407619&spec=100","descr":"å…¨æ ˆå¼€å‘"},{"name":"äºŒå“ˆå°çª","link":"https://www.moeeh.cn/","avatar":"https://www.moeeh.cn/eh/eh.png","descr":"è‹¦é…’æŠ˜æŸ³ä»Šç›¸ç¦» æ— é£æ— æœˆä¹Ÿæ— ä½ "},{"name":"Akilarã®ç³–æœå±‹","link":"https://akilar.top/","avatar":"https://unpkg.zhimg.com/akilar-candyassets/image/siteicon/favicon.png","descr":"æœŸå¾…æ‚¨çš„å…‰ä¸´ï¼"},{"name":"APPå–µ","link":"https://www.appmiu.com/","avatar":"https://q2.qlogo.cn/headimg_dl?dst_uin=904037151&spec=100","descr":"é˜¿å–µä¼˜è´¨åº”ç”¨åˆ†äº«"},{"name":"ä¸ƒæ˜Ÿæ¯”ç‰¹","link":"https://www.qixingbit.com","avatar":"https://q2.qlogo.cn/headimg_dl?dst_uin=320406741&spec=100","descr":"ä¿¡æ¯å®‰å…¨,ç½‘ç»œæŠ€æœ¯,äº¤æ¢è·¯ç”±,ç¼–ç¨‹,æ¼æ´æŒ–æ˜,CTF"},{"name":"ä¸€æœµå¤§å‘²èŠ±","link":"https://www.iiemo.com/","avatar":"https://www.iiemo.com/logo.png","descr":"èµ„æ·±NBå‰ç«¯å¤§ä½¬"},{"name":"å‘¨å°é›¨","link":"https://zxyy.me/","avatar":"https://q2.qlogo.cn/headimg_dl?dst_uin=1016673080&spec=100","descr":"PHPç¨‹åºçŒ¿"},{"name":"ACGé£Ÿå ‚","link":"https://canteen.globalacca.top/","avatar":"https://q2.qlogo.cn/headimg_dl?dst_uin=1478030465&spec=100","descr":"æ±‡é›†ACGã€åŠ¨æ¼«å’Œgalgameä¸ºä¸€ä½“çš„ç»¼åˆå°ç«™"},{"name":"æµ·æ‹¥","link":"https://haiyong.site","avatar":"https://haiyong.site/img/favicon.png","descr":"ä¸€æšä¹äºåˆ†äº«æŠ€æœ¯ä¸å¿«ä¹çš„åšä¸»"},{"name":"æ‚çƒ©é¥­","link":"https://zahui.fan","avatar":"https://q2.qlogo.cn/headimg_dl?dst_uin=393991732&spec=100","descr":"è¿ç»´ã€è¿ç»´å¼€å‘æŠ€æœ¯åˆ†äº«"},{"name":"å°é«˜å¯¼èˆª","link":"https://www.dhw22.com/","avatar":"https://www.dhw22.com/wp-content/uploads/2022/01/Favicon.png","descr":"èµ„æºç±»æŠ€æœ¯æ•™ç¨‹æ´»åŠ¨å¯¼èˆªåˆ†ç±»å¹³å°"},{"name":"SimpleHacèµ„æºç¤¾","link":"https://store.simplehac.cn/","avatar":"https://store.simplehac.cn/wp-content/uploads/2024/12/96e7a03a1e20241206225057.png","descr":"æƒ³ä½ æ‰€æƒ³ï¼Œè‡³ä½ æ‰€åŠ"},{"name":"åä¸ºå¼€æºé•œåƒç«™","link":"https://mirrors.huaweicloud.com/","avatar":"/img/link/huawei.png","descr":"æ„å»ºä¸‡ç‰©äº’è”çš„æ™ºèƒ½ä¸–ç•Œ"},{"name":"é˜¿é‡Œå¼€æºé•œåƒç«™","link":"https://mirrors.aliyun.com/","avatar":"/img/link/aliyun.png","descr":"ä¸ºäº†æ— æ³•è®¡ç®—çš„ä»·å€¼"},{"name":"ç½‘æ˜“å¼€æºé•œåƒç«™","link":"https://mirrors.163.com/","avatar":"/img/link/netease.png","descr":"ç½‘èšäººçš„åŠ›é‡"},{"name":"æœç‹å¼€æºé•œåƒç«™","link":"https://mirrors.sohu.com/","avatar":"/img/link/souhu.png","descr":"ä¸Šæœç‹ çŸ¥å¤©ä¸‹"},{"name":"æ¸…åå¼€æºé•œåƒç«™","link":"https://mirrors.tuna.tsinghua.edu.cn/","avatar":"/img/link/qh.png","descr":"è‡ªå¼ºä¸æ¯,åšå¾·è½½ç‰©"},{"name":"æµ™å¤§å¼€æºé•œåƒç«™","link":"https://mirrors.zju.edu.cn/","avatar":"/img/link/zd.png","descr":"å…¼æ€»æ¡è´¯,çŸ¥è‡³çŸ¥ç»ˆ"},{"name":"ä¸­ç§‘å¤§å¼€æºé•œåƒç«™","link":"https://mirrors.ustc.edu.cn/","avatar":"/img/link/zkd.png","descr":"çº¢ä¸“å¹¶è¿›,ç†å®äº¤è"},{"name":"å…°å¤§å¼€æºé•œåƒç«™","link":"https://mirror.lzu.edu.cn/","avatar":"/img/link/ld.png","descr":"ç‹¬æ ‘ä¸€å¸œ,è‡ªå¼ºä¸æ¯"}];function toRandomFlink(){window.open(flinks[Math.floor(Math.random()*flinks.length)].link);};</script>