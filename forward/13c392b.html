<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>Golang-内置容器 | Maxbit</title><meta name="author" content="饼铛"><meta name="copyright" content="饼铛"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="变量和常量虽能存储数据，但是在编写一些逻辑稍复杂的程序中，往往需要存储更多、更复杂且不同类型的数据，这些数据一般存储在Go语言的内置容器中。  Go语言的内置容器主要有数组、切片和映射。下面详细介绍以上三种内置容器的特点和使用方法，学习目标：在编程中能使用恰当的容器存储数据并对其进行增加、删除和修改等操作。  数组 Array切片 Slice映射 Map 数组是具有相同类型且长度固定的一组数据项">
<meta property="og:type" content="article">
<meta property="og:title" content="Golang-内置容器">
<meta property="og:url" content="https://cakepanit.com/forward/13c392b.html">
<meta property="og:site_name" content="Maxbit">
<meta property="og:description" content="变量和常量虽能存储数据，但是在编写一些逻辑稍复杂的程序中，往往需要存储更多、更复杂且不同类型的数据，这些数据一般存储在Go语言的内置容器中。  Go语言的内置容器主要有数组、切片和映射。下面详细介绍以上三种内置容器的特点和使用方法，学习目标：在编程中能使用恰当的容器存储数据并对其进行增加、删除和修改等操作。  数组 Array切片 Slice映射 Map 数组是具有相同类型且长度固定的一组数据项">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cakepanit.com/images/pasted-2.png">
<meta property="article:published_time" content="2021-07-26T18:57:00.000Z">
<meta property="article:modified_time" content="2021-08-25T08:42:20.000Z">
<meta property="article:author" content="饼铛">
<meta property="article:tag" content="Golang">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cakepanit.com/images/pasted-2.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://cakepanit.com/forward/13c392b.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":100,"languages":{"author":"作者: 饼铛","link":"链接: ","source":"来源: Maxbit","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Golang-内置容器',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2021-08-25 16:42:20'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = url => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      link.onload = () => resolve()
      link.onerror = () => reject()
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/Swiper/8.0.6/swiper-bundle.min.css"><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/Swiper/8.0.6/swiper-bundle.min.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/pace/1.2.4/pace.min.js"></script><meta name="generator" content="Hexo 5.4.2"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">93</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">72</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-fw fas fa-book-open"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fa-fw fas fa-archive"></i><span> 文章列表</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fa-fw fas fa-shapes"></i><span> 全部分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa-fw fas fa-tags"></i><span> 所有标签</span></a></li><li><a class="site-page child" href="/charts/"><i class="fa-fw fa-fw fas fa-chart-line"></i><span> 文章统计</span></a></li><li><a class="site-page child" href="javascript:toRandomPost();"><i class="fa-fw fa-fw fas fa-random"></i><span> 随便看看</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-fw fas fa-link"></i><span> 导航</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fa-fw fas fa-child"></i><span> 友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fa-fw fas fa-address-card"></i><span> 关于本站</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 其他</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-file-image"></i><span> 收藏图库</span></a></li><li><a class="site-page child" href="/bookshelf/"><i class="fa-fw fas fa-bookmark"></i><span> 收藏书单</span></a></li><li><a class="site-page child" href="/status"><i class="fa-fw fab fa-accessible-icon"></i><span> 站点监控</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/images/pasted-2.png')"><nav id="nav"><div id="nav-group"><span id="blog-info"> <a class="site-page" href="/" title="Maxbit"><span class="site-name">Maxbit</span><i class="fas fa-home"></i></a></span><span id="page_name"><a class="site-page" id="page-title" title="回到顶部" onclick="btf.scrollToDest(0, 500)"><span>Maxbit</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-fw fas fa-book-open"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fa-fw fas fa-archive"></i><span> 文章列表</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fa-fw fas fa-shapes"></i><span> 全部分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa-fw fas fa-tags"></i><span> 所有标签</span></a></li><li><a class="site-page child" href="/charts/"><i class="fa-fw fa-fw fas fa-chart-line"></i><span> 文章统计</span></a></li><li><a class="site-page child" href="javascript:toRandomPost();"><i class="fa-fw fa-fw fas fa-random"></i><span> 随便看看</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa-fw fas fa-link"></i><span> 导航</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fa-fw fas fa-child"></i><span> 友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fa-fw fas fa-address-card"></i><span> 关于本站</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 其他</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-file-image"></i><span> 收藏图库</span></a></li><li><a class="site-page child" href="/bookshelf/"><i class="fa-fw fas fa-bookmark"></i><span> 收藏书单</span></a></li><li><a class="site-page child" href="/status"><i class="fa-fw fab fa-accessible-icon"></i><span> 站点监控</span></a></li></ul></div></div></div><div id="hotkey"><div id="setting-button" onclick="eurkon.switchRightSide();"><a class="site-page" href="javascript:void(0);" title="设置"><i class="fas fa-screwdriver-wrench fa-fw"></i></a></div><div id="top-button"><a class="site-page" href="javascript:void(0);" title="回到顶部" onclick="btf.scrollToDest(0, 500)"><span class="scroll-percent"></span><i class="fas fa-arrow-up fa-fw"></i></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-cover"><img class="cover" id="post-cover-img" src="/images/pasted-2.png" alt="cover"></div><div id="post-info"><div id="post-meta"><div class="meta-firstline"><span class="post-meta-categories"><i class="fas fa-shapes fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Golang/">Golang</a></span><span class="post-meta-tags"><span class="post-meta-separator">|</span><i class="fas fa-tags fa-fw post-meta-icon"></i><a class="post-meta-tags" href="/tags/Golang/">📝Golang</a></span></div><h1 class="post-title">Golang-内置容器</h1><div class="meta-secondline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-07-26T18:57:00.000Z" title="发表于 2021-07-27 02:57:00">2021-07-27</time></span><span class="post-meta-separator">|</span><span class="post-meta-date"><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-08-25T08:42:20.000Z" title="更新于 2021-08-25 16:42:20">2021-08-25</time></span><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">6.1k</span><span class="post-meta-separator">|</span></span><span class="post-meta-min2read"><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>24分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Golang-内置容器"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div><div id="post"><article class="post-content" id="article-container"><blockquote>
<p>变量和常量虽能存储数据，但是在编写一些逻辑稍复杂的程序中，往往需要存储更多、更复杂且不同类型的数据，这些数据一般存储在Go语言的内置容器中。</p>
</blockquote>
<p>Go语言的内置容器主要有数组、切片和映射。<br>下面详细介绍以上三种内置容器的特点和使用方法，学习目标：在编程中能使用恰当的容器存储数据并对其进行增加、删除和修改等操作。</p>
<p><img src="/images/pasted-86.png" alt="rq"></p>
<div class="tabs" id="内置容器"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#内置容器-1">数组 Array</button></li><li class="tab"><button type="button" data-href="#内置容器-2">切片 Slice</button></li><li class="tab"><button type="button" data-href="#内置容器-3">映射 Map</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="内置容器-1"><ul>
<li>数组是具有<strong>相同类型且长度固定</strong>的一组数据项序列，这组数据项序列对应存放在内存中的一块连续区域中。</li>
<li>数组中存放的元素类型可以是<strong>整型、字符串或其他自定义类型</strong>。数组在<strong>使用前需先声明</strong>，声明时必须<strong>指定数组的大小且数组大小之后不可再变</strong>。</li>
<li>数组元素可以通过数组下标来读取或修改，数组下标从0开始，第一个元素的数组下标为0，第二个元素的数组下标为1，以此类推。</li>
</ul>
<p><img src="/images/pasted-76.png" alt="array"></p>
<div class="tabs" id="操作数组"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#操作数组-1">声明数组</button></li><li class="tab"><button type="button" data-href="#操作数组-2">初始化数组</button></li><li class="tab"><button type="button" data-href="#操作数组-3">数组增删</button></li><li class="tab"><button type="button" data-href="#操作数组-4">range关键字</button></li><li class="tab"><button type="button" data-href="#操作数组-5">遍历数组</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="操作数组-1"><p>数组声明格式如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> 数组变量名 [数组长度]元素类型</span><br></pre></td></tr></table></figure>
<p>例如，声明数组student，长度为3，元素类型为string：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> student [<span class="number">3</span>]<span class="type">string</span></span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> array [<span class="number">3</span>]<span class="type">string</span></span><br><span class="line">	fmt.Println(array)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// [  ]</span></span><br></pre></td></tr></table></figure>
<p>由于以上代码仅声明了数组，没有对数组进行赋值，因此打印出来的数组为空数组。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="操作数组-2"><p>数组可在声明后进行赋值，样例如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> student [<span class="number">3</span>]<span class="type">string</span></span><br><span class="line">student = [<span class="number">3</span>]<span class="type">string</span>&#123;<span class="string">&quot;Tom&quot;</span>,<span class="string">&quot;Ben&quot;</span>,<span class="string">&quot;Peter&quot;</span>&#125;</span><br></pre></td></tr></table></figure>

<p>数组可在声明时进行赋值，样例如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> student = [<span class="number">3</span>]<span class="type">string</span>&#123;<span class="string">&quot;Tom&quot;</span>,<span class="string">&quot;Ben&quot;</span>,<span class="string">&quot;Peter&quot;</span>&#125;</span><br></pre></td></tr></table></figure>
<p>使用这种方式初始化数组，需要保证大括号里面的元素数量和数组大小一致。</p>
<p>如果忽略中括号内的数字，不设置数组大小，Go语言编译器在编译时也可根据元素的个数来设置数组的大小，通过用“…”代替数组大小来实现。样例如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> student = [...]<span class="type">string</span>&#123;<span class="string">&quot;Tom&quot;</span>,<span class="string">&quot;Ben&quot;</span>,<span class="string">&quot;Peter&quot;</span>&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> array = [...]<span class="type">string</span>&#123;<span class="string">&quot;felix&quot;</span>,<span class="string">&quot;xiaodongwang&quot;</span>,<span class="string">&quot;mafeifei&quot;</span>&#125;</span><br><span class="line">	fmt.Println(array)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// [felix xiaodongwang mafeifei]</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="操作数组-3"><p>append切片添加: </p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">    a := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">    a = <span class="built_in">append</span>(a, <span class="number">1</span>)            <span class="comment">// 追加1个元素</span></span><br><span class="line">    a = <span class="built_in">append</span>(a, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)      <span class="comment">// 追加多个元素, 手写解包方式</span></span><br><span class="line">    a = <span class="built_in">append</span>(a,[]<span class="type">int</span>&#123;<span class="number">11</span>,<span class="number">11</span>,<span class="number">11</span>&#125;...)    <span class="comment">// 追加一个切片, 切片需要解包</span></span><br><span class="line">    a = <span class="built_in">append</span>([]<span class="type">int</span>&#123;<span class="number">22</span>,<span class="number">22</span>,<span class="number">22</span>&#125;,a...)    <span class="comment">// 在开头添加1个切片</span></span><br><span class="line">    a = <span class="built_in">append</span>(a[:<span class="number">0</span>], <span class="built_in">append</span>([]<span class="type">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;, a[<span class="number">0</span>:]...)...) <span class="comment">// 在第0个位置插入切片</span></span><br><span class="line">    fmt.Println(a)</span><br><span class="line">    <span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(a);i++&#123;</span><br><span class="line">        fmt.Println(a[i])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>删除元素</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 从开头位置删除</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">    <span class="comment">//删除开头的元素可以直接移动数据指针：</span></span><br><span class="line">    a := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">    a = a[<span class="number">1</span>:] <span class="comment">// 删除开头1个元素</span></span><br><span class="line">    a = a[N:] <span class="comment">// 删除开头N个元素</span></span><br><span class="line">    fmt.Println(a)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//也可以不移动数据指针，但是将后面的数据向开头移动，可以用 append 原地完成</span></span><br><span class="line">    <span class="comment">//（所谓原地完成是指在原有的切片数据对应的内存区间内完成，不会导致内存空间结构的变化）：</span></span><br><span class="line">    a = []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">    a = <span class="built_in">append</span>(a[:<span class="number">0</span>], a[<span class="number">1</span>:]...) <span class="comment">// 删除开头1个元素</span></span><br><span class="line">    a = <span class="built_in">append</span>(a[:<span class="number">0</span>], a[N:]...) <span class="comment">// 删除开头N个元素</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//还可以用 copy() 函数来删除开头的元素：</span></span><br><span class="line">    a = []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, ...&#125;</span><br><span class="line">    a = <span class="built_in">append</span>(a[:i], a[i+<span class="number">1</span>:]...) <span class="comment">// 删除中间1个元素</span></span><br><span class="line">    a = <span class="built_in">append</span>(a[:i], a[i+N:]...) <span class="comment">// 删除中间N个元素</span></span><br><span class="line">    a = a[:i+<span class="built_in">copy</span>(a[i:], a[i+<span class="number">1</span>:])] <span class="comment">// 删除中间1个元素</span></span><br><span class="line">    a = a[:i+<span class="built_in">copy</span>(a[i:], a[i+N:])] <span class="comment">// 删除中间N个元素</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从中间位置删除</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">    <span class="comment">//对于删除中间的元素，需要对剩余的元素进行一次整体挪动，同样可以用 append 或 copy 原地完成：</span></span><br><span class="line">    a = []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, ...&#125;</span><br><span class="line">    a = <span class="built_in">append</span>(a[:i], a[i+<span class="number">1</span>:]...) <span class="comment">// 删除中间1个元素</span></span><br><span class="line">    a = <span class="built_in">append</span>(a[:i], a[i+N:]...) <span class="comment">// 删除中间N个元素</span></span><br><span class="line">    a = a[:i+<span class="built_in">copy</span>(a[i:], a[i+<span class="number">1</span>:])] <span class="comment">// 删除中间1个元素</span></span><br><span class="line">    a = a[:i+<span class="built_in">copy</span>(a[i:], a[i+N:])] <span class="comment">// 删除中间N个元素</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从尾部删除</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">    a = []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">    a = a[:<span class="built_in">len</span>(a)<span class="number">-1</span>] <span class="comment">// 删除尾部1个元素</span></span><br><span class="line">    a = a[:<span class="built_in">len</span>(a)-N] <span class="comment">// 删除尾部N个元素</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="操作数组-4"><p>range是Go语言中非常常用的一个关键字，其主要作用就是配合for关键字对数组以及之后会介绍到的切片和映射等数据结构进行<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E8%BF%AD%E4%BB%A3/8415523">迭代</a>。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> array = [...]<span class="type">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;</span><br><span class="line">	<span class="keyword">for</span> k, v := <span class="keyword">range</span> array &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;变量k&quot;</span>,k,<span class="string">&quot;变量v&quot;</span>,v)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//变量k 0 变量v 1</span></span><br><span class="line"><span class="comment">//变量k 1 变量v 2</span></span><br><span class="line"><span class="comment">//变量k 2 变量v 3</span></span><br><span class="line"><span class="comment">//变量k 3 变量v 4</span></span><br><span class="line"><span class="comment">//变量k 4 变量v 5</span></span><br><span class="line"><span class="comment">//变量k 5 变量v 6</span></span><br></pre></td></tr></table></figure>
<p>range后接的表达式称为range表达式，本例的range表达式为数组。在迭代时，关键字range会返回两个值，分别由变量k和v接收。其中k是当前循环迭代到的索引位置，v是该位置对应元素值的一份副本。</p>
<p>其他range表达式及其对应的返回值如下表：</p>
<table>
<thead>
<tr>
<th align="center">range 表达式</th>
<th align="center">第一返回值</th>
<th align="center">第二返回值</th>
</tr>
</thead>
<tbody><tr>
<td align="center">数组</td>
<td align="center">元素下标</td>
<td align="center">元素值</td>
</tr>
<tr>
<td align="center">切片</td>
<td align="center">元素下标</td>
<td align="center">元素值</td>
</tr>
<tr>
<td align="center">映射</td>
<td align="center">键</td>
<td align="center">值</td>
</tr>
<tr>
<td align="center">通道</td>
<td align="center">元素</td>
<td align="center">N/A</td>
</tr>
</tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="操作数组-5"><p>数组元素可以通过数组下标来读取或修改，数组下标从0开始，第一个元素的数组下标为0，第二个元素的数组下标为1，以此类推。<br>通过遍历数组的方式（for循环）来对其进行打印。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> array = [...]<span class="type">string</span>&#123;<span class="string">&quot;felix&quot;</span>,<span class="string">&quot;xiaodongwang&quot;</span>,<span class="string">&quot;mafeifei&quot;</span>&#125;</span><br><span class="line">	<span class="keyword">for</span> k,v := <span class="keyword">range</span> array &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;变量k&quot;</span>,k,<span class="string">&quot;变量v&quot;</span>,v)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//变量k 0 变量v felix</span></span><br><span class="line"><span class="comment">//变量k 1 变量v xiaodongwang</span></span><br><span class="line"><span class="comment">//变量k 2 变量v mafeifei</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="内置容器-2"><p>相对于数组，切片（slice）是一种更方便和强大的数据结构，它同样表示多个同类型元素的连续集合，但是切片本身并不存储任何元素，而只是对现有数组的引用。<br>切片结构包括：地址、长度和容量。</p>
<ul>
<li>地址：切片的地址一般指切片中第一个元素所指向的内存地址，用十六进制表示。</li>
<li>长度：切片中实际存在元素的个数。长度：切片中实际存在元素的个数。</li>
<li>容量：从切片的起始元素开始到其底层数组中的最后一个元素的个数。</li>
</ul>
<p>切片的长度和容量都是不固定的，可以通过追加元素使切片的长度和容量增大。<br>切片主要有三种生成方式：</p>
<ol>
<li>从数组生成一个新的切片；</li>
<li>从切片生成一个新的切片；</li>
<li>直接生成一个新的切片。</li>
</ol>
<div class="tabs" id="生成切片"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#生成切片-1">从数组生成一个新的切片</button></li><li class="tab"><button type="button" data-href="#生成切片-2">从切片生成一个新的切片</button></li><li class="tab"><button type="button" data-href="#生成切片-3">直接生成一个新的切片</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="生成切片-1"><p>从数组或切片生成新的切片语法格式如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">slice [开始位置:结束位置]</span><br></pre></td></tr></table></figure>
<p>动手写一个长度为3的student数组，我们可以生成一个新的切片student1，使用len()函数可获得当前切片长度，cap()函数可获得当前切片容量。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> student = [...]<span class="type">string</span>&#123;<span class="string">&quot;Tom&quot;</span>,<span class="string">&quot;Ben&quot;</span>,<span class="string">&quot;Peter&quot;</span>&#125;</span><br><span class="line">	<span class="keyword">var</span> student1 = student[<span class="number">1</span>:<span class="number">2</span>]</span><br><span class="line">	fmt.Println(<span class="string">&quot;student数组:&quot;</span>,student)</span><br><span class="line">	fmt.Println(<span class="string">&quot;student1切片:&quot;</span>,student1)</span><br><span class="line">	fmt.Println(<span class="string">&quot;student数组地址为:&quot;</span>,&amp;student[<span class="number">1</span>]) <span class="comment">//取student[1]元素的地址</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;student1切片地址为:&quot;</span>,&amp;student1[<span class="number">0</span>])<span class="comment">//取student1[0]元素的地址</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;student1切片长度为:&quot;</span>,<span class="built_in">len</span>(student1))</span><br><span class="line">	fmt.Println(<span class="string">&quot;student1切片容量为:&quot;</span>,<span class="built_in">cap</span>(student1))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//student数组: [Tom Ben Peter]</span></span><br><span class="line"><span class="comment">//student1切片: [Ben]</span></span><br><span class="line"><span class="comment">//student数组地址为: 0xc0000b6340</span></span><br><span class="line"><span class="comment">//student1切片地址为: 0xc0000b6340</span></span><br><span class="line"><span class="comment">//student1切片长度为: 1</span></span><br><span class="line"><span class="comment">//student1切片容量为: 2</span></span><br></pre></td></tr></table></figure>
<p>根据运行结果，我们可以归纳出从数组或切片生成新的切片有如下特性：</p>
<ul>
<li>新生成的切片长度：结束位置-开始位置。</li>
<li>新生成的切片取出的元素不包括结束位置对应的元素。</li>
<li>新生成的切片是对现有数组或切片的引用，其地址与截取的数组或切片开始位置对应的元素地址相同。</li>
<li>新生成的切片容量指从切片的起始元素开始到其底层数组中的最后一个元素的个数。(所以为什么切片的长度显示为1，而容量却是2)</li>
</ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="生成切片-2"><p>我们重新从student数组生成student1切片，再从student1切片生成student2切片。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> sudent = [...]<span class="type">string</span>&#123;<span class="string">&quot;wang&quot;</span>,<span class="string">&quot;yao&quot;</span>,<span class="string">&quot;fei&quot;</span>&#125;</span><br><span class="line">	<span class="keyword">var</span> sudent1 = sudent[<span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line">	<span class="keyword">var</span> sudent2 = sudent1[<span class="number">0</span>:<span class="number">1</span>]</span><br><span class="line">	fmt.Println(<span class="string">&quot;student数组&quot;</span>,sudent[:])</span><br><span class="line">	fmt.Println(<span class="string">&quot;sudent1切片&quot;</span>,sudent1[:])</span><br><span class="line">	fmt.Println(<span class="string">&quot;sudent1切片&quot;</span>,sudent2[:])</span><br><span class="line">	fmt.Println(<span class="string">&quot;student数组地址为&quot;</span>,&amp;sudent[<span class="number">1</span>])</span><br><span class="line">	fmt.Println(<span class="string">&quot;student1切片地址为&quot;</span>,&amp;sudent1[<span class="number">0</span>])</span><br><span class="line">	fmt.Println(<span class="string">&quot;student2切片地址为&quot;</span>,&amp;sudent2[<span class="number">0</span>])</span><br><span class="line">	fmt.Println(<span class="string">&quot;student1切片长度为&quot;</span>,<span class="built_in">len</span>(sudent1))</span><br><span class="line">	fmt.Println(<span class="string">&quot;student1切片容量为&quot;</span>,<span class="built_in">cap</span>(sudent1))</span><br><span class="line">	fmt.Println(<span class="string">&quot;student2切片长度为&quot;</span>,<span class="built_in">len</span>(sudent2))</span><br><span class="line">	fmt.Println(<span class="string">&quot;student2切片容量为&quot;</span>,<span class="built_in">cap</span>(sudent2))</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//student数组 [wang yao fei]</span></span><br><span class="line"><span class="comment">//sudent1切片 [yao fei]</span></span><br><span class="line"><span class="comment">//sudent1切片 [yao]</span></span><br><span class="line"><span class="comment">//student数组地址为 0xc000072190</span></span><br><span class="line"><span class="comment">//student1切片地址为 0xc000072190</span></span><br><span class="line"><span class="comment">//student2切片地址为 0xc000072190</span></span><br><span class="line"><span class="comment">//student1切片长度为 2</span></span><br><span class="line"><span class="comment">//student1切片容量为 2</span></span><br><span class="line"><span class="comment">//student2切片长度为 1</span></span><br><span class="line"><span class="comment">//student2切片容量为 2</span></span><br></pre></td></tr></table></figure>

<ul>
<li>为了将student的最后一个元素也取到，student1切片的结束位置设为了3。(包前不包后)</li>
<li>根据结果，可以发现student2切片仍然是对底层数组student的引用。</li>
<li>另外，也可以通过slice[:]来表示切片本身。</li>
</ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="生成切片-3"><p><strong>声明切片</strong></p>
<p>切片的声明格式如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> 切片变量名 []元素类型</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> student []<span class="type">int</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;student切片：&quot;</span>,student)</span><br><span class="line">	fmt.Println(<span class="string">&quot;student切片长度：&quot;</span>,<span class="built_in">len</span>(student))</span><br><span class="line">	fmt.Println(<span class="string">&quot;student切片容量：&quot;</span>,<span class="built_in">cap</span>(student))</span><br><span class="line">	fmt.Println(<span class="string">&quot;student切片是否为空：&quot;</span>,student==<span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//student切片： []</span></span><br><span class="line"><span class="comment">//student切片长度： 0</span></span><br><span class="line"><span class="comment">//student切片容量： 0</span></span><br><span class="line"><span class="comment">//student切片是否为空： true</span></span><br></pre></td></tr></table></figure>
<p>从运行结果可以知道，切片声明后其内容为空，长度和容量均为0。</p>
<p><strong>初始化切片</strong></p>
<p>我们可以在声明切片的同时进行初始化赋值，示例如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> student = []<span class="type">string</span>&#123;<span class="string">&quot;yao&quot;</span>,<span class="string">&quot;fei&quot;</span>,<span class="string">&quot;chi&quot;</span>&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;student切片&quot;</span>,student)</span><br><span class="line">	fmt.Println(<span class="string">&quot;student切片长度&quot;</span>,<span class="built_in">len</span>(student))</span><br><span class="line">	fmt.Println(<span class="string">&quot;student切片容量&quot;</span>,<span class="built_in">cap</span>(student))</span><br><span class="line">	fmt.Println(<span class="string">&quot;student切片是否为空&quot;</span>,student==<span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//student切片 [yao fei chi]</span></span><br><span class="line"><span class="comment">//student切片长度 3</span></span><br><span class="line"><span class="comment">//student切片容量 3</span></span><br><span class="line"><span class="comment">//student切片是否为空 false</span></span><br></pre></td></tr></table></figure>

<p><strong>使用make()函数初始化</strong><br>声明完切片后，可以通过内建函数make()来初始化切片，格式如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">make</span>([]元素类型,切片长度,切片容量)</span><br></pre></td></tr></table></figure>
<p>注意：切片的容量值必须大于等于切片长度值，否则程序会报错。对于切片的容量应该有个大概的估值，若容量值过小，对切片的多次扩充会造成性能损耗。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">var</span> student []<span class="type">int</span></span><br><span class="line">	student = <span class="built_in">make</span>([]<span class="type">int</span>,<span class="number">2</span>,<span class="number">10</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;student切片&quot;</span>,student)</span><br><span class="line">	fmt.Println(<span class="string">&quot;student切片长度&quot;</span>,<span class="built_in">len</span>(student))</span><br><span class="line">	fmt.Println(<span class="string">&quot;student切片容量&quot;</span>,<span class="built_in">cap</span>(student))</span><br><span class="line">	fmt.Println(<span class="string">&quot;判断student切片是否为空&quot;</span>,student==<span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//student切片 [0 0]</span></span><br><span class="line"><span class="comment">//student切片长度 2</span></span><br><span class="line"><span class="comment">//student切片容量 10</span></span><br><span class="line"><span class="comment">//判断student切片是否为空 false</span></span><br></pre></td></tr></table></figure>

<p>我们可以发现student切片在初始化后，自动填充了0值且不再为空。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<div class="tabs" id="操作切片"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#操作切片-1">切片添加元素</button></li><li class="tab"><button type="button" data-href="#操作切片-2">切片删除元素</button></li><li class="tab"><button type="button" data-href="#操作切片-3">切片遍历</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="操作切片-1"><p>Go语言中，可以使用append()函数来对切片进行元素的添加。当切片不能再容纳其他元素时（即当前切片长度值等于容量值），下一次使用append()函数对切片进行元素添加，容量会按2倍数进行扩充。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	student := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;当前切片长度：&quot;</span>, <span class="built_in">len</span>(student), <span class="string">&quot;当前切片容量：&quot;</span>, <span class="built_in">cap</span>(student))</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">8</span>; i++ &#123;</span><br><span class="line">		student = <span class="built_in">append</span>(student, i)</span><br><span class="line">		fmt.Println(<span class="string">&quot;当前切片长度：&quot;</span>, <span class="built_in">len</span>(student), <span class="string">&quot;当前切片容量：&quot;</span>, <span class="built_in">cap</span>(student))</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//当前切片长度： 1 当前切片容量： 1</span></span><br><span class="line"><span class="comment">//当前切片长度： 2 当前切片容量： 2</span></span><br><span class="line"><span class="comment">//当前切片长度： 3 当前切片容量： 4</span></span><br><span class="line"><span class="comment">//当前切片长度： 4 当前切片容量： 4</span></span><br><span class="line"><span class="comment">//当前切片长度： 5 当前切片容量： 8</span></span><br><span class="line"><span class="comment">//当前切片长度： 6 当前切片容量： 8</span></span><br><span class="line"><span class="comment">//当前切片长度： 7 当前切片容量： 8</span></span><br><span class="line"><span class="comment">//当前切片长度： 8 当前切片容量： 8</span></span><br><span class="line"><span class="comment">//当前切片长度： 9 当前切片容量： 16</span></span><br></pre></td></tr></table></figure>

<p>由于切片是对底层数组的引用，所以在改变切片数据时，要考虑对其他切片或数组的数据影响：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">//声明一个数组</span></span><br><span class="line">	<span class="keyword">var</span> student = [...]<span class="type">string</span>&#123;<span class="string">&quot;fei&quot;</span>,<span class="string">&quot;chi&quot;</span>,<span class="string">&quot;yao&quot;</span>&#125;</span><br><span class="line">	<span class="comment">//从数组生成切片student1</span></span><br><span class="line">	<span class="keyword">var</span> student1 = student[<span class="number">0</span>:<span class="number">1</span>]</span><br><span class="line">	<span class="comment">//打印数组和切片</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;student数组：&quot;</span>,student)</span><br><span class="line">	fmt.Println(<span class="string">&quot;student1切片：&quot;</span>,student1)</span><br><span class="line">	fmt.Println(<span class="string">&quot;student1切片：&quot;</span>,student1,<span class="string">&quot;,切片长度为：&quot;</span>,<span class="built_in">len</span>(student1),<span class="string">&quot;,切片容量为：&quot;</span>,<span class="built_in">cap</span>(student1))</span><br><span class="line">	<span class="comment">//对student1切片添加元素</span></span><br><span class="line">	student1 = <span class="built_in">append</span>(student1,<span class="string">&quot;Danny&quot;</span>)</span><br><span class="line">	<span class="comment">//查看切片长度变化</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;扩充Danny后的student1切片：&quot;</span>,student1,<span class="string">&quot;,切片长度为：&quot;</span>,<span class="built_in">len</span>(student1),<span class="string">&quot;,切片容量为：&quot;</span>,<span class="built_in">cap</span>(student1))</span><br><span class="line">	<span class="comment">//查看底层数组内容变化</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;扩充Danny后的student数组：&quot;</span>,student)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//student数组： [fei chi yao]</span></span><br><span class="line"><span class="comment">//student1切片： [fei]</span></span><br><span class="line"><span class="comment">//student1切片： [fei] ,切片长度为： 1 ,切片容量为： 3</span></span><br><span class="line"><span class="comment">//扩充Danny后的student1切片： [fei Danny] ,切片长度为： 2 ,切片容量为： 3</span></span><br><span class="line"><span class="comment">//扩充Danny后的student数组： [fei Danny yao]</span></span><br></pre></td></tr></table></figure>
<p>由于student1切片是从student数组生成（即对student数组的引用），为student1添加元素会覆盖student数组中对应的元素。所以，如果切片是从其他数组或切片生成，新切片的元素添加需要考虑对原有数组或切片中数据的影响。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="操作切片-2"><p>由于Go语言没有为删除切片元素提供方法，所以需要手动将删除点前后的元素连接起来，从而实现对切片中元素的删除。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> student = []<span class="type">string</span>&#123;<span class="string">&quot;Tom&quot;</span>, <span class="string">&quot;Ben&quot;</span>, <span class="string">&quot;Peter&quot;</span>, <span class="string">&quot;Danny&quot;</span>&#125;</span><br><span class="line">	student = <span class="built_in">append</span>(student[<span class="number">0</span>:<span class="number">2</span>],student[<span class="number">3</span>:]...)  <span class="comment">//...依次取出元素</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;student切片：&quot;</span>,student)</span><br><span class="line">	fmt.Println(<span class="string">&quot;student切片长度：&quot;</span>,<span class="built_in">len</span>(student))</span><br><span class="line">	fmt.Println(<span class="string">&quot;student切片容量：&quot;</span>,<span class="built_in">cap</span>(student))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//student切片： [Tom Ben Danny]</span></span><br><span class="line"><span class="comment">//student切片长度： 3</span></span><br><span class="line"><span class="comment">//student切片容量： 4</span></span><br></pre></td></tr></table></figure>
<p>其中append()函数中传入的省略号代表按student切片展开，该行代码等价于：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">student = <span class="built_in">append</span>(student[<span class="number">0</span>:<span class="number">2</span>],student[<span class="number">3</span>])</span><br></pre></td></tr></table></figure>

<p>如果需要清空切片中的所有元素，可以把切片的开始下标和结束下标都设为0来实现：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> student = []<span class="type">string</span>&#123;<span class="string">&quot;Tom&quot;</span>, <span class="string">&quot;Ben&quot;</span>, <span class="string">&quot;Peter&quot;</span>, <span class="string">&quot;Danny&quot;</span>&#125;</span><br><span class="line">	student = student[<span class="number">0</span>:<span class="number">0</span>]</span><br><span class="line">	fmt.Println(<span class="string">&quot;student切片：&quot;</span>,student)</span><br><span class="line">	fmt.Println(<span class="string">&quot;student切片长度：&quot;</span>,<span class="built_in">len</span>(student))</span><br><span class="line">	fmt.Println(<span class="string">&quot;student切片容量：&quot;</span>,<span class="built_in">cap</span>(student))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//student切片： []</span></span><br><span class="line"><span class="comment">//student切片长度： 0</span></span><br><span class="line"><span class="comment">//student切片容量： 4</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="操作切片-3"><p>切片的遍历和数组类似，可以通过切片下标来进行遍历。切片下标同样从0开始，第一个元素的数组下标为0，第二个元素的数组下标为1，以此类推。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> student = []<span class="type">string</span>&#123;<span class="string">&quot;Tom&quot;</span>, <span class="string">&quot;Ben&quot;</span>, <span class="string">&quot;Peter&quot;</span>, <span class="string">&quot;Danny&quot;</span>&#125;</span><br><span class="line">	<span class="keyword">for</span> k,v := <span class="keyword">range</span> student &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;切片下标：&quot;</span>,k,<span class="string">&quot;，对应元素&quot;</span>,v)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//切片下标： 0 ，对应元素 Tom</span></span><br><span class="line"><span class="comment">//切片下标： 1 ，对应元素 Ben</span></span><br><span class="line"><span class="comment">//切片下标： 2 ，对应元素 Peter</span></span><br><span class="line"><span class="comment">//切片下标： 3 ，对应元素 Danny</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="内置容器-3"><p>映射（map）是一种无序的键值对的集合，map的键类似于索引，指向数据的值。当程序中需要存放有关联关系的数据时，往往就会用到map。<br>例如，将国家中文名和其英文名关联起来，生成如下映射：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">country := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>&#123;</span><br><span class="line">    <span class="string">&quot;中国&quot;</span>:<span class="string">&quot;China&quot;</span>,</span><br><span class="line">    <span class="string">&quot;美国&quot;</span>:<span class="string">&quot;America&quot;</span>,</span><br><span class="line">    <span class="string">&quot;日本&quot;</span>:<span class="string">&quot;Japan&quot;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="tabs" id="操作映射"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#操作映射-1">声明映射</button></li><li class="tab"><button type="button" data-href="#操作映射-2">初始化映射</button></li><li class="tab"><button type="button" data-href="#操作映射-3">映射遍历</button></li><li class="tab"><button type="button" data-href="#操作映射-4">映射删除键值对</button></li><li class="tab"><button type="button" data-href="#操作映射-5">映射并发操作</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="操作映射-1"><p>map的声明格式如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="keyword">map</span> [键类型]值类型</span><br></pre></td></tr></table></figure>
<p>建立一个学生和其成绩的对应关系，样例如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> studentScoreMap <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span></span><br><span class="line">	fmt.Println(studentScoreMap)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// map[]</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="操作映射-2"><p>声明后初始化:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> studentScoreMap <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span></span><br><span class="line">	studentScoreMap = <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>&#123;</span><br><span class="line">		<span class="string">&quot;Felix&quot;</span>: <span class="number">99</span>,</span><br><span class="line">		<span class="string">&quot;Tom&quot;</span>: <span class="number">98</span>,</span><br><span class="line">		<span class="string">&quot;jackey&quot;</span>: <span class="number">9</span>,</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(studentScoreMap)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// map[Felix:99 Tom:98 jackey:9]</span></span><br></pre></td></tr></table></figure>

<p>在声明的同时初始化:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">var</span> studentScoreMap = <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>&#123;</span><br><span class="line">		<span class="string">&quot;Tom&quot;</span>:<span class="number">80</span>,</span><br><span class="line">		<span class="string">&quot;Felix&quot;</span>:<span class="number">85</span>,</span><br><span class="line">		<span class="string">&quot;Peter&quot;</span>:<span class="number">90</span>,</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(studentScoreMap)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// map[Felix:85 Peter:90 Tom:80]</span></span><br></pre></td></tr></table></figure>

<p>使用make()函数初始化:<br>与切片的初始化类似，map也可以使用make()函数来进行初始化，格式如下</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">make</span>(<span class="keyword">map</span>[键类型]值类型,<span class="keyword">map</span>容量)</span><br></pre></td></tr></table></figure>
<p>注意：使用<code>make()</code>函数初始化map时可以不指定map容量，但是对于map的多次扩充会造成性能损耗。<br><code>cap()</code>函数只能用于获取切片的容量，无法获得map的容量，因此可以通过<code>len()</code>函数获取map的当前长度。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> studentScoreMap <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span></span><br><span class="line">	studentScoreMap = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)</span><br><span class="line">	studentScoreMap[<span class="string">&quot;Tom&quot;</span>]=<span class="number">80</span></span><br><span class="line">	studentScoreMap[<span class="string">&quot;Felix&quot;</span>]=<span class="number">85</span></span><br><span class="line">	studentScoreMap[<span class="string">&quot;Peter&quot;</span>]=<span class="number">80</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;map长度为:&quot;</span>,<span class="built_in">len</span>(studentScoreMap))</span><br><span class="line">	fmt.Println(studentScoreMap)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// map长度为: 3</span></span><br><span class="line"><span class="comment">// map[Felix:85 Peter:80 Tom:80]</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="操作映射-3"><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> studentScoreMap <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span></span><br><span class="line">	studentScoreMap = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)</span><br><span class="line">	studentScoreMap[<span class="string">&quot;Tom&quot;</span>]=<span class="number">80</span></span><br><span class="line">	studentScoreMap[<span class="string">&quot;Felix&quot;</span>]=<span class="number">85</span></span><br><span class="line">	studentScoreMap[<span class="string">&quot;Peter&quot;</span>]=<span class="number">80</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//遍历</span></span><br><span class="line">	<span class="keyword">for</span> k,v := <span class="keyword">range</span> studentScoreMap&#123;</span><br><span class="line">		fmt.Println(k,v)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Tom 80</span></span><br><span class="line"><span class="comment">// Felix 85</span></span><br><span class="line"><span class="comment">// Peter 80</span></span><br></pre></td></tr></table></figure>

<p>只遍历键:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> studentScoreMap <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span></span><br><span class="line">	studentScoreMap = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)</span><br><span class="line">	studentScoreMap[<span class="string">&quot;Tom&quot;</span>]=<span class="number">80</span></span><br><span class="line">	studentScoreMap[<span class="string">&quot;Felix&quot;</span>]=<span class="number">85</span></span><br><span class="line">	studentScoreMap[<span class="string">&quot;Peter&quot;</span>]=<span class="number">80</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//遍历</span></span><br><span class="line">	<span class="keyword">for</span> k := <span class="keyword">range</span> studentScoreMap&#123;</span><br><span class="line">		fmt.Println(k)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Tom</span></span><br><span class="line"><span class="comment">// Felix</span></span><br><span class="line"><span class="comment">// Peter</span></span><br></pre></td></tr></table></figure>
<p>只遍历值:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> studentScoreMap <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span></span><br><span class="line">	studentScoreMap = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)</span><br><span class="line">	studentScoreMap[<span class="string">&quot;Tom&quot;</span>]=<span class="number">80</span></span><br><span class="line">	studentScoreMap[<span class="string">&quot;Felix&quot;</span>]=<span class="number">85</span></span><br><span class="line">	studentScoreMap[<span class="string">&quot;Peter&quot;</span>]=<span class="number">80</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//遍历</span></span><br><span class="line">	<span class="keyword">for</span> _,v := <span class="keyword">range</span> studentScoreMap&#123;</span><br><span class="line">		fmt.Println(v)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 80</span></span><br><span class="line"><span class="comment">// 85</span></span><br><span class="line"><span class="comment">// 80</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="操作映射-4"><p>通过delete()函数来对map中的指定键值对进行删除操作，delete()函数格式如下:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">delete</span>(<span class="keyword">map</span>,键)</span><br></pre></td></tr></table></figure>
<p>其中map为要删除的map实例，键为map键值对中的键。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> studentScoreMap <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span></span><br><span class="line">	studentScoreMap = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>)</span><br><span class="line">	studentScoreMap[<span class="string">&quot;Tom&quot;</span>]=<span class="number">80</span></span><br><span class="line">	studentScoreMap[<span class="string">&quot;Felix&quot;</span>]=<span class="number">85</span></span><br><span class="line">	studentScoreMap[<span class="string">&quot;Peter&quot;</span>]=<span class="number">80</span></span><br><span class="line">	<span class="built_in">delete</span>(studentScoreMap,<span class="string">&quot;Tom&quot;</span>)</span><br><span class="line">	fmt.Println(studentScoreMap)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// map[Felix:85 Peter:80]</span></span><br></pre></td></tr></table></figure>
<p>注意: delete()函数会直接删除指定的键值对，而不是仅仅删除键或值。<br>另外，Go语言没有为map提供清空所有元素的方法，想要清空map的唯一方法就是重新定义一个新的map。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="操作映射-5"><p>对于map，我们可以定义一个键和值，然后从map中获取、变更和删除这个值。前面对map的操作都是在单协程的情况下完成的，这种情况下一般不会出现错误。如果是多个协程并发访问一个map，就有可能会导致程序异常退出，具体示例程序如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">readMap</span><span class="params">(Gomap <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">int</span>,key <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> Gomap[key]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">writeMap</span><span class="params">(Gomap <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">int</span>,key <span class="type">int</span>,value <span class="type">int</span>)</span></span>&#123;</span><br><span class="line">	Gomap[key] = value</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	GoMap := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">int</span>]<span class="type">int</span>)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++ &#123;</span><br><span class="line">		<span class="keyword">go</span> writeMap(GoMap,i,i)</span><br><span class="line">		<span class="keyword">go</span> readMap(GoMap,i)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//fatal error: concurrent map read and map write</span></span><br><span class="line"><span class="comment">//fatal error: concurrent map read and map write</span></span><br><span class="line"><span class="comment">//fatal error: concurrent map read and map write</span></span><br><span class="line"><span class="comment">//fatal error: concurrent map writes</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//goroutine 285 [running]:</span></span><br><span class="line"><span class="comment">//runtime.throw(0x104a70d, 0x21)</span></span><br><span class="line"><span class="comment">//C:/Go/src/runtime/panic.go:1116 +0x79 fp=0xc0001e7f70 sp=0xc0001e7f40 pc=0x1000f79</span></span><br><span class="line"><span class="comment">//runtime.mapaccess1_fast64(0x103b420, 0xc000018030, 0x8b, 0xc000092568)</span></span><br><span class="line"><span class="comment">//C:/Go/src/runtime/map_fast64.go:21 +0x1a7 fp=0xc0001e7f98 sp=0xc0001e7f70 pc=0xfdf027</span></span><br><span class="line"><span class="comment">//main.readMap(0xc000018030, 0x8b, 0x8b)</span></span><br><span class="line"><span class="comment">//D:/golang/src/dm2/map/binmap.go:4 +0x48 fp=0xc0001e7fc8 sp=0xc0001e7f98 pc=0x10311c8</span></span><br><span class="line"><span class="comment">//runtime.goexit()</span></span><br><span class="line"><span class="comment">//C:/Go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc0001e7fd0 sp=0xc0001e7fc8 pc=0x102b621</span></span><br><span class="line"><span class="comment">//created by main.main</span></span><br><span class="line"><span class="comment">//D:/golang/src/dm2/map/binmap.go:15 +0x92fatal error: concurrent map read and map write</span></span><br><span class="line"><span class="comment">//fatal error: concurrent map read and map write</span></span><br><span class="line"><span class="comment">//fatal error: concurrent map read and map write</span></span><br><span class="line"><span class="comment">//fatal error: concurrent map writes</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//goroutine 285 [running]:</span></span><br><span class="line"><span class="comment">//runtime.throw(0x104a70d, 0x21)</span></span><br><span class="line"><span class="comment">//C:/Go/src/runtime/panic.go:1116 +0x79 fp=0xc0001e7f70 sp=0xc0001e7f40 pc=0x1000f79</span></span><br><span class="line"><span class="comment">//runtime.mapaccess1_fast64(0x103b420, 0xc000018030, 0x8b, 0xc000092568)</span></span><br><span class="line"><span class="comment">//C:/Go/src/runtime/map_fast64.go:21 +0x1a7 fp=0xc0001e7f98 sp=0xc0001e7f70 pc=0xfdf027</span></span><br><span class="line"><span class="comment">//main.readMap(0xc000018030, 0x8b, 0x8b)</span></span><br><span class="line"><span class="comment">//D:/golang/src/dm2/map/binmap.go:4 +0x48 fp=0xc0001e7fc8 sp=0xc0001e7f98 pc=0x10311c8</span></span><br><span class="line"><span class="comment">//runtime.goexit()</span></span><br><span class="line"><span class="comment">//C:/Go/src/runtime/asm_amd64.s:1374 +0x1 fp=0xc0001e7fd0 sp=0xc0001e7fc8 pc=0x102b621</span></span><br><span class="line"><span class="comment">//created by main.main</span></span><br><span class="line"><span class="comment">//D:/golang/src/dm2/map/binmap.go:15 +0x92</span></span><br></pre></td></tr></table></figure>
<p>从运行结果可以发现，程序异常终止，原因是出现了严重错误：多个协程在尝试对map进行同时写入。<br>由于map不是协程安全的，同一时刻只能有一个协程对map进行操作。最常见的解决方案就是使用sync包对map加锁或直接使用Go在1.9版本中提供的线程安全map。</p>
<p>加锁的本质其实就是当前协程在对map操作前需先加上锁，加锁后其他任何协程无法对map进行任何操作，直至当前协程解锁。样例如下:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;sync&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> lock sync.RWMutex</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">readMap</span><span class="params">(Gomap <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">int</span>,key <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	lock.Lock() <span class="comment">//读map操作前先加锁</span></span><br><span class="line">	m := Gomap[key]</span><br><span class="line">	lock.Unlock() <span class="comment">//读完map后解锁</span></span><br><span class="line">	<span class="keyword">return</span> m</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">writeMap</span><span class="params">(Gomap <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">int</span>,key <span class="type">int</span>,value <span class="type">int</span>)</span></span>&#123;</span><br><span class="line">	lock.Lock() <span class="comment">//写map操作前先加锁</span></span><br><span class="line">	Gomap[key] = value</span><br><span class="line">	lock.Unlock() <span class="comment">//写完map后解锁</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	GoMap := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">int</span>]<span class="type">int</span>)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++ &#123;</span><br><span class="line">		<span class="keyword">go</span> writeMap(GoMap,i,i)</span><br><span class="line">		<span class="keyword">go</span> readMap(GoMap,i)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;Done&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Done</span></span><br></pre></td></tr></table></figure>

<p>由于加锁对程序性能会有一定影响，因此，如果需要在多协程情况下对map进行操作，我们推荐使用Go在1.9版本中提供的一种效率较高的并发安全的map–sync.Map。</p>
<p>sync.Map有以下特点：</p>
<ul>
<li>内部通过冗余的数据结构降低加锁对性能的影响。</li>
<li>使用前无须初始化，直接声明即可。</li>
<li>sync.Map不使用map中的方式来进行读取和赋值等操作。</li>
</ul>
<p>使用sync.Map进行替换：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;sync&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> lock sync.RWMutex</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">readMap</span><span class="params">(Gomap sync.Map,key <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	res ,ok := Gomap.Load(key) <span class="comment">//线程安全读取</span></span><br><span class="line">	<span class="keyword">if</span> ok == <span class="literal">true</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> res.(<span class="type">int</span>)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">writeMap</span><span class="params">(Gomap sync.Map,key <span class="type">int</span>,value <span class="type">int</span>)</span></span>&#123;</span><br><span class="line">	Gomap.Store(key,value) <span class="comment">//线程安全设置</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> GoMap sync.Map</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++ &#123;</span><br><span class="line">		<span class="keyword">go</span> writeMap(GoMap,i,i)</span><br><span class="line">		<span class="keyword">go</span> readMap(GoMap,i)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;Done&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Done</span></span><br></pre></td></tr></table></figure>

<p>sync.Map无须使用make创建。</p>
<ul>
<li>Load()方法的第一个返回值是接口类型，需要将其转换为map值的类型。</li>
<li>目前sync.Map没有提供获取map数量的方法，解决方案是通过循环遍历map。</li>
<li>与较普通的map相比，sync.Map为了保证并发安全，会有性能上的损失，因此在非并发情况下，推荐使用map。</li>
</ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<p>总结:</p>
<ul>
<li>数组是具有相同类型且长度固定的一组数据项序列，这组数据项序列对应存放在内存中的一块连续区域中，数组大小之后不可再变。</li>
<li>切片表示多个同类型元素的连续集合，但是切片本身并不存储任何元素，而只是对现有数组的引用。</li>
<li>如果切片是从其他数组或切片生成，新切片的元素添加需要考虑对原有数组或切片中数据的影响。</li>
<li>Go语言没有为删除切片元素提供方法，所以需要我们手动将删除点前后的元素连接起来，从而实现对切片中元素的删除。</li>
<li>映射是一种无序的键值对的集合，当程序中需要存放有关联关系的数据时，往往就会用到map。</li>
<li>Go语言没有为map提供清空所有元素的方法，想要清空map的唯一方法就是重新定义一个新的map。</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info">Golang-内置容器</span></div><div class="post-copyright__url"><span class="post-copyright-info"><a id="post-url" href="https://cakepanit.com/forward/13c392b.html">https://cakepanit.com/forward/13c392b.html</a><a id="post-url-copy" title="复制文章链接" onclick="btf.copyFn(&quot;https://cakepanit.com/forward/13c392b.html&quot;)"><i class="fas fa-paste copy-button"></i></a></span></div><div class="post-copyright__cc"><span class="post-copyright-info">转载前请阅读本站 <a href="/protocol/copyright/" title="本站所有原创文章采用知识共享(Creative Commons)署名—非商业性使用—相同方式共享4.0国际公共许可协议">版权协议</a>，文章著作权归 <a href="https://cakepanit.com">饼铛</a> 所有，转载请注明出处。</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Golang/">📝Golang</a></div><div class="post_share"><div class="social-share" data-image="/images/pasted-2.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/DC9cYFtFic5G6JZgktjajza5fVfRJLaXLS.png" target="_blank"><img class="post-qr-code-img" src="/img/DC9cYFtFic5G6JZgktjajza5fVfRJLaXLS.png" alt="狗狗币(DogeCoin)"/></a><div class="post-qr-code-desc">狗狗币(DogeCoin)</div></li><li class="reward-item"><a href="/img/bc1q63xj5a3xgfulv8guate5qxmh6qh8ws7c3casqm.png" target="_blank"><img class="post-qr-code-img" src="/img/bc1q63xj5a3xgfulv8guate5qxmh6qh8ws7c3casqm.png" alt="比特币(BitCoin)"/></a><div class="post-qr-code-desc">比特币(BitCoin)</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/forward/b36ee5af.html" title="k8s企业级DevOps实践-Kong in Kubernetes"><img class="cover" src="/images/pasted-84.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">k8s企业级DevOps实践-Kong in Kubernetes</div><div class="content">Kong介绍本文介绍将 Kong 微服务网关作为 Kubernetes 集群内部业务项目之间通讯的最佳实践，之前写过一篇文章使用 Nginx Ingress Controller 作为集群统一的流量入口：使用 Kubernetes Ingress 对外暴露服务，但是相比于 Kong Ingress Controller来说，Kong 支持的功能更加强大，更适合微服务架构：

拥有庞大的插件生态，能轻易扩展 Kong 支持的功能，比如 API 认证，流控，访问限制等；
Kong 服务本身和 Admin 管理 API 都集成在一个进程，通过端口区分两者，简化了部署的复杂度；
Kong 节点的配置统一持久化到数据库，所有节点通过数据库共享数据，在 Ingress 更新后能实时同步到各个节点，而 Nginx Ingress Controller 是通过重新加载机制响应 Ingress 更新，这种方式代价比较大，可能会导致服务的短暂中断；
Kong 有成熟的第三方管理 UI 和 Admin 管理 API 对接，从而能可视化管理 Kong 配置。

kong是一个云原生的、高性能的、可扩展的API ...</div></div></a></div><div class="next-post pull-right"><a href="/forward/420acb0d.html" title="Golang-流程控制、斐波那契数列"><img class="cover" src="/images/pasted-2.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Golang-流程控制、斐波那契数列</div><div class="content">流程控制Go语言基本上继承了C/C++语言所有流程控制语句流程控制语句主要包括：条件判断语句（if和switch）、循环控制语句（for、break和continue）和跳转语句（goto）。

if 判断for 循环switch 分支goto 跳转Go语言中，通过if关键字构成的条件判断语句进行条件判断，格式如下：
1234567if 表达式1 &#123; 分支1&#125; else if 表达式2 &#123; 分支2&#125; else &#123; 分支3&#125;

当表达式1的执行结果为true时，执行分支1，否则对表达式2的执行结果进行判断；

若表达式2的结果为true，执行分支2；

如果都不满足，则执行分支3。

当表达式1的执行结果为true时，执行分支1，否则对表达式2的执行结果进行判断；

若表达式2的结果为true，执行分支2；

如果都不满足，则执行分支3。


注意⚠：表达式后跟的左括号必须与表达式放在同一行中，否则程序在编译时将会触发错误，导致程序编译无法通过。另外，if、else if和else分支中对应的右括号可以另外换行，也可以与对应的左 ...</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/forward/d12df344.html" title="Golang-函数"><img class="cover" src="/images/pasted-2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-08-23</div><div class="title">Golang-函数</div><div class="info">在编程中经常会调用相同或者类似的操作，这些相同或者类似的操作由同一段代码完成，函数的出现，可以避免重复编写这些代码。函数的作用就是把相对独立的某个功能抽象出来，使之成为一个独立的实体。
例如，开发一个支持人与人之间进行对话的社交网站，对话这个功能比较复杂，可以将它封装为一个函数，每次调用该函数就可以发起对话；大型网站都有日志功能，对所有重要操作都会记录日志，而日志处理需要由多行Go文件操作相关代码组成，将这些代码组装为函数，则每次写日志时调用此函数即可。
Go语言函数支持的特性包括：

参数数量不固定（可变参数）。
匿名函数及其闭包。
函数本身作为值传递。
函数的延迟执行。
把函数作为接口调用。

声明函数使用函数函数变量可变参数匿名函数和闭包延迟执行语句函数的声明以关键字func为标识，具体格式如下：
123func 函数名(参数列表) (返回参数列表)&#123;    函数体&#125;

函数名：函数名由字母、数字和下划线构成，但是函数名不能以数字开头；在同一个包内，函数名不可重复。注意：可暂时简单地将一个包理解为一个文件夹。
参数列表：参数列表中的每个参数都由参数名称和参数类 ...</div></div></a></div><div><a href="/forward/8f91bfec.html" title="Golang-变量与基础数据类型、指针"><img class="cover" src="/images/pasted-2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-21</div><div class="title">Golang-变量与基础数据类型、指针</div><div class="info">Golang中的变量
声明变量标准格式批量声明1var 变量名 变量类型
例:声明变量num的类型为int
1var num int 使用关键字var和小括号，可以同时声明多个变量。
12345var( a int b string c bool)
初始化变量每种类型的变量初始化后都会有对应的默认值：

整型和浮点型变量的默认值为0。
字符串变量的默认值为空字符串。
布尔型变量默认为false。
切片、映射、函数和指针变量默认为nil。

注意：nil相当于其他编程语言中的null、None和NULL等，指代零值，在Go语言中只能赋值给切片、映射、函数、接口、指针或通道类型。
标准格式类型推导短变量声明并初始化1var 变量名 变量类型 = 表达式
例:声明变量num类型为int并赋值为1
1var num int = 1 在标准格式基础上，把变量类型省略后，编译器会根据等号右边的表达式推导变量的类型。例:初始化变量age值为20
1var age = 20同样会根据等号右边的表达式推导变量的类型。
1age := 30

多重赋值
1name, age := &quot;Tom&qu ...</div></div></a></div><div><a href="/forward/d5b63f7f.html" title="Golang-常量与运算符"><img class="cover" src="/images/pasted-2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-22</div><div class="title">Golang-常量与运算符</div><div class="info">常量概述: 常量与运算符是基本概念，对于Go语言，可以使用它们进行赋值、计算和比较。Go语言支持的运算包括算术运算、比较运算和逻辑运算等。
所谓常量，就是值不能变的量，比如常用的数学常数“π”就是一个常量。大多数的编程语言会使用全大写的变量名表示常量，所以约定俗成，如果常量的名字是全大写的变量，一般不做修改。
常量的定义显式定义隐式定义常量组定义常量枚举iota常量的声明以关键字const开头，后接变量类型并进行赋值，行尾没有其他标点符号。常量的显式声明格式如下：
1const 常量名 常量类型 = value
注意⚠️：一个常量被声明后可以不使用，但是变量一旦声明则必须使用。
1234567891011package mainimport &quot;fmt&quot;func main() &#123;	const a float64 = 3.1415	const b string = &quot;Hello World&quot;	fmt.Println(a)&#125;// 3.1415由于Go是编译型语言，定义常量时可以省略常量类型，因为编译器可以根据变量的值来推断其类型。常 ...</div></div></a></div><div><a href="/forward/f9d199b7.html" title="Golang-接口"><img class="cover" src="/images/pasted-2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-02-15</div><div class="title">Golang-接口</div><div class="info">1. 接口接口（interface）定义了一个对象的行为规范，只定义规范不实现，由具体的对象来实现规范的细节。
1.1 接口类型在Go语言中接口（interface）是一种类型，一种抽象的类型。
interface是一组method(方法)的集合，是duck-type programming的一种体现。接口做的事情就像是定义一个协议（规则），只要一台机器有洗衣服和甩干的功能，我就称它为洗衣机。不关心属性（数据），只关心行为（方法）。
为了保护你的Go语言职业生涯，请牢记接口（interface）是一种类型。
为什么要使用接口？
1234567891011121314151617181920212223242526272829303132333435363738394041type Cat struct&#123;&#125;type Dog struct&#123;&#125;type Pig struct&#123;&#125;func (c Cat) Say() string &#123; return &quot;喵喵喵&quot; &#125;func (d Dog) Say( ...</div></div></a></div><div><a href="/forward/420acb0d.html" title="Golang-流程控制、斐波那契数列"><img class="cover" src="/images/pasted-2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-22</div><div class="title">Golang-流程控制、斐波那契数列</div><div class="info">流程控制Go语言基本上继承了C/C++语言所有流程控制语句流程控制语句主要包括：条件判断语句（if和switch）、循环控制语句（for、break和continue）和跳转语句（goto）。

if 判断for 循环switch 分支goto 跳转Go语言中，通过if关键字构成的条件判断语句进行条件判断，格式如下：
1234567if 表达式1 &#123; 分支1&#125; else if 表达式2 &#123; 分支2&#125; else &#123; 分支3&#125;

当表达式1的执行结果为true时，执行分支1，否则对表达式2的执行结果进行判断；

若表达式2的结果为true，执行分支2；

如果都不满足，则执行分支3。

当表达式1的执行结果为true时，执行分支1，否则对表达式2的执行结果进行判断；

若表达式2的结果为true，执行分支2；

如果都不满足，则执行分支3。


注意⚠：表达式后跟的左括号必须与表达式放在同一行中，否则程序在编译时将会触发错误，导致程序编译无法通过。另外，if、else if和else分支中对应的右括号可以另外换行，也可以与对应的左 ...</div></div></a></div><div><a href="/forward/b17eefd4.html" title="Golang-指针、类型自定义、类型别名、结构体、json序列化、面向对象、包"><img class="cover" src="/images/pasted-2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-02-15</div><div class="title">Golang-指针、类型自定义、类型别名、结构体、json序列化、面向对象、包</div><div class="info">1. 指针指针地址、指针类型、指针取值
指针概念：任何程序数据载入内存后，在内存都有他们的地址，这就是指针。而为了保存一个数据在内存中的地址，我们就需要指针变量。
指针和地址的区别：

地址：就是内存地址(用字节来描述的内存地址)

指针：指针是带类型的


Go语言中的指针不能进行偏移和运算，因此Go语言中的指针操作非常简单，我们只需要记住两个符号：&amp;（取地址）和*（根据地址取值）。
Go语言中使用&amp;字符放在变量前面对变量进行“取地址”操作。 Go语言中的值类型（int、float、bool、string、array、struct）都有对应的指针类型，如：*int、*int64、*string等。
1.1 指针取值12345678func main() &#123;	var a int = 2	b := &amp;a //取变量a的内存地址	fmt.Printf(&quot;%T,%v\n&quot;,b,b)//*int,0xc00000a0b0	fmt.Println(*b) //根据内存地址取值 //2&#125;

总结： 取地址操作符&amp;和取值操作符* ...</div></div></a></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">饼铛</div><div class="author-info__description">寻找属于自己的彩虹海</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">93</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">72</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://t.me/joinchat/c_ParmoHMmU5MDM9" target="_blank" title="Telegram"><i class="fab fa-telegram-plane"></i></a><a class="social-icon" href="https://qm.qq.com/cgi-bin/qm/qr?k=Q1N9l3isk8O_i5awFwO-blAoPH7PUeb4&amp;noverify=0" target="_blank" title="QQ"><i class="fab fa-qq"></i></a><a class="social-icon" href="mailto:admin@cakepanit.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://music.163.com/#/user/home?id=313775282" target="_blank" title="Netease"><i class="fas fa-record-vinyl"></i></a></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/forward/d4ac701.html" title="各公版系统修改锁定DNS"><img src="/images/pasted-288.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="各公版系统修改锁定DNS"/></a><div class="content"><a class="title" href="/forward/d4ac701.html" title="各公版系统修改锁定DNS">各公版系统修改锁定DNS</a><time datetime="2022-11-12T03:06:00.000Z" title="发表于 2022-11-12 11:06:00">2022-11-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/forward/1e56645c.html" title="Kong使用OAuth2.0 Plugin"><img src="/images/pasted-280.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kong使用OAuth2.0 Plugin"/></a><div class="content"><a class="title" href="/forward/1e56645c.html" title="Kong使用OAuth2.0 Plugin">Kong使用OAuth2.0 Plugin</a><time datetime="2022-09-03T10:10:00.000Z" title="发表于 2022-09-03 18:10:00">2022-09-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/forward/3df8560c.html" title="Terraform-基础设施即代码"><img src="/images/pasted-185.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Terraform-基础设施即代码"/></a><div class="content"><a class="title" href="/forward/3df8560c.html" title="Terraform-基础设施即代码">Terraform-基础设施即代码</a><time datetime="2022-07-12T14:29:00.000Z" title="发表于 2022-07-12 22:29:00">2022-07-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/forward/91db5a91.html" title="Apollo In Kubernetes（多数据中心）"><img src="/images/pasted-173.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Apollo In Kubernetes（多数据中心）"/></a><div class="content"><a class="title" href="/forward/91db5a91.html" title="Apollo In Kubernetes（多数据中心）">Apollo In Kubernetes（多数据中心）</a><time datetime="2022-04-04T00:00:00.000Z" title="发表于 2022-04-04 08:00:00">2022-04-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/forward/48a90e5c.html" title="gRPC程序健康检查&amp;Kubernetes部署&amp;负载均衡"><img src="/images/pasted-167.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="gRPC程序健康检查&amp;Kubernetes部署&amp;负载均衡"/></a><div class="content"><a class="title" href="/forward/48a90e5c.html" title="gRPC程序健康检查&amp;Kubernetes部署&amp;负载均衡">gRPC程序健康检查&amp;Kubernetes部署&amp;负载均衡</a><time datetime="2022-01-11T05:59:00.000Z" title="发表于 2022-01-11 13:59:00">2022-01-11</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="footer-group-container"><div class="footer-group"><span class="footer-group-title">外链</span><a class="footer-group-item" target="_blank" rel="noopener" href="https://www.bilibili.com/">bilibili 弹幕网</a><a class="footer-group-item" target="_blank" rel="noopener" href="https://www.tiobe.com/tiobe-index/">编程语言排名</a><a class="footer-group-item" target="_blank" rel="noopener" href="https://www.infrapedia.com/">海底光缆分布</a><a class="footer-group-item" target="_blank" rel="noopener" href="https://cybermap.kaspersky.com/cn">网络威胁地图</a></div><div class="footer-group"><span class="footer-group-title">导航</span><a class="footer-group-item" href="/link/">友情链接</a><a class="footer-group-item" href="/tags/">全部标签</a><a class="footer-group-item" href="/charts/">文章统计</a><a class="footer-group-item" href="/bookshelf/">收藏书单</a></div><div class="footer-group"><span class="footer-group-title">分类</span><a class="footer-group-item" href="/categories/OPS/">运维教程</a><a class="footer-group-item" href="/categories/DBA/">DBA教程</a><a class="footer-group-item" href="/categories/Golang/">编码教程</a><a class="footer-group-item" href="/gallery/">收藏图库</a></div><div class="footer-group"><span class="footer-group-title">关于</span><a class="footer-group-item" href="/notice/">网站公告</a><a class="footer-group-item" href="/about/">关于本站</a><a class="footer-group-item" href="/status">站点监控</a><a class="footer-group-item" href="mailto:admin@cakepanit.com">联系博主</a></div><div class="footer-group" id="footer-group-flink"><span class="footer-group-title">友链<i class="fas fa-arrow-rotate-right" title="随机友链" onclick="eurkon.footerRandomFlink(flinks, 3);"></i></span><a class="footer-group-item" href="" target="_blank" rel="noopener external nofollow noreferrer">加载中...</a><a class="footer-group-item" href="" target="_blank" rel="noopener external nofollow noreferrer">加载中...</a><a class="footer-group-item" href="" target="_blank" rel="noopener external nofollow noreferrer">加载中...</a><a class="footer-group-item" href="/link/">更多友链</a></div><div class="footer-group"><span class="footer-group-title">协议</span><a class="footer-group-item" href="/protocol/comment/" title="用户发言前，请认真阅读本条例。一经发言，即视为同意接受本条例；如不同意，请勿发言。">评论协议</a><a class="footer-group-item" href="/protocol/copyright/" title="本站所有原创文章采用知识共享(Creative Commons)署名—非商业性使用—相同方式共享4.0国际公共许可协议">版权协议</a></div></div><div id="footer-banner"><div id="footer-banner-container"><div class="footer-banner"><div class="copyright">Copyright &copy; 2020 - 2023  饼铛.com  All Rights Reserved.</div></div><div class="footer-banner"><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn">皖ICP备2021005605号-1</a><a target="_blank" rel="noopener" href="https://www.upyun.com/">UPYUN</a></div></div></div></div></footer></div><div class="hidden" id="rightside-mask" onclick="eurkon.switchRightSide();"></div><div class="hidden" id="rightside"><div id="rightside-header"><div id="rightside-back"><i class="fas fa-chevron-left" onclick="eurkon.backRightSide();"></i></div><div id="rightside-title">设置</div><div id="rightside-close" onclick="eurkon.switchRightSide();"><i class="fas fa-xmark"></i></div></div><div id="rightside-content"><div id="card-post-content"><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/DBA/"><span class="card-category-list-name">DBA</span><span class="card-category-list-count">34</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Golang/"><span class="card-category-list-name">Golang</span><span class="card-category-list-count">8</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/OPS/"><span class="card-category-list-name">OPS</span><span class="card-category-list-count">49</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a id="tags/Git/" href="/tags/Git/" style="font-size: 1.23em; color: rgb(56, 194, 149)">Git<sup>4</sup></a><a id="tags/GitLab/" href="/tags/GitLab/" style="font-size: 1.23em; color: rgb(172, 90, 46)">GitLab<sup>4</sup></a><a id="tags/OPS/" href="/tags/OPS/" style="font-size: 1.45em; color: rgb(28, 175, 193)">🌍OPS<sup>49</sup></a><a id="tags/Docker/" href="/tags/Docker/" style="font-size: 1.29em; color: rgb(164, 29, 90)">Docker<sup>6</sup></a><a id="tags/Skywalking/" href="/tags/Skywalking/" style="font-size: 1.15em; color: rgb(125, 108, 171)">Skywalking<sup>1</sup></a><a id="tags/链路追踪/" href="/tags/%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA/" style="font-size: 1.15em; color: rgb(146, 136, 105)">链路追踪<sup>1</sup></a><a id="tags/Download/" href="/tags/Download/" style="font-size: 1.15em; color: rgb(124, 167, 130)">⏬Download<sup>1</sup></a><a id="tags/ELK/" href="/tags/ELK/" style="font-size: 1.26em; color: rgb(156, 67, 50)">ELK<sup>5</sup></a><a id="tags/Logstash/" href="/tags/Logstash/" style="font-size: 1.18em; color: rgb(81, 68, 19)">Logstash<sup>2</sup></a><a id="tags/Nginx/" href="/tags/Nginx/" style="font-size: 1.18em; color: rgb(60, 116, 179)">Nginx<sup>2</sup></a><a id="tags/Golang/" href="/tags/Golang/" style="font-size: 1.34em; color: rgb(32, 171, 158)">📝Golang<sup>8</sup></a><a id="tags/JumpServer/" href="/tags/JumpServer/" style="font-size: 1.15em; color: rgb(21, 56, 116)">JumpServer<sup>1</sup></a><a id="tags/堡垒机/" href="/tags/%E5%A0%A1%E5%9E%92%E6%9C%BA/" style="font-size: 1.15em; color: rgb(41, 89, 87)">堡垒机<sup>1</sup></a><a id="tags/Kong/" href="/tags/Kong/" style="font-size: 1.2em; color: rgb(186, 199, 106)">Kong<sup>3</sup></a><a id="tags/OAuth2-0/" href="/tags/OAuth2-0/" style="font-size: 1.15em; color: rgb(197, 4, 183)">OAuth2.0<sup>1</sup></a><a id="tags/iptables/" href="/tags/iptables/" style="font-size: 1.15em; color: rgb(103, 88, 16)">iptables<sup>1</sup></a><a id="tags/MongoDB/" href="/tags/MongoDB/" style="font-size: 1.2em; color: rgb(100, 125, 146)">MongoDB<sup>3</sup></a><a id="tags/NoSQL/" href="/tags/NoSQL/" style="font-size: 1.31em; color: rgb(92, 160, 21)">NoSQL<sup>7</sup></a><a id="tags/主从复制/" href="/tags/%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/" style="font-size: 1.37em; color: rgb(122, 88, 151)">主从复制<sup>12</sup></a><a id="tags/MySQL/" href="/tags/MySQL/" style="font-size: 1.42em; color: rgb(200, 87, 68)">🌲MySQL<sup>26</sup></a><a id="tags/读写分离/" href="/tags/%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB/" style="font-size: 1.23em; color: rgb(109, 91, 59)">读写分离<sup>4</sup></a><a id="tags/高可用/" href="/tags/%E9%AB%98%E5%8F%AF%E7%94%A8/" style="font-size: 1.34em; color: rgb(5, 154, 197)">高可用<sup>8</sup></a><a id="tags/MHA/" href="/tags/MHA/" style="font-size: 1.18em; color: rgb(71, 89, 141)">MHA<sup>2</sup></a><a id="tags/分布式/" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 1.26em; color: rgb(200, 17, 19)">分布式<sup>5</sup></a><a id="tags/MyCAT/" href="/tags/MyCAT/" style="font-size: 1.2em; color: rgb(135, 39, 17)">MyCAT<sup>3</sup></a><a id="tags/垂直拆分/" href="/tags/%E5%9E%82%E7%9B%B4%E6%8B%86%E5%88%86/" style="font-size: 1.15em; color: rgb(118, 30, 165)">垂直拆分<sup>1</sup></a><a id="tags/锁/" href="/tags/%E9%94%81/" style="font-size: 1.15em; color: rgb(187, 89, 112)">锁<sup>1</sup></a><a id="tags/ACID/" href="/tags/ACID/" style="font-size: 1.15em; color: rgb(104, 171, 97)">ACID<sup>1</sup></a><a id="tags/事务/" href="/tags/%E4%BA%8B%E5%8A%A1/" style="font-size: 1.15em; color: rgb(69, 117, 176)">事务<sup>1</sup></a><a id="tags/日志管理/" href="/tags/%E6%97%A5%E5%BF%97%E7%AE%A1%E7%90%86/" style="font-size: 1.23em; color: rgb(94, 175, 146)">日志管理<sup>4</sup></a><a id="tags/SQL/" href="/tags/SQL/" style="font-size: 1.2em; color: rgb(133, 31, 197)">SQL<sup>3</sup></a><a id="tags/PAM/" href="/tags/PAM/" style="font-size: 1.15em; color: rgb(54, 127, 9)">PAM<sup>1</sup></a><a id="tags/一致性hash算法/" href="/tags/%E4%B8%80%E8%87%B4%E6%80%A7hash%E7%AE%97%E6%B3%95/" style="font-size: 1.15em; color: rgb(143, 114, 156)">一致性hash算法<sup>1</sup></a><a id="tags/Ansible/" href="/tags/Ansible/" style="font-size: 1.15em; color: rgb(4, 18, 92)">Ansible<sup>1</sup></a><a id="tags/Playbook/" href="/tags/Playbook/" style="font-size: 1.15em; color: rgb(169, 56, 136)">Playbook<sup>1</sup></a><a id="tags/Redis/" href="/tags/Redis/" style="font-size: 1.26em; color: rgb(9, 97, 21)">Redis<sup>5</sup></a><a id="tags/tools/" href="/tags/tools/" style="font-size: 1.15em; color: rgb(198, 65, 161)">tools<sup>1</sup></a><a id="tags/SVN/" href="/tags/SVN/" style="font-size: 1.15em; color: rgb(164, 123, 183)">SVN<sup>1</sup></a><a id="tags/Zabbix/" href="/tags/Zabbix/" style="font-size: 1.23em; color: rgb(14, 185, 4)">Zabbix<sup>4</sup></a><a id="tags/Zookeeper/" href="/tags/Zookeeper/" style="font-size: 1.2em; color: rgb(192, 136, 70)">Zookeeper<sup>3</sup></a><a id="tags/gRPC/" href="/tags/gRPC/" style="font-size: 1.15em; color: rgb(39, 191, 4)">gRPC<sup>1</sup></a><a id="tags/Kubernetes/" href="/tags/Kubernetes/" style="font-size: 1.4em; color: rgb(187, 80, 165)">⛵Kubernetes<sup>20</sup></a><a id="tags/mysql备份/" href="/tags/mysql%E5%A4%87%E4%BB%BD/" style="font-size: 1.15em; color: rgb(34, 191, 33)">mysql备份<sup>1</sup></a><a id="tags/place/" href="/tags/place/" style="font-size: 1.15em; color: rgb(180, 76, 18)">place<sup>1</sup></a><a id="tags/弹性伸缩/" href="/tags/%E5%BC%B9%E6%80%A7%E4%BC%B8%E7%BC%A9/" style="font-size: 1.15em; color: rgb(140, 153, 92)">弹性伸缩<sup>1</sup></a><a id="tags/调度策略/" href="/tags/%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5/" style="font-size: 1.15em; color: rgb(49, 106, 197)">调度策略<sup>1</sup></a><a id="tags/数据备份/" href="/tags/%E6%95%B0%E6%8D%AE%E5%A4%87%E4%BB%BD/" style="font-size: 1.18em; color: rgb(18, 6, 178)">数据备份<sup>2</sup></a><a id="tags/DNS/" href="/tags/DNS/" style="font-size: 1.15em; color: rgb(58, 172, 67)">DNS<sup>1</sup></a><a id="tags/OPENVPN/" href="/tags/OPENVPN/" style="font-size: 1.15em; color: rgb(107, 131, 83)">OPENVPN<sup>1</sup></a><a id="tags/优化/" href="/tags/%E4%BC%98%E5%8C%96/" style="font-size: 1.15em; color: rgb(5, 190, 85)">优化<sup>1</sup></a><a id="tags/树莓派/" href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" style="font-size: 1.15em; color: rgb(120, 99, 43)">树莓派<sup>1</sup></a><a id="tags/Minecraft/" href="/tags/Minecraft/" style="font-size: 1.15em; color: rgb(4, 130, 43)">Minecraft<sup>1</sup></a><a id="tags/Apollo/" href="/tags/Apollo/" style="font-size: 1.15em; color: rgb(21, 125, 65)">Apollo<sup>1</sup></a><a id="tags/Canal/" href="/tags/Canal/" style="font-size: 1.15em; color: rgb(175, 113, 90)">Canal<sup>1</sup></a><a id="tags/多表联查/" href="/tags/%E5%A4%9A%E8%A1%A8%E8%81%94%E6%9F%A5/" style="font-size: 1.15em; color: rgb(77, 53, 31)">多表联查<sup>1</sup></a><a id="tags/CI-CD/" href="/tags/CI-CD/" style="font-size: 1.18em; color: rgb(8, 149, 118)">CI/CD<sup>2</sup></a><a id="tags/水平拆分/" href="/tags/%E6%B0%B4%E5%B9%B3%E6%8B%86%E5%88%86/" style="font-size: 1.15em; color: rgb(53, 66, 71)">水平拆分<sup>1</sup></a><a id="tags/索引/" href="/tags/%E7%B4%A2%E5%BC%95/" style="font-size: 1.15em; color: rgb(16, 150, 1)">索引<sup>1</sup></a><a id="tags/Redis哨兵/" href="/tags/Redis%E5%93%A8%E5%85%B5/" style="font-size: 1.15em; color: rgb(64, 81, 116)">Redis哨兵<sup>1</sup></a><a id="tags/Terraform/" href="/tags/Terraform/" style="font-size: 1.15em; color: rgb(54, 70, 168)">Terraform<sup>1</sup></a><a id="tags/基础设施即代码/" href="/tags/%E5%9F%BA%E7%A1%80%E8%AE%BE%E6%96%BD%E5%8D%B3%E4%BB%A3%E7%A0%81/" style="font-size: 1.15em; color: rgb(149, 167, 73)">基础设施即代码<sup>1</sup></a><a id="tags/公有云编排/" href="/tags/%E5%85%AC%E6%9C%89%E4%BA%91%E7%BC%96%E6%8E%92/" style="font-size: 1.15em; color: rgb(60, 70, 170)">公有云编排<sup>1</sup></a><a id="tags/数据持久化/" href="/tags/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/" style="font-size: 1.15em; color: rgb(29, 14, 177)">数据持久化<sup>1</sup></a><a id="tags/Workload/" href="/tags/Workload/" style="font-size: 1.15em; color: rgb(154, 33, 174)">Workload<sup>1</sup></a><a id="tags/服务发现/" href="/tags/%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0/" style="font-size: 1.15em; color: rgb(3, 22, 62)">服务发现<sup>1</sup></a><a id="tags/数据库优化/" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96/" style="font-size: 1.15em; color: rgb(155, 104, 11)">数据库优化<sup>1</sup></a><a id="tags/容器编排/" href="/tags/%E5%AE%B9%E5%99%A8%E7%BC%96%E6%8E%92/" style="font-size: 1.15em; color: rgb(0, 15, 187)">容器编排<sup>1</sup></a><a id="tags/Prometheus/" href="/tags/Prometheus/" style="font-size: 1.15em; color: rgb(173, 98, 8)">Prometheus<sup>1</sup></a><a id="tags/StatefuSet/" href="/tags/StatefuSet/" style="font-size: 1.15em; color: rgb(98, 142, 196)">StatefuSet<sup>1</sup></a><a id="tags/Helm-v3/" href="/tags/Helm-v3/" style="font-size: 1.15em; color: rgb(112, 10, 126)">Helm v3<sup>1</sup></a><a id="tags/SHELL/" href="/tags/SHELL/" style="font-size: 1.15em; color: rgb(182, 198, 144)">SHELL<sup>1</sup></a><a id="tags/RAID/" href="/tags/RAID/" style="font-size: 1.15em; color: rgb(25, 26, 41)">RAID<sup>1</sup></a></div></div></div></div><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-sun"></i><i class="fas fa-moon"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="rightmenu"><div class="rightmenu-group rightmenu-small"><div class="rightmenu-item" id="menu-backward" onclick="window.history.back()"><i class="fas fa-arrow-left"></i></div><div class="rightmenu-item" id="menu-forward" onclick="window.history.forward()"><i class="fas fa-arrow-right"></i></div><div class="rightmenu-item" id="menu-refresh" onclick="window.history.reload()"><i class="fas fa-arrow-rotate-right"></i></div><div class="rightmenu-item" id="menu-top" onclick="btf.scrollToDest(0, 500)"><i class="fas fa-arrow-up"></i></div></div><div class="rightmenu-group rightmenu-line" id="rightmenu-text"><div class="rightmenu-item" id="menu-copy"><i class="fas fa-copy"></i><span>复制内容</span></div><div class="rightmenu-item" id="menu-comment"><i class="fas fa-comment"></i><span>引用评论</span></div><div class="rightmenu-item" id="menu-paste"><i class="fas fa-paste"></i><span>粘贴文本</span></div><div class="rightmenu-item" id="menu-search"><i class="fas fa-search"></i><span>在本站搜索</span></div><div class="rightmenu-item" id="menu-baidu"><i class="fas fa-search-plus"></i><span>去百度搜索</span></div></div><div class="rightmenu-group rightmenu-line" id="rightmenu-href"><div class="rightmenu-item" id="menu-copy-image"><i class="fas fa-copy"></i><span>复制图片</span></div><div class="rightmenu-item" id="menu-download-image"><i class="fas fa-download"></i><span>下载图片</span></div><div class="rightmenu-item" id="menu-link"><i class="fas fa-link"></i><span>分享链接</span></div><div class="rightmenu-item" id="menu-window"><i class="fas fa-window-restore"></i><span>新窗口打开</span></div></div><div class="rightmenu-group rightmenu-line" id="rightmenu-post"><a class="rightmenu-item" id="menu-random" href="/random/"><i class="fas fa-random"></i><span>随机文章</span></a><a class="rightmenu-item" id="menu-categories" href="/categories/"><i class="fas fa-shapes"></i><span>全部分类</span></a><a class="rightmenu-item" id="menu-tags" href="/tags/"><i class="fas fa-tags"></i><span>所有标签</span></a><div class="rightmenu-item" id="menu-share"><i class="fas fa-share-square"></i><span>分享本页</span></div></div><div class="rightmenu-group rightmenu-line" id="rightmenu-site"><a class="rightmenu-item" id="menu-message" href="/message/"><i class="fas fa-envelope"></i><span>留言信箱</span></a><a class="rightmenu-item" id="menu-about" href="/about/"><i class="fas fa-address-card"></i><span>关于本站</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/eurkon/color-thief.min.js"></script><script defer src="/js/eurkon/eurkon.js"></script><script defer data-pjax src="/js/eurkon/refresh.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script defer data-pjax async src="//at.alicdn.com/t/font_2358265_expoyqe85d4.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/haru01.model.json"},"bottom":-40,"display":{"position":"right","width":190,"height":380,"hOffset":5},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html><script>var posts=["forward/60c1bc2d.html","forward/408a4bb8.html","forward/882d9505.html","forward/d063782.html","forward/download.html","forward/17b35260.html","forward/131c756.html","forward/47eea66c.html","forward/873540ab.html","forward/eb065b59.html","forward/d12df344.html","forward/8f91bfec.html","forward/d5b63f7f.html","forward/f9d199b7.html","forward/420acb0d.html","forward/bac240f7.html","forward/1e56645c.html","forward/d7240237.html","forward/c4bb5371.html","forward/6c0d75ae.html","forward/3053135c.html","forward/74c8159a.html","forward/c919a25c.html","forward/bbb9c58b.html","forward/557ea64b.html","forward/49de8711.html","forward/c3e1b71a.html","forward/f34e607d.html","forward/bc8a646.html","forward/93ea067.html","forward/62bf20bb.html","forward/cb26d424.html","forward/3c4a0863.html","forward/ddc093b3.html","forward/4f3d60c1.html","forward/a7fae6f0.html","forward/36cbf320.html","forward/ae362167.html","forward/67af6371.html","forward/fb94f251.html","forward/212d60e3.html","forward/fabc6ce1.html","forward/b571ca78.html","forward/ae26d423.html","forward/2f09977b.html","forward/f353577b.html","forward/3837938a.html","forward/7be7c575.html","forward/48a90e5c.html","forward/5234d9e2.html","forward/4a17b156.html","forward/3ea5fff1.html","forward/2aa52898.html","forward/ad8d3f77.html","forward/55d102bd.html","forward/1758bdeb.html","forward/6cfd7a23.html","forward/8cd3cd17.html","forward/8e9bbd7d.html","forward/d4ac701.html","forward/2cfbf2d2.html","forward/d6f16b84.html","forward/8bd2a16a.html","forward/91db5a91.html","forward/29b0e6a9.html","forward/d36764c1.html","forward/852a3e1.html","forward/13c392b.html","forward/40c70ce.html","forward/c3e55136.html","forward/84c0fcc7.html","forward/69e1266e.html","forward/663d93c2.html","forward/68023dec.html","forward/da64184b.html","forward/ae6c7518.html","forward/3df8560c.html","forward/b36ee5af.html","forward/1051b489.html","forward/dc57d8c4.html","forward/61316209.html","forward/503970b4.html","forward/ff7280bd.html","forward/b17eefd4.html","forward/5c41384a.html","forward/14a32ee2.html","forward/58eea07e.html","forward/6b4e4d76.html","forward/dc57d8c5.html","forward/7139bb18.html","forward/649a95fd.html","forward/57e2aa11.html","forward/312ec9e0.html"];function toRandomPost(){ window.pjax ? pjax.loadUrl('/'+posts[Math.floor(Math.random()*posts.length)]) : window.open('/'+posts[Math.floor(Math.random()*posts.length)], "_self"); };</script><script>var flinks=[{"name":"Eurkon","link":"https://blog.eurkon.com","avatar":"https://blog.eurkon.com/images/user/avatar.jpg","descr":"不只是代码的搬运工"},{"name":"一朵大呲花","link":"https://www.iiemo.com/","avatar":"https://www.iiemo.com/logo.png","descr":"资深NB前端大佬"},{"name":"豌豆多多","link":"https://wandouduoduo.github.io/","avatar":"/img/link/index.png","descr":"资深沪漂运维工程师"},{"name":"周小雨","link":"https://zxyy.me/","avatar":"https://q2.qlogo.cn/headimg_dl?dst_uin=1016673080&spec=100","descr":"PHP程序猿"},{"name":"ACG食堂","link":"https://canteen.globalacca.top/","avatar":"https://q2.qlogo.cn/headimg_dl?dst_uin=1478030465&spec=100","descr":"汇集ACG、动漫和galgame为一体的综合小站"},{"name":"缺缺","link":"https://www.quewaner.com/","avatar":"https://q2.qlogo.cn/headimg_dl?dst_uin=3393597524&spec=100","descr":"资深前端工程师"},{"name":"yiyun","link":"https://moeci.com/","avatar":"https://q2.qlogo.cn/headimg_dl?dst_uin=2284407619&spec=100","descr":"全栈开发"},{"name":"二哈小窝","link":"https://www.moeeh.cn/","avatar":"https://www.moeeh.cn/eh/eh.png","descr":"苦酒折柳今相离 无风无月也无你"},{"name":"Akilarの糖果屋","link":"https://akilar.top/","avatar":"https://unpkg.zhimg.com/akilar-candyassets/image/siteicon/favicon.png","descr":"期待您的光临！"},{"name":"小高导航","link":"https://www.dhw22.com/","avatar":"https://www.dhw22.com/wp-content/uploads/2022/01/Favicon.png","descr":"资源类技术教程活动导航分类平台"},{"name":"华为开源镜像站","link":"https://mirrors.huaweicloud.com/","avatar":"/img/link/huawei.png","descr":"构建万物互联的智能世界"},{"name":"阿里开源镜像站","link":"https://mirrors.aliyun.com/","avatar":"/img/link/aliyun.png","descr":"为了无法计算的价值"},{"name":"网易开源镜像站","link":"https://mirrors.163.com/","avatar":"/img/link/netease.png","descr":"网聚人的力量"},{"name":"搜狐开源镜像站","link":"https://mirrors.sohu.com/","avatar":"/img/link/souhu.png","descr":"上搜狐 知天下"},{"name":"清华开源镜像站","link":"https://mirrors.tuna.tsinghua.edu.cn/","avatar":"/img/link/qh.png","descr":"自强不息,厚德载物"},{"name":"浙大开源镜像站","link":"https://mirrors.zju.edu.cn/","avatar":"/img/link/zd.png","descr":"兼总条贯,知至知终"},{"name":"中科大开源镜像站","link":"https://mirrors.ustc.edu.cn/","avatar":"/img/link/zkd.png","descr":"红专并进,理实交融"},{"name":"兰大开源镜像站","link":"https://mirror.lzu.edu.cn/","avatar":"/img/link/ld.png","descr":"独树一帜,自强不息"}];function toRandomFlink(){window.open(flinks[Math.floor(Math.random()*flinks.length)].link);};</script>